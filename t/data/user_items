[{"id":8631,"uuid":"dd4fce78b1bc32b64600","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u76e3\u8996\u30b5\u30fc\u30d3\u30b9\u306eNew Relic\u304c\u8d85\u4fbf\u5229\u306a\u4ef6","body":"<blockquote>\n<p>12/09/05 \u76e3\u8996\u5bfe\u8c61\u306eWeb\u30b5\u30fc\u30d3\u30b9\u306eURL\u3092\u9593\u9055\u3048\u3066\u3044\u305f\u305f\u3081\u4fee\u6b63\u3057\u307e\u3057\u305f</p>\n</blockquote>\n\n<p>Rails\u306eAdvent Calendar\u3092\u5f85\u3061\u308f\u3073\u3066\u3044\u307e\u3057\u305f\uff0e<br>\n\u4eca\u56de\u306f\uff0c<a href=\"http://gihyo.jp/magazine/wdpress/archive/2012/vol70\">WEB+DB\u306e\u6700\u65b0\u53f7</a>\u306eRails\u9ad8\u901f\u5316\u8a18\u4e8b\u3067\u7d39\u4ecb\u3055\u308c\u3066\u3044\u305f\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u76e3\u8996\u30b5\u30fc\u30d3\u30b9\u306eNew Relic\u3092\u4f7f\u3063\u3066\u307f\u305f\u8a71\u3067\u3059\uff0e</p>\n\n<p><a href=\"http://newrelic.com/\">New Relic</a>\u306f\uff0enewrelic_rpm\u3068\u3044\u3046gem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u306b\u3088\u308a\uff0c\u30ec\u30b9\u30dd\u30f3\u30b9\u30bf\u30a4\u30e0\u3084\u30b9\u30ed\u30fc\u30af\u30a8\u30ea\u306a\u3069\uff0c\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306b\u95a2\u3059\u308b\u3055\u307e\u3056\u307e\u306a\u7d71\u8a08\u60c5\u5831\u3092New Relic\u306e\u30b5\u30a4\u30c8\u3067\u307f\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff0e</p>\n\n<p>Rails\u306b\u9650\u3089\u305aPython\u3084Java\u306a\u3069\u3044\u308d\u3044\u308d\u306a\u8a00\u8a9e\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3059\uff0e<br>\n\u3055\u3089\u306b\uff0cHeroku\u3084DotCloud\u306a\u3069\u306ePaaS\u306b\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u3066\u3084\u3070\u3044\uff0e</p>\n\n<h2>Heroku\u306eNew Relic\u30d7\u30e9\u30b0\u30a4\u30f3</h2>\n\n<p>Heroku\u306b\u30db\u30b9\u30c8\u3057\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u76e3\u8996\u3059\u308b\u305f\u3081\u306b\u306f<a href=\"https://addons.heroku.com/newrelic\">New Relic\u30d7\u30e9\u30b0\u30a4\u30f3</a>\u3092\u5c0e\u5165\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0e<br>\n\u5c0e\u5165\u306e\u624b\u9806\u306f\u3053\u3061\u3089(<a href=\"https://devcenter.heroku.com/articles/newrelic\">https://devcenter.heroku.com/articles/newrelic</a>)</p>\n\n<p>New Relic\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u306f\u7121\u6599\u7248\u3068\u6709\u6599\u7248\u304c\u3042\u308a\uff0c\u6709\u6599\u7248\u306e\u307b\u3046\u304c\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u671f\u9593\u304c\u9577\u304b\u3063\u305f\u308a\uff0c\u767a\u884c\u3055\u308c\u305fSQL\u6587\u3084EXPLAIN\u306e\u51fa\u529b\u304c\u898b\u308c\u305f\u308a\u3059\u308b\u3088\u3046\u3067\u3059\uff0e<br>\n\u500b\u4eba\u7684\u306b\u306f\u7121\u6599\u7248\u3067\u5341\u5206\u3067\u3057\u305f\uff0e</p>\n\n<p>\u4ee5\u4e0b\u3067\u306f7\u6708\u306b\u516c\u958b\u3057\u305f<a href=\"http://daily-coding.herokuapp.com\">DailyCoding</a>\u3068\u3044\u3046\u30b5\u30fc\u30d3\u30b9\u3092\u76e3\u8996\u5bfe\u8c61\u3068\u3057\u3066\u3044\u307e\u3059\uff0e</p>\n\n<h3>DailyCoding\u306e\u74b0\u5883</h3>\n\n<ul>\n<li>Rails 3.2.8</li>\n<li>Unicorn</li>\n<li>Heroku\uff08\u7121\u6599\uff09</li>\n<li>100PV/\u65e5\uff08\u5f31\u5c0f\uff09</li>\n<li>1\u30c6\u30fc\u30d6\u30eb\u306e\u30a8\u30f3\u30c8\u30ea\u6570\u306f\u305b\u3044\u305c\u3044\u6570\u767e\u500b\uff08\u5f31\u5c0f\uff09</li>\n</ul>\n\n<p>\u3067\u306f\uff0cNew Relic\u306e\u4e3b\u8981\u306a\u30b0\u30e9\u30d5\u3092\u9806\u756a\u306b\u307f\u3066\u3044\u304d\u307e\u3059\uff0e</p>\n\n<h2>\u30d6\u30e9\u30a6\u30b6\u306e\u30da\u30fc\u30b8\u30ed\u30fc\u30c9\u6642\u9593\u306e\u5185\u8a33</h2>\n\n<p><img src=\"http://cdn-ak.f.st-hatena.com/images/fotolife/y/y_uuki/20120831/20120831181514_original.png?1346405001\" alt=\"\u30d6\u30e9\u30a6\u30b6\"></p>\n\n<p>\u30d6\u30e9\u30a6\u30b6\u306e\u30da\u30fc\u30b8\u30ed\u30fc\u30c9\u6642\u9593 = Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406\u6642\u9593 + \u30d6\u30e9\u30a6\u30b6-Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d0\u9593\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u6642\u9593<br>\n   + \u30d6\u30e9\u30a6\u30b6\u306eDOM\u306e\u69cb\u7bc9\u6642\u9593 + \u30d6\u30e9\u30a6\u30b6\u306e\u30da\u30fc\u30b8\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u6642\u9593<br>\n\u3068\u306a\u308a\u307e\u3059\uff0e<br>\n\u660e\u3089\u304b\u306b\u901a\u4fe1\u6642\u9593\u304c\u30dc\u30c8\u30eb\u30cd\u30c3\u30af\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\uff0e(DOM\u69cb\u7bc9\u6642\u9593\u3082\u305d\u3053\u305d\u3053\u6642\u9593\u304b\u304b\u3063\u3066\u308b)<br>\nHeroku\u306e\u6771\u4eac\u30ea\u30fc\u30b8\u30e7\u30f3\u307e\u3060\u30fc</p>\n\n<h2>Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u30bf\u30a4\u30e0\u5185\u8a33</h2>\n\n<p><img src=\"http://cdn-ak.f.st-hatena.com/images/fotolife/y/y_uuki/20120831/20120831181512_original.png?1346404745\" alt=\"AP\u30b5\u30fc\u30d0\"></p>\n\n<p>Ruby(Rails\u306b\u3088\u308b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u51e6\u7406\u3068\u304b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u51e6\u7406\u3068\u304b)\uff0cDB\u304a\u3088\u3073Web External\uff08\u5916\u90e8\u30b5\u30a4\u30c8\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u6642\u9593\uff09\u306a\u3069\u306e\u51e6\u7406\u6642\u9593\u306e\u5408\u8a08\u304cWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u3057\u3066\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u30bf\u30a4\u30e0\u3068\u306a\u308a\u307e\u3059\uff0e<br>\nDB\u306e\u51e6\u7406\u6642\u9593\u304c\u652f\u914d\u7684\u306a\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\uff0e</p>\n\n<h2>DB\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u30bf\u30a4\u30e0\u5185\u8a33</h2>\n\n<p>\u4e0b\u306e\u56f3\u306fActiveRecord\u306e\u30af\u30a8\u30ea\u3054\u3068\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u30bf\u30a4\u30e0\u3092\u793a\u3057\u3066\u3044\u307e\u3059\uff0e(\u6b63\u78ba\u306b\u306f\u7e26\u8ef8\u306f\u30ec\u30b9\u30dd\u30f3\u30b9\u30bf\u30a4\u30e0\u3067\u306f\u306a\u304f\uff0c\u30c8\u30fc\u30bf\u30eb\u306eDB\u6642\u9593\u306e\u3046\u3061\u306e\u5f53\u8a72\u30af\u30a8\u30ea\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u30bf\u30a4\u30e0\u306e\u5272\u5408\uff0e\u591a\u5206\uff0c\u30b0\u30e9\u30d5\u3092\u30ab\u30b9\u30bf\u30e0\u3059\u308c\u3070\u7e26\u8ef8\u3092\u30ec\u30b9\u30dd\u30f3\u30b9\u30bf\u30a4\u30e0\u306b\u3067\u304d\u308b\uff1f\uff09</p>\n\n<p><img src=\"http://cdn-ak.f.st-hatena.com/images/fotolife/y/y_uuki/20120831/20120831183143_original.png?1346405516\" alt=\"DB\"></p>\n\n<h2>Rails\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u30bf\u30a4\u30e0\u5185\u8a33</h2>\n\n<p><img src=\"http://cdn-ak.f.st-hatena.com/images/fotolife/y/y_uuki/20120831/20120831181513_original.png\" alt=\"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\"></p>\n\n<h2>\u305d\u306e\u4ed6</h2>\n\n<ul>\n<li>\u4ed6\u306b\u3082\u3044\u308d\u3044\u308d\u306a\u30c7\u30fc\u30bf</li>\n<li>\u5404\u30b0\u30e9\u30d5\u306e\u3046\u3061\uff0c\u81ea\u5206\u306b\u5fc5\u8981\u306a\u3082\u306e\u3060\u3051\u3092\u9078\u3093\u3067\u4e00\u89a7\u3067\u304d\u308b\u6a5f\u80fd</li>\n<li>\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3060\u3051\u3067\u306a\u304f\u30b5\u30fc\u30d0\u30a8\u30e9\u30fc\u306e\u76e3\u8996</li>\n<li>\u9031\u3054\u3068\u306e\u30b5\u30de\u30ea\u30fc\u3084\u30a2\u30e9\u30fc\u30c8\u306e\u30e1\u30fc\u30eb\u306b\u3088\u308b\u901a\u77e5</li>\n<li>\u30c7\u30fc\u30bf\u3092\u65e5\u5358\u4f4d\u3082\u3057\u304f\u306f\u9031\u5358\u4f4d\u3067\u6bd4\u8f03</li>\n<li>\u628a\u63e1\u3067\u304d\u3066\u3044\u306a\u3044\u6a5f\u80fd\u304c\u4ed6\u306b\u3082\u3044\u308d\u3044\u308d\u3042\u308a\u305d\u3046\uff0e</li>\n</ul>\n\n<h2>\u307e\u3068\u3081</h2>\n\n<p>New Relic\u306e\u304a\u304b\u3052\u3067\u30dc\u30c8\u30eb\u30cd\u30c3\u30af\u304c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u6642\u9593\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3057\u305f\uff0e<br>\n\u3053\u306e\u30dc\u30c8\u30eb\u30cd\u30c3\u30af\u3092\u6392\u9664\u3059\u308b\u305f\u3081\u306b\u306f\uff0c\u8ee2\u9001\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306e\u6570\u304a\u3088\u3073\u30b5\u30a4\u30ba\u3092\u6e1b\u3089\u3059\u5fc5\u8981\u304c\u3042\u308a\u305d\u3046\u3067\u3059\uff0c<br>\n\u306a\u308b\u3079\u304f\u30d6\u30e9\u30a6\u30b6\u5074\u3067\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u305b\u305f\u308a\uff0c\u30d5\u30a1\u30a4\u30eb\u3092\u5727\u7e2e\u3057\u305f\u308a...<br>\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5074\u3067\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\u3068\u304bSQL\u30af\u30a8\u30ea\u306e\u767a\u884c\u56de\u6570\u3092\u6e1b\u3089\u3059\u3068\u304b\u3057\u3066\u3082\u3042\u3093\u307e\u308a\u610f\u5473\u306a\u304b\u3063\u305f\u3093\u3084\uff0e</p>\n\n<p>\u3068\u3044\u3046\u308f\u3051\u3067New Relic\u4fbf\u5229\uff01</p>\n\n<p>\u660e\u65e5\u306e\u62c5\u5f53\u306f<a href=\"http://qiita.com/users/puriketu99\">@puriketu99</a>\u3055\u3093\u3067\u3059\uff0e<br>\n\u3088\u308d\u3057\u304f\u304a\u306d\u304c\u3044\u3057\u307e\u3059\uff0e</p>\n","created_at":"2012-09-01 14:04:49 +0900","updated_at":"2012-09-05 16:08:05 +0900","created_at_in_words":"1\u30f6\u6708\u524d","updated_at_in_words":"1\u30f6\u6708\u524d","tags":[{"name":"heroku","url_name":"heroku","icon_url":"http://qiita.com/system/tags/icons/000/000/159/thumb/heroku_logo.png?1336991816","item_count":55,"follower_count":135,"versions":[]},{"name":"Rails","url_name":"Rails","icon_url":"http://qiita.com/system/tags/icons/000/000/034/thumb/Ruby_on_Rails_logo.jpeg?1320170723","item_count":452,"follower_count":431,"versions":[]},{"name":"AdventCalendar","url_name":"AdventCalendar","icon_url":"http://qiita.com/system/tags/icons/000/000/192/thumb/santa_noel_pere.jpg?1322794701","item_count":124,"follower_count":59,"versions":[]}],"stock_count":55,"stock_users":["toshimitsu-miyachi@github","yuya_presto","d_forest","capandlow","u-pyon@github","yoshi166","ongaeshi","kysnm","suisui","odakazu0930","one_pattern","yahsan2@github","croudsky@github","hrst","gungle","mutomasa","noli0","yusuke_1031","noromanba@github","inouetakuya"],"comment_count":4,"url":"http://qiita.com/items/dd4fce78b1bc32b64600","gist_url":null,"private":false,"created_at_as_seconds":1346475889},{"id":8425,"uuid":"8b448dfb310e0cd7c0d0","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"ps aux | grep \u3088\u308a\u3082pgrep\u3067\u30d7\u30ed\u30bb\u30b9\u3092\u63a2\u3059\u3068\u697d","body":"<p>\u4eca\u307e\u3067\u30d7\u30ed\u30bb\u30b9\u3092\u6bba\u3059\u306e\u306b</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre>$ <span class=\"n\">ps</span> <span class=\"n\">aux</span> <span class=\"o\">|</span> <span class=\"n\">grep</span> <span class=\"n\">microsoft</span>\n$ <span class=\"n\">kill</span> <span class=\"n\">PID</span>\n</pre>\n</div>\n</div>\n<p>\u3068\u304b\u3084\u3063\u3066\u307e\u3057\u305f\u304c\uff0cpgrep\u3092\u4f7f\u3046\u3068</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre>$ <span class=\"n\">pgrep</span> <span class=\"o\">-</span><span class=\"n\">fl</span> <span class=\"n\">microsoft</span>\n$ <span class=\"n\">kill</span> <span class=\"n\">PID</span>\n</pre>\n</div>\n</div>\n<p>\u3068\u306a\u308a\uff0c\u82e5\u5e72\u30bf\u30a4\u30d7\u6570\u304c\u6e1b\u308a\u307e\u3059\uff0e\u4fbf\u5229\uff01</p>\n\n<p>\u3055\u3089\u306b\uff0cpkill\u3092\u4f7f\u3046\u3068</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre>$ <span class=\"n\">pkill</span> <span class=\"n\">office</span>\n</pre>\n</div>\n</div>\n<p>\u3053\u308c\u3060\u3051\u3067\u6e08\u307f\u307e\u3059\uff0e</p>\n\n<p>pkill\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fSIGTERM\u3092\u9001\u4fe1\u3059\u308b\u3088\u3046\u3067\u3059\uff0e<br>\nSIGKILL\u3067\u6bba\u3057\u305f\u3051\u308c\u3070\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u5bfe\u5fdc\u3059\u308b\u30b7\u30b0\u30ca\u30eb\u3092\u4ed8\u3051\u307e\u3059\uff0e</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre>$ <span class=\"n\">pkill</span> <span class=\"o\">-</span><span class=\"n\">KILL</span> <span class=\"n\">internetexplore</span>\n</pre>\n</div>\n</div>","created_at":"2012-08-26 23:05:28 +0900","updated_at":"2012-08-26 23:05:28 +0900","created_at_in_words":"1\u30f6\u6708\u524d","updated_at_in_words":"1\u30f6\u6708\u524d","tags":[{"name":"UNIX","url_name":"UNIX","icon_url":"http://qiita.com/system/tags/icons/000/000/333/thumb/Poundexclam.png?1338508869","item_count":23,"follower_count":65,"versions":[]},{"name":"Linux","url_name":"Linux","icon_url":"http://qiita.com/system/tags/icons/000/000/044/thumb/linux.png?1319803291","item_count":170,"follower_count":433,"versions":[]}],"stock_count":22,"stock_users":["tomoattori","mutomasa","shinta009@github","masawo","sora083","shunsuke","yuch_i","Guile_Hair","aki77@github","karinharp","modsound","mizumotter","toshirot","shuhei@github","m_s_modified","mAster_rAdio","fakestarbaby","yahihi@github","mihchang","donalsea"],"comment_count":2,"url":"http://qiita.com/items/8b448dfb310e0cd7c0d0","gist_url":null,"private":false,"created_at_as_seconds":1345989928},{"id":8423,"uuid":"14389dbaaa43d25f3254","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"[Vim] \u30a4\u30f3\u30b5\u30fc\u30c8\u30e2\u30fc\u30c9\u6642\u306e\u4fbf\u5229\u30ad\u30fc\u30de\u30c3\u30d7","body":"<p>Vim\u3067\u306e\u79fb\u52d5\u306f\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u3067\u884c\u3046\u306e\u304c\u666e\u901a\u3067\u3059\u304c\uff0c\u3044\u3061\u3044\u3061ESC\u306a\u308aCtrl-[\u306a\u308a\u3067\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u306b\u623b\u308b\u306e\u304c\u3081\u3093\u3069\u304f\u3055\u3044\u306e\u3067\uff0cvimrc\u306b\u4ee5\u4e0b\u306e\u69d8\u306a\u30ad\u30fc\u30de\u30c3\u30d7\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\uff0e</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">vimrc</span></div><div class=\"highlight\"><pre><span class=\"c\">&quot; insert\u30e2\u30fc\u30c9\u304b\u3089\u629c\u3051\u308b</span>\n<span class=\"nb\">inoremap</span> <span class=\"p\">&lt;</span><span class=\"k\">silent</span><span class=\"p\">&gt;</span> jj <span class=\"p\">&lt;</span>ESC<span class=\"p\">&gt;</span>\n<span class=\"nb\">inoremap</span> <span class=\"p\">&lt;</span><span class=\"k\">silent</span><span class=\"p\">&gt;</span> <span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">j</span><span class=\"p\">&gt;</span> <span class=\"k\">j</span>\n<span class=\"nb\">inoremap</span> <span class=\"p\">&lt;</span><span class=\"k\">silent</span><span class=\"p\">&gt;</span> kk <span class=\"p\">&lt;</span>ESC<span class=\"p\">&gt;</span>\n<span class=\"nb\">inoremap</span> <span class=\"p\">&lt;</span><span class=\"k\">silent</span><span class=\"p\">&gt;</span> <span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">k</span><span class=\"p\">&gt;</span> <span class=\"k\">k</span>\n\n<span class=\"c\">&quot; \u884c\u982d\u30fb\u884c\u672b\u79fb\u52d5\u65b9\u5411\u3092\u30ad\u30fc\u306e\u76f8\u5bfe\u4f4d\u7f6e\u306b\u3042\u308f\u305b\u308b</span>\n<span class=\"nb\">nnoremap</span> <span class=\"m\">0</span> $ \n<span class=\"nb\">nnoremap</span> <span class=\"m\">1</span> <span class=\"m\">0</span> \n\n<span class=\"c\">&quot; \u633f\u5165\u30e2\u30fc\u30c9\u3067\u306e\u30ab\u30fc\u30bd\u30eb\u79fb\u52d5</span>\n<span class=\"nb\">inoremap</span> <span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">j</span><span class=\"p\">&gt;</span> <span class=\"p\">&lt;</span>Down<span class=\"p\">&gt;</span>\n<span class=\"nb\">inoremap</span> <span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">k</span><span class=\"p\">&gt;</span> <span class=\"p\">&lt;</span>Up<span class=\"p\">&gt;</span>\n<span class=\"nb\">inoremap</span> <span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">h</span><span class=\"p\">&gt;</span> <span class=\"p\">&lt;</span>Left<span class=\"p\">&gt;</span>\n<span class=\"nb\">inoremap</span> <span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">l</span><span class=\"p\">&gt;</span> <span class=\"p\">&lt;</span>Right<span class=\"p\">&gt;</span>\n\n<span class=\"c\">&quot; \u30ab\u30fc\u30bd\u30eb\u524d\u306e\u6587\u5b57\u524a\u9664</span>\n<span class=\"nb\">inoremap</span> <span class=\"p\">&lt;</span><span class=\"k\">silent</span><span class=\"p\">&gt;</span> <span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">h</span><span class=\"p\">&gt;</span> <span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">g</span><span class=\"p\">&gt;</span><span class=\"k\">u</span><span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">h</span><span class=\"p\">&gt;</span>\n<span class=\"c\">&quot; \u30ab\u30fc\u30bd\u30eb\u5f8c\u306e\u6587\u5b57\u524a\u9664</span>\n<span class=\"nb\">inoremap</span> <span class=\"p\">&lt;</span><span class=\"k\">silent</span><span class=\"p\">&gt;</span> <span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">d</span><span class=\"p\">&gt;</span> <span class=\"p\">&lt;</span>Del<span class=\"p\">&gt;</span>\n<span class=\"c\">&quot; \u30ab\u30fc\u30bd\u30eb\u304b\u3089\u884c\u982d\u307e\u3067\u524a\u9664</span>\n<span class=\"nb\">inoremap</span> <span class=\"p\">&lt;</span><span class=\"k\">silent</span><span class=\"p\">&gt;</span> <span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">d</span><span class=\"p\">&gt;</span><span class=\"k\">e</span> <span class=\"p\">&lt;</span>Esc<span class=\"p\">&gt;</span><span class=\"k\">lc</span>^\n<span class=\"c\">&quot; \u30ab\u30fc\u30bd\u30eb\u304b\u3089\u884c\u672b\u307e\u3067\u524a\u9664</span>\n<span class=\"nb\">inoremap</span> <span class=\"p\">&lt;</span><span class=\"k\">silent</span><span class=\"p\">&gt;</span> <span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">d</span><span class=\"p\">&gt;</span><span class=\"m\">0</span> <span class=\"p\">&lt;</span>Esc<span class=\"p\">&gt;</span><span class=\"k\">lc</span>$\n<span class=\"c\">&quot; \u30ab\u30fc\u30bd\u30eb\u304b\u3089\u884c\u982d\u307e\u3067\u30e4\u30f3\u30af</span>\n<span class=\"nb\">inoremap</span> <span class=\"p\">&lt;</span><span class=\"k\">silent</span><span class=\"p\">&gt;</span> <span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">y</span><span class=\"p\">&gt;</span><span class=\"k\">e</span> <span class=\"p\">&lt;</span>Esc<span class=\"p\">&gt;</span>ly0<span class=\"p\">&lt;</span>Insert<span class=\"p\">&gt;</span>\n<span class=\"c\">&quot; \u30ab\u30fc\u30bd\u30eb\u304b\u3089\u884c\u672b\u307e\u3067\u30e4\u30f3\u30af</span>\n<span class=\"nb\">inoremap</span> <span class=\"p\">&lt;</span><span class=\"k\">silent</span><span class=\"p\">&gt;</span> <span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">y</span><span class=\"p\">&gt;</span><span class=\"m\">0</span> <span class=\"p\">&lt;</span>Esc<span class=\"p\">&gt;</span>ly$<span class=\"p\">&lt;</span>Insert<span class=\"p\">&gt;</span>\n\n<span class=\"c\">&quot; \u5f15\u7528\u7b26, \u62ec\u5f27\u306e\u8a2d\u5b9a</span>\n<span class=\"nb\">inoremap</span> { {}<span class=\"p\">&lt;</span>Left<span class=\"p\">&gt;</span>\n<span class=\"nb\">inoremap</span> [ []<span class=\"p\">&lt;</span>Left<span class=\"p\">&gt;</span>\n<span class=\"nb\">inoremap</span> <span class=\"p\">(</span> <span class=\"p\">()&lt;</span>Left<span class=\"p\">&gt;</span>\n<span class=\"nb\">inoremap</span> <span class=\"s2\">&quot; &quot;</span>&quot;<span class=\"p\">&lt;</span>Left<span class=\"p\">&gt;</span>\n<span class=\"nb\">inoremap</span> <span class=\"s1\">&#39; &#39;</span>&#39;<span class=\"p\">&lt;</span>Left<span class=\"p\">&gt;</span>\n<span class=\"nb\">inoremap</span> <span class=\"p\">&lt;&gt;</span> <span class=\"p\">&lt;&gt;&lt;</span>Left<span class=\"p\">&gt;</span>\n</pre>\n</div>\n</div>","created_at":"2012-08-26 22:19:40 +0900","updated_at":"2012-08-26 22:43:49 +0900","created_at_in_words":"1\u30f6\u6708\u524d","updated_at_in_words":"1\u30f6\u6708\u524d","tags":[{"name":"Vim","url_name":"Vim","icon_url":"http://qiita.com/system/tags/icons/000/000/008/thumb/vim-editor_logo.png?1316130850","item_count":191,"follower_count":2259,"versions":[]}],"stock_count":8,"stock_users":["rysk_t","muratas@github","fukajun","mAster_rAdio","yahihi@github","torshinor","rohinomiya","emag@github"],"comment_count":2,"url":"http://qiita.com/items/14389dbaaa43d25f3254","gist_url":null,"private":false,"created_at_as_seconds":1345987180},{"id":8408,"uuid":"2bd346af7e03f76b5ea3","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"vim-unite-vcs\u304c\u4fbf\u5229\u305d\u3046","body":"<ul>\n<li><p><a href=\"https://github.com/hrsh7th/vim-unite-vcs\">GitHub - vim-unite-vcs</a></p></li>\n<li><p><a href=\"http://d.hatena.ne.jp/hrsh7th/20120722/1342967463\">unite \u3067 vcs \u306e\u64cd\u4f5c\u3092\u884c\u3048\u308b\u30bd\u30fc\u30b9\u66f8\u3044\u305f</a></p></li>\n</ul>\n\n<p>Unite\u306e\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3067Git\u3084Subversion\u306a\u3069\u306e\u5404VCS\u3092\u900f\u904e\u7684\u306b\u6271\u3048\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u3042\u3063\u305f\u306e\u3067\u4f7f\u3063\u3066\u307f\u305f\uff0e</p>\n\n<p>\u307e\u3060\uff0c\u8907\u96d1\u306a\u64cd\u4f5c\u306b\u306f\u5bfe\u5fdc\u3057\u3066\u306a\u3044\u307f\u305f\u3044\u3060\u3051\u3069\uff0cstatus\u3084log\u3092Vim\u304b\u3089\u30b5\u30b5\u30c3\u3068\u898b\u308b\u306e\u306b\u4fbf\u5229\u305d\u3046\uff0e</p>\n\n<h3>\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9</h3>\n\n<p>:Unite vcs/log - \u30ed\u30b0\u3092\u307f\u308b<br>\n:Unite vcs/status - status\u3092\u307f\u308b<br>\n:Unite vcs/file_rec - \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\u3092\u307f\u308b </p>\n\n<p>\u81ea\u5206\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u30ce\u30fc\u30de\u30eb\u30e2\u30fc\u30c9\u304b\u3089vl, vs, vr\u3067\u305d\u308c\u305e\u308c\u306e\u30b3\u30de\u30f3\u30c9\u3092\u547c\u3073\u51fa\u305b\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u305f\uff0e</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">vimrc</span></div><div class=\"highlight\"><pre><span class=\"c\">&quot; --------------------------------</span>\n<span class=\"c\">&quot; vim-unite-vcs</span>\n<span class=\"c\">&quot; --------------------------------</span>\n<span class=\"nb\">nnoremap</span>  [vcs] <span class=\"p\">&lt;</span>Nop<span class=\"p\">&gt;</span>\nnmap      fv     [vcs]\n\n<span class=\"nb\">nnoremap</span> [vcs]<span class=\"k\">l</span>  :<span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">u</span><span class=\"p\">&gt;</span>Unite vcs/log<span class=\"p\">&lt;</span>CR<span class=\"p\">&gt;</span>\n<span class=\"nb\">nnoremap</span> [vcs]<span class=\"k\">s</span>  :<span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">u</span><span class=\"p\">&gt;</span>Unite vcs/status<span class=\"p\">&lt;</span>CR<span class=\"p\">&gt;</span>\n<span class=\"nb\">nnoremap</span> [vcs]<span class=\"k\">r</span>  :<span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">u</span><span class=\"p\">&gt;</span>Unite vcs/file_rec<span class=\"p\">&lt;</span>CR<span class=\"p\">&gt;</span>\n</pre>\n</div>\n</div>\n<p>\u4eca\u5f8c\u306e\u958b\u767a\u9032\u884c\u306b\u671f\u5f85\uff0e</p>\n\n<p>Git\u9650\u5b9a\u3067\u3082\u3046\u5c11\u3057\u8907\u96d1\u306a\u64cd\u4f5c\u3092\u3059\u308b\u5834\u5408\u306f<br>\n<a href=\"https://github.com/kmnk/vim-unite-giti\">Github - vim-unite-giti</a><br>\n\u3092\u4f7f\u3046\u3068\u3088\u3055\u305d\u3046\uff0e</p>\n","created_at":"2012-08-26 14:47:57 +0900","updated_at":"2012-08-26 17:45:33 +0900","created_at_in_words":"1\u30f6\u6708\u524d","updated_at_in_words":"1\u30f6\u6708\u524d","tags":[{"name":"Vim","url_name":"Vim","icon_url":"http://qiita.com/system/tags/icons/000/000/008/thumb/vim-editor_logo.png?1316130850","item_count":191,"follower_count":2259,"versions":[]},{"name":"git","url_name":"git","icon_url":"http://qiita.com/system/tags/icons/000/000/049/thumb/Git-Icon-1788C.png?1339654953","item_count":217,"follower_count":759,"versions":[]}],"stock_count":0,"stock_users":[],"comment_count":0,"url":"http://qiita.com/items/2bd346af7e03f76b5ea3","gist_url":null,"private":false,"created_at_as_seconds":1345960077},{"id":7166,"uuid":"0f8c093bd25eac3119a0","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"Rails\u306e\u30ed\u30b0\u304b\u3089&quot;Could not determine content-length ...&quot;\u3068\u304b\u3067\u3066\u308b\u306e\u3092\u6d88\u3059","body":"<p>Ruby 1.9.3 + Rails 3.2.x \u74b0\u5883\u3067\u306fWEBrick\u306e\u30ed\u30b0\u306b\u4ee5\u4e0b\u306e\u69d8\u306aWarning\u304c\uff11\u30ea\u30af\u30a8\u30b9\u30c8\u3042\u305f\u308a\u6570\u56de\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\uff0e</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre><span class=\"n\">WARN</span>  <span class=\"n\">Could</span> <span class=\"ow\">not</span> <span class=\"n\">determine</span> <span class=\"n\">content</span><span class=\"o\">-</span><span class=\"nb\">length</span> <span class=\"n\">of</span> <span class=\"n\">response</span> <span class=\"n\">body</span><span class=\"o\">.</span> <span class=\"n\">Set</span> <span class=\"n\">content</span><span class=\"o\">-</span><span class=\"nb\">length</span> <span class=\"n\">of</span> <span class=\"n\">the</span> <span class=\"n\">response</span> <span class=\"ow\">or</span> <span class=\"n\">set</span> <span class=\"n\">Response</span><span class=\"c1\">#chunked = true </span>\n</pre>\n</div>\n</div>\n<p>\u3053\u308c\u304c\u7d50\u69cb\u30a6\u30b6\u30a4\u3067\u3059\uff0e\u3067\u3059\u304c\uff0c<br>\nWEBrick\u306e\u4ee3\u308f\u308a\u306bthin\u3092\u4f7f\u3046\u3068\u51fa\u529b\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3059\uff0e</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">Gemfile</span></div><div class=\"highlight\"><pre><span class=\"n\">gem</span> <span class=\"n\">thin</span>\n</pre>\n</div>\n</div>\n<p>Gemfile\u306b\u66f8\u3044\u3066\u304a\u304f\u3068\uff0cRails3.2\u304b\u3089\u306f<code>rails server</code>\u30b3\u30de\u30f3\u30c9\u3067thin\u304c\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u306a\u308b\u305d\u3046\u3067\u3059\uff0e</p>\n\n<h2>\u53c2\u8003</h2>\n\n<p><a href=\"http://d.hatena.ne.jp/kitokitoki/20120407/p1\">http://d.hatena.ne.jp/kitokitoki/20120407/p1</a></p>\n","created_at":"2012-07-14 16:34:47 +0900","updated_at":"2012-07-14 16:34:47 +0900","created_at_in_words":"3\u30f6\u6708\u524d","updated_at_in_words":"3\u30f6\u6708\u524d","tags":[{"name":"Rails","url_name":"Rails","icon_url":"http://qiita.com/system/tags/icons/000/000/034/thumb/Ruby_on_Rails_logo.jpeg?1320170723","item_count":452,"follower_count":431,"versions":[]}],"stock_count":1,"stock_users":["marqs"],"comment_count":0,"url":"http://qiita.com/items/0f8c093bd25eac3119a0","gist_url":"https://gist.github.com/3109858","private":false,"created_at_as_seconds":1342251287},{"id":6900,"uuid":"57e726312ffe47592867","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"Vim\u3067\u5feb\u9069\u306aRails\u30e9\u30a4\u30d5\u3092","body":"<p>\u524d\u56de\u306f\uff0c<a href=\"http://qiita.com/users/Daic_h\">Daic_h</a>\u3055\u3093\u306e<a href=\"http://qiita.com/items/ce1e37072cfe8b6baea9\">\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u5b9a\u7fa9\u306e\u30a4\u30c7\u30a3\u30aa\u30e0</a>\u3067\u3057\u305f\uff0e</p>\n\n<p>\u4eca\u65e5\u306fRuby\u3068\u3044\u3046\u304bRails\u306e\u958b\u767a\u74b0\u5883\u306e\u8a71\u3067\u3059\uff0e<br>\nRails\u3067\u30a2\u30d7\u30ea\u958b\u767a\u3059\u308b\u3068\u304d\u306bVim\u3067\u5feb\u9069\u306b\u4f5c\u696d\u3059\u308b\u305f\u3081\u306etips\u3092\u66f8\u304d\u307e\u3057\u305f\uff0e</p>\n\n<h2>Rails\u958b\u767a\u306b\u5f79\u306b\u7acb\u3064Vim\u30d7\u30e9\u30b0\u30a4\u30f3\u305f\u3061</h2>\n\n<ul>\n<li><p><a href=\"https://github.com/tpope/vim-rails/\">rails.vim</a> : \u591a\u5206\u5b9a\u756a\u30d7\u30e9\u30b0\u30a4\u30f3\u3067\u3059\uff0e\u5bfe\u5fdc\u3059\u308b\u30e2\u30c7\u30eb\u30fb\u30d3\u30e5\u30fc\u30fb\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u9593\u3092\u7c21\u5358\u306b\u884c\u304d\u6765\u3067\u304d\u307e\u3059\uff0e\u4e0b\u3067\u8a73\u3057\u304f\u89e3\u8aac\u3057\u307e\u3059\uff0e\u4fbf\u5229\uff01</p></li>\n<li><p><a href=\"https://github.com/scrooloose/nerdtree/\">The-NERD-tree</a> : Rails\u3068\u306f\u95a2\u4fc2\u3042\u308a\u307e\u305b\u3093\u304c\uff0c\u4e0a\u8a18rails.vim\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u72b6\u614b\u3067\uff0cRails\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3044\u3066\uff0c<code>:Rtree</code>\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3064\u3068\uff0c\u30b5\u30d6\u30da\u30a4\u30f3\u5185\u306bRails\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c4\u30ea\u30fc\u304c\u8868\u793a\u3055\u308c\u307e\u3059\uff0e\u4fbf\u5229\uff01</p></li>\n</ul>\n\n<p><img src=\"http://cdn-ak.f.st-hatena.com/images/fotolife/y/y_uuki/20120705/20120705183349_original.png\" alt=\"NERD-tree\"></p>\n\n<ul>\n<li><a href=\"http://www.vim.org/scripts/script.php?script_id=356\">dbext.vim</a>: rails.vim\u3068\u5408\u308f\u305b\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\u3068\uff0cdatabase.yml\u306e\u8a2d\u5b9a\u3092\u81ea\u52d5\u3067\u8aad\u307f\u8fbc\u3093\u3067\u304f\u308c\u3066\uff0c<code>:Select * from users;</code>\u306e\u3088\u3046\u306bVim\u304b\u3089\u76f4\u63a5SQL\u3092\u53e9\u3044\u3066\u7d50\u679c\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff0e\u4fbf\u5229\uff01</li>\n</ul>\n\n<p><img src=\"http://cdn-ak.f.st-hatena.com/images/fotolife/y/y_uuki/20120705/20120705184353_original.png\" alt=\"dbext\"></p>\n\n<h2>rails.vim\u306e\u6a5f\u80fd\u307e\u3068\u3081</h2>\n\n<p>\u4e0a\u3067\u7d39\u4ecb\u3057\u305frails.vim\u306f\u975e\u5e38\u306b\u591a\u6a5f\u80fd\u3067\uff0c\u591a\u5206\u534a\u5206\u3082\u4f7f\u3048\u3066\u306a\u3044\u6c17\u304c\u3057\u307e\u3059\uff0e<br>\n\u3053\u306e\u4e2d\u3067\u666e\u6bb5\u4f7f\u3063\u3066\u3044\u308b\u30b8\u30e3\u30f3\u30d7\u7cfb\u306e\u30b3\u30de\u30f3\u30c9\u3092\u307e\u3068\u3081\u3066\u307f\u307e\u3057\u305f\uff0e</p>\n\n<ul>\n<li><p><code>:R(model/controller/view)</code><br>\n\u30ab\u30ec\u30f3\u30c9\u30d0\u30c3\u30d5\u30a1\u306b\u5bfe\u5fdc\u3057\u305fModel\u3084Controller\u306b\u3068\u3079\u307e\u3059\u3002\u4f8b\u3048\u3070\uff0c<code>UsersController</code>\u3092\u958b\u3044\u3066\u3044\u308b\u3068\u304d\u306b\uff0c<code>:Rmodel</code>\u3059\u308b\u3068<code>/app/models/user.rb</code>\u306b\u3068\u3079\u307e\u3059\uff0e</p></li>\n<li><p><code>:R(model/controller/view) name</code><br>\n\u30ab\u30ec\u30f3\u30c8\u30d0\u30c3\u30d5\u30a1\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f\u305f\u3081\u306b\u4f7f\u3046\uff0e\u4f8b\u3048\u3070\uff0c<code>/app/models/qiita.rb</code>\u306b\u3068\u3073\u305f\u3044\u3068\u304d\u306f\uff0c<code>:Rmodel qiita</code>\u3057\u307e\u3059\uff0e\u3061\u306a\u307f\u306b<code>name</code>\u90e8\u5206\u306f\u88dc\u5b8c\u304c\u52b9\u304d\u307e\u3059\uff0e</p></li>\n</ul>\n\n<p>\u3061\u306a\u307f\u306bR[command]\u306ecommand\u306b\u306fmodel\u3084controller\u4ee5\u5916\u306b<br>\nhelper/spec/javascript/stylesheet/unittest/plugin/lib/task/layout/migration/schema<br>\n\u306a\u3069\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\uff0e</p>\n\n<ul>\n<li><p><code>:A, :R</code><br>\n<code>:A</code>\u3068<code>:R</code>\u306f\u3088\u304f\u4f3c\u3066\u3044\u307e\u3059\uff0e\u3068\u3044\u3046\u304b\uff0c\u9055\u3046\u306e\u306f\u78ba\u304b\u306a\u306e\u3067\u3059\u304c\uff0c\u9055\u3044\u304c\u3088\u304f\u308f\u304b\u3063\u3066\u307e\u3059\uff0ehelp\u3092\u8aad\u3080\u3068<code>:A</code>\u306falternate file\u306b\u3068\u3073\uff0c<code>:R</code>\u306frelated file\u306b\u3068\u3076\u305d\u3046\u3067\u3059\uff0e\u3088\u304f\u308f\u304b\u3089\u306a\u3044\uff0e<br>\n\u624b\u5143\u3067\u9069\u5f53\u306b\u6253\u3061\u8fbc\u3093\u3067\u307f\u308b\u3068\uff0c\u57fa\u672c\u7684\u306b<code>:A</code>\u306f\u5bfe\u5fdc\u3059\u308b\u30c6\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u3068\u3073\u307e\u3059\uff0e\u4e00\u65b9\uff0c<code>:R</code>\u306f\u30ab\u30ec\u30f3\u30c8\u30d0\u30c3\u30d5\u30a1\u304cModel\u306a\u3089\u3070\uff0cdb/schema.rb\u306b\u3068\u3073\u307e\u3059\uff0e\u30ab\u30ec\u30f3\u30c8\u30d0\u30c3\u30d5\u30a1\u304cController\u304b\u3064\u30ab\u30fc\u30bd\u30eb\u4f4d\u7f6e\u304c\u30a2\u30af\u30b7\u30e7\u30f3\u30e1\u30bd\u30c3\u30c9\u5185\u3042\u308c\u3070\uff0c\u5bfe\u5fdc\u3059\u308bView\u306b\u3068\u3073\u307e\u3059\uff0e\u30ab\u30fc\u30bd\u30eb\u4f4d\u7f6e\u304c\u30a2\u30af\u30b7\u30e7\u30f3\u30e1\u30bd\u30c3\u30c9\u306e\u5916\u3067\u3042\u308c\u3070\uff0c\u5bfe\u5fdc\u3059\u308bHelper\u306b\u3068\u3073\u307e\u3059\uff0e</p></li>\n<li><p><code>:R path</code><br>\n<code>config/nvironment.rb</code>\u306a\u3069Rails\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30eb\u30fc\u30c8\u304b\u3089\u306e\u76f8\u5bfe\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3051\u307e\u3059\uff0e</p></li>\n<li><p><code>:RT\uff0c:RS\uff0c:RV\uff0c:RD</code><br>\n\u4e0a\u8a18\u30b3\u30de\u30f3\u30c9\u306eR\u307e\u305f\u306fA\u306e\u76f4\u5f8c\u306b\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b\u3068\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f\u65b9\u6cd5\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\uff0e<br>\n<code>:RT</code> : \u65b0\u898f\u30bf\u30d6<br>\n<code>:RS</code> : \u753b\u9762\u3092\u6c34\u5e73\u5206\u5272<br>\n<code>:RV</code> : \u753b\u9762\u3092\u5782\u76f4\u5206\u5272<br>\n<code>:RD</code> : \u30ab\u30ec\u30f3\u30c8\u30d0\u30c3\u30d5\u30a1\u306b\u30ed\u30fc\u30c9</p></li>\n<li><p><code>gf</code><br>\n\u30ab\u30fc\u30bd\u30eb\u4f4d\u7f6e\u306e\u30b7\u30f3\u30dc\u30eb\u306b\u5fdc\u3058\u3066\u5b9a\u7fa9\u5143\u306b\u30b8\u30e3\u30f3\u30d7\u3057\u3066\u304f\u308c\u307e\u3059\uff0e<br>\n\u4f8b\u3048\u3070\uff0c<code>Use*r.find_all_by_id</code>\u3067gf\u3059\u308b\u3068app/models/user.rb\u3092\u958b\u3051\u307e\u3059\uff0e</p></li>\n</ul>\n\n<h3>\u30ab\u30b9\u30bf\u30e0\u5b9a\u7fa9</h3>\n\n<p>\u4ee5\u4e0a\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u30b8\u30e3\u30f3\u30d7\u7cfb\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3059\u304c\uff0c<code>:R[commmand]</code>\u306e[command]\u90e8\u5206\u3092\u30e6\u30fc\u30b6\u304c\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff0e<br>\n\u50d5\u306f\u6b21\u306e\u3088\u3046\u306a\u30b3\u30de\u30f3\u30c9\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\uff0e<br>\ncontrollers/api\u304a\u3088\u3073controllers/tmpl\u4ee5\u4e0b\u3078\u306e\u30b8\u30e3\u30f3\u30d7\uff0c<code>:Rconfig</code>\u30b3\u30de\u30f3\u30c9\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fconfig/routes.rb\u306b\u3068\u3076\uff09\uff0c<code>:Rcontroller</code> =&gt; <code>:Rc</code>\u306e\u3088\u3046\u306aalias\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\uff0e</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">.vimrc</span></div><div class=\"highlight\"><pre>autocmd <span class=\"nb\">User</span> Rails.controller* Rnavcommand api app<span class=\"sr\">/controllers/</span>api <span class=\"p\">-</span>glob<span class=\"p\">=</span>**/* <span class=\"p\">-</span>suffix<span class=\"p\">=</span>_controller.rb\nautocmd <span class=\"nb\">User</span> Rails.controller* Rnavcommand tmpl app<span class=\"sr\">/controllers/</span>tmpl <span class=\"p\">-</span>glob<span class=\"p\">=</span>**/* <span class=\"p\">-</span>suffix<span class=\"p\">=</span>_controller.rb\nautocmd <span class=\"nb\">User</span> Rails Rnavcommand config config   <span class=\"p\">-</span>glob<span class=\"p\">=</span>*.*  <span class=\"p\">-</span>suffix<span class=\"p\">=</span> <span class=\"p\">-</span>default<span class=\"p\">=</span>routes.rb\nautocmd <span class=\"nb\">User</span> Rails nmap :<span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">u</span><span class=\"p\">&gt;</span>Rcontroller :<span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">u</span><span class=\"p\">&gt;</span>Rc\nautocmd <span class=\"nb\">User</span> Rails nmap :<span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">u</span><span class=\"p\">&gt;</span>Rmodel :<span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">u</span><span class=\"p\">&gt;</span>Rm\nautocmd <span class=\"nb\">User</span> Rails nmap :<span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">u</span><span class=\"p\">&gt;</span>Rview :<span class=\"p\">&lt;</span>C<span class=\"p\">-</span><span class=\"k\">u</span><span class=\"p\">&gt;</span>Rv\n</pre>\n</div>\n</div>\n<p>\u6b21\u56de\u306f\uff0c<a href=\"http://qiita.com/users/ongaeshi\">ongaeshi</a>\u3055\u3093\u3067\u3059\uff0e<br>\n\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\uff0e</p>\n","created_at":"2012-07-05 18:57:54 +0900","updated_at":"2012-07-06 06:17:22 +0900","created_at_in_words":"3\u30f6\u6708\u524d","updated_at_in_words":"3\u30f6\u6708\u524d","tags":[{"name":"AdventCalendar","url_name":"AdventCalendar","icon_url":"http://qiita.com/system/tags/icons/000/000/192/thumb/santa_noel_pere.jpg?1322794701","item_count":124,"follower_count":59,"versions":[]},{"name":"\u958b\u767a\u74b0\u5883","url_name":"%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83","icon_url":"http://qiita.com/icons/thumb/missing.png","item_count":24,"follower_count":37,"versions":[]},{"name":"Rails","url_name":"Rails","icon_url":"http://qiita.com/system/tags/icons/000/000/034/thumb/Ruby_on_Rails_logo.jpeg?1320170723","item_count":452,"follower_count":431,"versions":[]},{"name":"Ruby","url_name":"Ruby","icon_url":"http://qiita.com/system/tags/icons/000/000/003/thumb/ruby.jpeg?1316130908","item_count":778,"follower_count":2710,"versions":[]},{"name":"Vim","url_name":"Vim","icon_url":"http://qiita.com/system/tags/icons/000/000/008/thumb/vim-editor_logo.png?1316130850","item_count":191,"follower_count":2259,"versions":[]}],"stock_count":63,"stock_users":["5ostbusters","cutmail","abe_abe_yuya","jorira@github","kanariya0922","noli0","mutomasa","0514ENO","koichi222@github","ooyabuh","foloinfo","kawanofuukei@github","kazuph","ruedap","lunchub","HONMOU","shuno113@github","shinichinomura","mihayan","kabaneshi"],"comment_count":2,"url":"http://qiita.com/items/57e726312ffe47592867","gist_url":null,"private":false,"created_at_as_seconds":1341482274},{"id":6587,"uuid":"f725a95f80b02bd5d536","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"\u3084\u3070\u3044\u30d5\u30a1\u30a4\u30eb\u3092Heroku\u306b\u306fpush\u3057\u3066\uff0cGithub\u306b\u306fpush\u3057\u306a\u3044\u65b9\u6cd5","body":"<h2>\u524d\u63d0</h2>\n\n<ul>\n<li><p>Github\u306ePublic\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b</p></li>\n<li><p>Heroku\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u3066\u3044\u308b</p></li>\n</ul>\n\n<h2>\u554f\u984c</h2>\n\n<p>OAuth\u8a8d\u8a3c\u306b\u5fc5\u8981\u306aToken\u60c5\u5831\u3084\uff0c\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u66f8\u304b\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092Github\u306b\u306fPush\u3057\u305f\u304f\u306a\u3044\uff0e<br>\n\u3057\u304b\u3057\uff0c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d0\u304c\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\uff0cHeroku\u306b\u306fpush\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\uff0e</p>\n\n<p>Github\u306e\u307f\u306e\u5834\u5408\u306f\uff0c.gitignore\u306b\u3084\u3070\u3044\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b\u3060\u3051\u3067\u3088\u3044\u304c\uff0cHeroku\u306b\u306fpush\u3057\u305f\u3044\u306e\u3067\u305d\u3046\u306f\u3044\u304b\u306a\u3044\uff0e</p>\n\n<p>pre-recieve hook\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\uff0c\u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u5074\u304cGithub\u304bHeroku\u304b\u3067\u6761\u4ef6\u5206\u5c90\u3059\u308b\u65b9\u6cd5\u3082\u8003\u3048\u305f\uff0e<br>\n\u3057\u304b\u3057\uff0cpre-recieve\u306f\u30b3\u30df\u30c3\u30c8\u305d\u306e\u3082\u306e\u3092\u901a\u3059\u304b\u30ea\u30b8\u30a7\u30af\u30c8\u3059\u308b\u304b\u306e\u30d5\u30a3\u30eb\u30bf\u6a5f\u80fd\u3057\u304b\u6301\u3063\u3066\u306a\u3055\u305d\u3046\u306a\u306e\u3067\uff0c\u7279\u5b9a\u306e\u3060\u3051\u7121\u8996\u3059\u308b\u307f\u305f\u3044\u306a\u3053\u3068\u3092\u3084\u308b\u306e\u306f\u96e3\u3057\u305d\u3046\uff0e</p>\n\n<h2>\u89e3\u6c7a\u65b9\u91dd</h2>\n\n<p>\u3081\u3093\u3069\u304f\u3055\u304f\u306a\u3063\u3066\u304d\u305f\u306e\u3067\uff0c\u300cHeroku\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u3068\u304d\u306e\u307f\uff0c\u3084\u3070\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u306e\u30b3\u30df\u30c3\u30c8\u3092\u4f5c\u3063\u3066\uff0c\u305d\u308c\u3092Push\u3057\u305f\u306e\u3061\u306b\u6d88\u3059\u300d\u3053\u3068\u306b\u3057\u305f\uff08\u7121\u7406\u3084\u308a\uff0e</p>\n\n<p>Github\u306bpush\u3057\u305f\u306e\u3061\u306b\u4ee5\u4e0b\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8d70\u3089\u305b\u3066Heroku\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\uff0e</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">heroku-deploy.sh</span></div><div class=\"highlight\"><pre><span class=\"c\">#!/bin/sh</span>\n\ngit add -f &lt;\u3084\u3070\u3044\u30d5\u30a1\u30a4\u30eb&gt; <span class=\"c\"># \u5927\u62b5.gitignore\u306b\u3084\u3070\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u3066\u3057\u3066\u3044\u308b\u306f\u305a\u306a\u306e\u3067 -f \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u7121\u7406\u3084\u308a\u30b9\u30c6\u30fc\u30b8\u306b\u4e57\u305b\u308b</span>\ngit commit -m <span class=\"s2\">&quot;&lt;tmp-commit&gt; \u3084\u3070\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u5165\u308c\u305f&quot;</span>\ngit push -f heroku master\ngit reset --soft HEAD<span class=\"se\">\\^</span> <span class=\"c\"># \u30ed\u30fc\u30ab\u30eb\u306e\u30b3\u30df\u30c3\u30c8\u30c4\u30ea\u30fc\u304b\u3089tmp\u30b3\u30df\u30c3\u30c8\u3092\u524a\u9664</span>\ngit reset HEAD \u3084\u3070\u3044\u30d5\u30a1\u30a4\u30eb\n</pre>\n</div>\n</div>\n<p>*\u30ed\u30fc\u30ab\u30eb\u306e.git\u4ee5\u4e0b\u306b\u306f\u4f59\u5206\u306a\u30b3\u30df\u30c3\u30c8\u60c5\u5831\u304c\u6b8b\u308b\u3068\u601d\u3046\u3051\u3069\uff0c\u3082\u3046\u3044\u3044\u3084\uff0e</p>\n\n<p>\u304a\u307e\u3048\uff08Heroku\uff09\u306b\u3042\u3052\u305f\u306e\u304c\uff0c\u3042\u3044\u3064\uff08Github\uff09\u306b\u30d0\u30ec\u308b\u3068\u3084\u3070\u3044\u304b\u3089\u3053\u3063\u305d\u308a\u6e21\u3057\u3066\u75d5\u8de1\u3092\u6d88\u3059\u611f\u3058\u306b\u306a\u3063\u305f\uff0e</p>\n\n<p>\u3082\u3063\u3068\u30b9\u30de\u30fc\u30c8\u306a\u65b9\u6cd5\u304c\u3042\u3063\u305f\u3089\u6559\u3048\u3066\u4e0b\u3055\u3044\uff0e</p>\n","created_at":"2012-06-26 13:45:42 +0900","updated_at":"2012-07-01 14:01:01 +0900","created_at_in_words":"4\u30f6\u6708\u524d","updated_at_in_words":"3\u30f6\u6708\u524d","tags":[{"name":"git","url_name":"git","icon_url":"http://qiita.com/system/tags/icons/000/000/049/thumb/Git-Icon-1788C.png?1339654953","item_count":217,"follower_count":759,"versions":[]},{"name":"heroku","url_name":"heroku","icon_url":"http://qiita.com/system/tags/icons/000/000/159/thumb/heroku_logo.png?1336991816","item_count":55,"follower_count":135,"versions":[]}],"stock_count":6,"stock_users":["yoneapp","jusuku","TAKAyuki_atkwsk","ongaeshi","k_somemo","yastak7"],"comment_count":6,"url":"http://qiita.com/items/f725a95f80b02bd5d536","gist_url":null,"private":false,"created_at_as_seconds":1340685942},{"id":6316,"uuid":"0e2a517c2213c2dd7f62","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"Git\u306e\u30ea\u30d3\u30b8\u30e7\u30f3\u756a\u53f7(SHA-1\u306e\u30a2\u30ec)\u306e\u6b63\u4f53\u3092\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u8aad\u3093\u3067\u8abf\u3079\u3066\u307f\u305f","body":"<p><a href=\"http://qiita.com/advent-calendar/git\">Git Advent Calendar/Jun.</a>6/18 \u3092\u62c5\u5f53\u3057\u307e\u3059<a href=\"http://twitter.com/y_uuki_\">@y_uuki_</a>\u3067\u3059\u3002<br>\n\u524d\u56de\u306f\uff0c<a href=\"http://qiita.com/takc923\">takc923</a>\u3055\u3093\u306e<a href=\"http://qiita.com/items/c7a11ff30caedc4c5ba7\">Emacs\u306eGit\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\uff1aMagit</a>\u3067\u3057\u305f\uff0e</p>\n\n<p>\u7686\u3055\u3093\u304c\u975e\u5e38\u306b\u4fbf\u5229\u3067\u3059\u3050\u4f7f\u3048\u308b\u6295\u7a3f\u3092\u3055\u308c\u3066\u3044\u308b\u306a\u304b\uff0cGit\u306e\u30bd\u30fc\u30b9\u8aad\u3093\u3067\u597d\u5947\u5fc3\u3092\u6e80\u305f\u3059\u3060\u3051\u306e\u5f79\u306b\u7acb\u305f\u306a\u3044\u8a18\u4e8b\u3092\u304a\u9001\u308a\u3057\u307e\u3059\uff0e<br>\nGit\u306e\u6559\u990a\u7a0b\u5ea6\u306b\u306f\u306a\u308c\u3070\u5e78\u3044\u3067\u3059\uff0e</p>\n\n<p>\u4eca\u56de\u306fGit\u306e\u30ea\u30d3\u30b8\u30e7\u30f3\u756a\u53f7\u3067\u3042\u308bSHA-1\u306e\u30cf\u30c3\u30b7\u30e5\u5024\u306f\u4f55\u3092\u5143\u306b\u751f\u6210\u3055\u308c\u3066\u3044\u308b\u306e\u304b\u3092\u8abf\u3079\u3066\u307f\u307e\u3057\u305f\uff0e</p>\n\n<p>\u7686\u3055\u3093\u3054\u5b58\u77e5\u306b\u3088\u308a\uff0cGit\u3067\u306f\u30ea\u30d3\u30b8\u30e7\u30f3\u756a\u53f7\u3068\u3057\u3066Subversion\u306e\u3088\u3046\u306a\u9023\u756a\u3067\u306f\u306a\u304f\uff0cSHA-1\u306e\u30cf\u30c3\u30b7\u30e5\u5024\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\uff0e</p>\n\n<p>\u3053\u3093\u306a\u3084\u3064\u3067\u3059\u306d\uff0e</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre><span class=\"n\">commit</span> 9<span class=\"n\">bea2b5896701cf952f75c8f6756656cd3c40af0</span>\n</pre>\n</div>\n</div>\n<p>Git\u3067\u306f\u5404\u958b\u767a\u8005\u304c\u30ed\u30fc\u30ab\u30eb\u306b\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u6301\u3063\u3066\u3044\u308b\u305f\u3081\uff0c\u9023\u756a\u3067\u7ba1\u7406\u3059\u308b\u3068\uff0c\u5171\u6709\u30ea\u30dd\u30b8\u30c8\u30ea\u306bpush\u3057\u305f\u6642\u306b\u30b3\u30df\u30c3\u30c8\u306e\u4e00\u610f\u6027\u304c\u4fdd\u8a3c\u3055\u308c\u307e\u305b\u3093\uff0e<br>\n\u305d\u3053\u3067\uff0cGit\u3067\u306f\u300c\u4f55\u304b\u300d\u3092Key\u306b\u3057\u3066SHA-1\u306b\u3088\u308b\u30cf\u30c3\u30b7\u30e5\u5024\u3092\u8a08\u7b97\u3057\uff0c\u5404\u30b3\u30df\u30c3\u30c8\u306b\u4e00\u610f\u6027\u306e\u3042\u308b\u756a\u53f7\u3092\u5272\u308a\u632f\u3063\u3066\u3044\u307e\u3059\uff0e\u300c\u4f55\u304b\u300d\u306f\u5404\u30b3\u30df\u30c3\u30c8\u306b\u304a\u3044\u3066\u4e00\u610f\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff0e</p>\n\n<p>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u3092\u5168\u90e8SHA-1\u306b\u7a81\u3063\u8fbc\u3093\u3067\u305f\u3089\u8a08\u7b97\u6642\u9593\u304c\u7d50\u69cb\u304b\u304b\u308a\u305d\u3046\u3060\u3057\uff0c\u306a\u3093\u304b\u5de5\u592b\u3057\u3066\u305d\u3046\u3060\u3063\u305f\u306e\u3067\uff0c\u306e\u300c\u4f55\u304b\u300d\u3092\u8abf\u3079\u308b\u305f\u3081\u306bGit\u306e\u30bd\u30fc\u30b9\u3092\u8aad\u3093\u3067\u307f\u307e\u3057\u305f\uff0e(Git\u30ea\u30dd\u30b8\u30c8\u30ea)[<a href=\"https://github.com/git/git\">https://github.com/git/git</a>]</p>\n\n<p>\u7d50\u8ad6\u304b\u3089\u8a00\u3046\u3068\uff0cKey\u306f(\u5404\u30d5\u30a1\u30a4\u30eb\u306b\u5bfe\u3059\u308b\u30cf\u30c3\u30b7\u30e5\u5024\u3092\u7d71\u5408\u3057\u305f\u30cf\u30c3\u30b7\u30e5\u5024) + (\u5f53\u8a72\u30b3\u30df\u30c3\u30c8\u306eAuthor\u3084\u30b3\u30df\u30c3\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5408\u308f\u305b\u305f\u3082\u306e)\u306b\u306a\u3063\u3066\u3044\u308b\u3088\u3046\u3067\u3059\uff0e <br>\n\u524d\u8005\u306e\u7d71\u5408\u3055\u308c\u305f\u30cf\u30c3\u30b7\u30e5\u5024\u306f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4f5c\u6210\u6642\u306b\u8a08\u7b97\u3055\u308c\uff0c\u5f8c\u8005\u306e\u60c5\u5831\u306f\u30b3\u30df\u30c3\u30c8\u6642\u306b\u53d6\u5f97\u3055\u308c\u307e\u3059\uff0e<br>\n\u3069\u3046\u3084\u3089\u30b3\u30df\u30c3\u30c8\u306e\u5ea6\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u5168\u90e8\u306a\u3081\u3066\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u3088\u3046\u3067\u3059\uff0e<br>\n\u4eca\u56de\u306f\u5f8c\u8005\u306b\u3064\u3044\u3066\u8abf\u3079\u305f\u3068\u3053\u308d\u3067\u529b\u5c3d\u304d\u307e\u3057\u305f\uff0e\u524d\u8005\u306b\u3064\u3044\u3066\u306f\u307e\u305f\u6a5f\u4f1a\u304c\u3042\u308c\u3070\u8abf\u3079\u305f\u3044\u3068\u601d\u3044\u307e\u3059\uff0e</p>\n\n<h2>\u8abf\u67fb\u624b\u9806</h2>\n\n<p>\u672c\u5f53\u306f\u30c8\u30c3\u30d7\u30c0\u30a6\u30f3\u306b\u30bd\u30fc\u30b9\u3092\u898b\u3066\u3044\u304d\u305f\u304b\u3063\u305f\u3093\u3067\u3059\u304c\uff0c\u9014\u4e2d\u3067\u3069\u306e\u95a2\u6570\u304cSHA-1\u8a08\u7b97\u3057\u3066\u305d\u3046\u304b\u304c\u308f\u304b\u3089\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u306e\u3067\uff0c\u30dc\u30c8\u30e0\u30a2\u30c3\u30d7\u306b\u63a2\u3063\u3066\u3044\u304d\u307e\u3057\u305f\uff0e<br>\n\u5177\u4f53\u7684\u306b\u306f\uff0e<code>git grep SHA1</code>\u3068\u304b\u3084\u3063\u3066\uff0c\u602a\u3057\u3044\u3068\u3053\u308d\u3092\u898b\u3064\u3051\u307e\u3057\u305f\uff0e</p>\n\n<p>commit.c\u5185\u306e<code>commit_tree_extended()</code>\u306b\u3066\uff0ccommit\u30c4\u30ea\u30fc\u3092\u62e1\u5f35\u3057\u3066\u3044\u307e\u3059\uff08\u3064\u307e\u308acommit\u306e\u8ffd\u52a0\uff09\uff0e<br>\n\u3053\u3053\u3067\uff0c<code>buffer</code>\u306b\u5bfe\u3057\u3066<code>strbuf_addf()</code>\u3067&quot;tree&quot;\u3084&quot;parent&quot;\u306a\u3069\u306e\u30d8\u30c3\u30c0\u60c5\u5831\u3092\u9023\u7d50\u3057\u3066\u3044\u304d\uff0c\u6700\u5f8c\u306b\uff0c<code>write_sha1_file()</code>\u306b<code>buffer</code>\u3092\u6e21\u3057\u3066\u30cf\u30c3\u30b7\u30e5\u5024\u3092\u8a08\u7b97\u3055\u305b\u3066\u308b\u611f\u3058\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff0e<br>\n<code>buffer</code>\u306b\u9023\u7d50\u3059\u308b\u60c5\u5831\u3092\u4ee5\u4e0b\u306b\u5217\u6319\u3057\u3066\u307f\u307e\u3059\uff0e</p>\n\n<ul>\n<li><code>buffer</code>\u306e\u30b5\u30a4\u30ba\u306f\u6700\u59278192\u30d0\u30a4\u30c8</li>\n<li>&quot;tree &quot;\u3092\u8ffd\u52a0 (tree\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u4f55\u306e\u3053\u3068\u304b\u306f\u53c2\u8003\u6587\u732e\u3092\u53c2\u7167)</li>\n<li>&quot;parent &lt;\u89aa\u30b3\u30df\u30c3\u30c8\u306e\u30cf\u30c3\u30b7\u30e5\u5024&gt;\\nparent &lt;\u89aa\u30b3\u30df\u30c3\u30c8\u306e\u30cf\u30c3\u30b7\u30e5\u5024&gt;\\n\u2026&quot;\u3092\u8ffd\u52a0\uff0e</li>\n<li>&quot;author &quot;\u3092\u8ffd\u52a0</li>\n<li>encoding\u304cutf-8\u3067\u306a\u3044\u5834\u5408\uff0c&quot;encoding &lt;\u30a8\u30f3\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u306e\u7a2e\u5225&gt;&quot;\u3092\u8ffd\u52a0</li>\n<li><code>extra</code>\u3068\u304b\u3044\u3046\u306e\u3092\u8ffd\u52a0\uff0eextra\u304c\u3088\u304f\u308f\u304b\u3089\u306a\u3044\uff0e</li>\n<li>\u6539\u884c\u8ffd\u52a0</li>\n<li>\u30b3\u30df\u30c3\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8ffd\u52a0</li>\n</ul>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">commit.c</span></div><div class=\"highlight\"><pre><span class=\"kt\">int</span> <span class=\"nf\">commit_tree_extended</span><span class=\"p\">(</span><span class=\"k\">const</span> <span class=\"k\">struct</span> <span class=\"n\">strbuf</span> <span class=\"o\">*</span><span class=\"n\">msg</span><span class=\"p\">,</span> <span class=\"kt\">unsigned</span> <span class=\"kt\">char</span> <span class=\"o\">*</span><span class=\"n\">tree</span><span class=\"p\">,</span>\n             <span class=\"k\">struct</span> <span class=\"n\">commit_list</span> <span class=\"o\">*</span><span class=\"n\">parents</span><span class=\"p\">,</span> <span class=\"kt\">unsigned</span> <span class=\"kt\">char</span> <span class=\"o\">*</span><span class=\"n\">ret</span><span class=\"p\">,</span>\n             <span class=\"k\">const</span> <span class=\"kt\">char</span> <span class=\"o\">*</span><span class=\"n\">author</span><span class=\"p\">,</span> <span class=\"k\">const</span> <span class=\"kt\">char</span> <span class=\"o\">*</span><span class=\"n\">sign_commit</span><span class=\"p\">,</span>\n             <span class=\"k\">struct</span> <span class=\"n\">commit_extra_header</span> <span class=\"o\">*</span><span class=\"n\">extra</span><span class=\"p\">)</span>\n<span class=\"p\">{</span>\n    <span class=\"kt\">int</span> <span class=\"n\">result</span><span class=\"p\">;</span>\n    <span class=\"kt\">int</span> <span class=\"n\">encoding_is_utf8</span><span class=\"p\">;</span>\n    <span class=\"k\">struct</span> <span class=\"n\">strbuf</span> <span class=\"n\">buffer</span><span class=\"p\">;</span>\n\n    <span class=\"n\">assert_sha1_type</span><span class=\"p\">(</span><span class=\"n\">tree</span><span class=\"p\">,</span> <span class=\"n\">OBJ_TREE</span><span class=\"p\">);</span>\n\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">memchr</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"o\">-&gt;</span><span class=\"n\">buf</span><span class=\"p\">,</span> <span class=\"sc\">&#39;\\0&#39;</span><span class=\"p\">,</span> <span class=\"n\">msg</span><span class=\"o\">-&gt;</span><span class=\"n\">len</span><span class=\"p\">))</span>\n        <span class=\"k\">return</span> <span class=\"n\">error</span><span class=\"p\">(</span><span class=\"s\">&quot;a NUL byte in commit log message not allowed.&quot;</span><span class=\"p\">);</span>\n\n    <span class=\"cm\">/* Not having i18n.commitencoding is the same as having utf-8 */</span>\n    <span class=\"n\">encoding_is_utf8</span> <span class=\"o\">=</span> <span class=\"n\">is_encoding_utf8</span><span class=\"p\">(</span><span class=\"n\">git_commit_encoding</span><span class=\"p\">);</span>\n\n    <span class=\"n\">strbuf_init</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">buffer</span><span class=\"p\">,</span> <span class=\"mi\">8192</span><span class=\"p\">);</span> <span class=\"cm\">/* should avoid reallocs for the headers */</span>\n    <span class=\"n\">strbuf_addf</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">buffer</span><span class=\"p\">,</span> <span class=\"s\">&quot;tree %s</span><span class=\"se\">\\n</span><span class=\"s\">&quot;</span><span class=\"p\">,</span> <span class=\"n\">sha1_to_hex</span><span class=\"p\">(</span><span class=\"n\">tree</span><span class=\"p\">));</span>\n\n    <span class=\"cm\">/*</span>\n<span class=\"cm\">     * NOTE! This ordering means that the same exact tree merged with a</span>\n<span class=\"cm\">     * different order of parents will be a _different_ changeset even</span>\n<span class=\"cm\">     * if everything else stays the same.</span>\n<span class=\"cm\">     */</span>\n    <span class=\"k\">while</span> <span class=\"p\">(</span><span class=\"n\">parents</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">struct</span> <span class=\"n\">commit_list</span> <span class=\"o\">*</span><span class=\"n\">next</span> <span class=\"o\">=</span> <span class=\"n\">parents</span><span class=\"o\">-&gt;</span><span class=\"n\">next</span><span class=\"p\">;</span>\n        <span class=\"k\">struct</span> <span class=\"n\">commit</span> <span class=\"o\">*</span><span class=\"n\">parent</span> <span class=\"o\">=</span> <span class=\"n\">parents</span><span class=\"o\">-&gt;</span><span class=\"n\">item</span><span class=\"p\">;</span>\n\n        <span class=\"n\">strbuf_addf</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">buffer</span><span class=\"p\">,</span> <span class=\"s\">&quot;parent %s</span><span class=\"se\">\\n</span><span class=\"s\">&quot;</span><span class=\"p\">,</span>\n                <span class=\"n\">sha1_to_hex</span><span class=\"p\">(</span><span class=\"n\">parent</span><span class=\"o\">-&gt;</span><span class=\"n\">object</span><span class=\"p\">.</span><span class=\"n\">sha1</span><span class=\"p\">));</span>\n        <span class=\"n\">free</span><span class=\"p\">(</span><span class=\"n\">parents</span><span class=\"p\">);</span>\n        <span class=\"n\">parents</span> <span class=\"o\">=</span> <span class=\"n\">next</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"cm\">/* Person/date information */</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"n\">author</span><span class=\"p\">)</span>\n        <span class=\"n\">author</span> <span class=\"o\">=</span> <span class=\"n\">git_author_info</span><span class=\"p\">(</span><span class=\"n\">IDENT_STRICT</span><span class=\"p\">);</span>\n    <span class=\"n\">strbuf_addf</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">buffer</span><span class=\"p\">,</span> <span class=\"s\">&quot;author %s</span><span class=\"se\">\\n</span><span class=\"s\">&quot;</span><span class=\"p\">,</span> <span class=\"n\">author</span><span class=\"p\">);</span>\n    <span class=\"n\">strbuf_addf</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">buffer</span><span class=\"p\">,</span> <span class=\"s\">&quot;committer %s</span><span class=\"se\">\\n</span><span class=\"s\">&quot;</span><span class=\"p\">,</span> <span class=\"n\">git_committer_info</span><span class=\"p\">(</span><span class=\"n\">IDENT_STRICT</span><span class=\"p\">));</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"n\">encoding_is_utf8</span><span class=\"p\">)</span>\n        <span class=\"n\">strbuf_addf</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">buffer</span><span class=\"p\">,</span> <span class=\"s\">&quot;encoding %s</span><span class=\"se\">\\n</span><span class=\"s\">&quot;</span><span class=\"p\">,</span> <span class=\"n\">git_commit_encoding</span><span class=\"p\">);</span>\n\n    <span class=\"k\">while</span> <span class=\"p\">(</span><span class=\"n\">extra</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"n\">add_extra_header</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">buffer</span><span class=\"p\">,</span> <span class=\"n\">extra</span><span class=\"p\">);</span>\n        <span class=\"n\">extra</span> <span class=\"o\">=</span> <span class=\"n\">extra</span><span class=\"o\">-&gt;</span><span class=\"n\">next</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n    <span class=\"n\">strbuf_addch</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">buffer</span><span class=\"p\">,</span> <span class=\"sc\">&#39;\\n&#39;</span><span class=\"p\">);</span>\n\n    <span class=\"cm\">/* And add the comment */</span>\n    <span class=\"n\">strbuf_addbuf</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">buffer</span><span class=\"p\">,</span> <span class=\"n\">msg</span><span class=\"p\">);</span>\n\n    <span class=\"cm\">/* And check the encoding */</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">encoding_is_utf8</span> <span class=\"o\">&amp;&amp;</span> <span class=\"o\">!</span><span class=\"n\">is_utf8</span><span class=\"p\">(</span><span class=\"n\">buffer</span><span class=\"p\">.</span><span class=\"n\">buf</span><span class=\"p\">))</span>\n        <span class=\"n\">fprintf</span><span class=\"p\">(</span><span class=\"n\">stderr</span><span class=\"p\">,</span> <span class=\"n\">commit_utf8_warn</span><span class=\"p\">);</span>\n\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">sign_commit</span> <span class=\"o\">&amp;&amp;</span> <span class=\"n\">do_sign_commit</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">buffer</span><span class=\"p\">,</span> <span class=\"n\">sign_commit</span><span class=\"p\">))</span>\n        <span class=\"k\">return</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">;</span>\n\n    <span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">write_sha1_file</span><span class=\"p\">(</span><span class=\"n\">buffer</span><span class=\"p\">.</span><span class=\"n\">buf</span><span class=\"p\">,</span> <span class=\"n\">buffer</span><span class=\"p\">.</span><span class=\"n\">len</span><span class=\"p\">,</span> <span class=\"n\">commit_type</span><span class=\"p\">,</span> <span class=\"n\">ret</span><span class=\"p\">);</span>\n    <span class=\"n\">strbuf_release</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">buffer</span><span class=\"p\">);</span>\n    <span class=\"k\">return</span> <span class=\"n\">result</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre>\n</div>\n</div>\n<p>\u4ee5\u4e0a\u3067\uff0c\u4f55\u3092Key\u3068\u3057\u3066SHA-1\u3092\u8a08\u7b97\u3057\u3066\u3044\u308b\u304b\u306f\u308f\u304b\u308a\u307e\u3057\u305f\u304c\uff0c\u4e00\u5fdc\uff0cwrite_sha1_file\u3092\u305f\u3069\u3063\u3066\u3044\u304d\u307e\u3059\uff0e<br>\n\u3053\u3053\u3067\u306f\uff0ccommit_type\u306b\u306f&quot;commit&quot;\u304c\u4ee3\u5165\u3055\u308c\u3066\u3044\u307e\u3059\uff0e</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre><span class=\"n\">const</span> <span class=\"n\">char</span> <span class=\"o\">*</span><span class=\"n\">commit_type</span> <span class=\"p\">=</span> &quot;<span class=\"n\">commit</span>&quot;<span class=\"p\">;</span>\n</pre>\n</div>\n</div><div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\"></span></div><div class=\"highlight\"><pre>```<span class=\"n\">c</span><span class=\"p\">:</span><span class=\"n\">sha1_file</span><span class=\"p\">.</span><span class=\"n\">c</span>\n<span class=\"n\">int</span> <span class=\"n\">write_sha1_file</span><span class=\"p\">(</span><span class=\"n\">const</span> <span class=\"n\">void</span> <span class=\"o\">*</span><span class=\"n\">buf</span><span class=\"p\">,</span> <span class=\"n\">unsigned</span> <span class=\"n\">long</span> <span class=\"n\">len</span><span class=\"p\">,</span> <span class=\"n\">const</span> <span class=\"n\">char</span> <span class=\"o\">*</span><span class=\"n\">type</span><span class=\"p\">,</span> <span class=\"n\">unsigned</span> <span class=\"n\">char</span> <span class=\"o\">*</span><span class=\"n\">returnsha1</span><span class=\"p\">)</span>\n<span class=\"p\">{</span>\n    <span class=\"n\">unsigned</span> <span class=\"n\">char</span> <span class=\"n\">sha1</span><span class=\"p\">[</span>20<span class=\"p\">];</span>\n    <span class=\"n\">char</span> <span class=\"n\">hdr</span><span class=\"p\">[</span>32<span class=\"p\">];</span>\n    <span class=\"n\">int</span> <span class=\"n\">hdrlen</span><span class=\"p\">;</span>\n\n    <span class=\"o\">/*</span> <span class=\"n\">Normally</span> <span class=\"k\">if</span> <span class=\"n\">we</span> <span class=\"n\">have</span> <span class=\"n\">it</span> <span class=\"n\">in</span> <span class=\"n\">the</span> <span class=\"n\">pack</span> <span class=\"n\">then</span> <span class=\"n\">we</span> <span class=\"n\">do</span> <span class=\"n\">not</span> <span class=\"n\">bother</span> <span class=\"n\">writing</span>\n     <span class=\"o\">*</span> <span class=\"n\">it</span> <span class=\"n\">out</span> <span class=\"n\">into</span> <span class=\"p\">.</span><span class=\"n\">git</span><span class=\"o\">/</span><span class=\"n\">objects</span><span class=\"o\">/</span>??<span class=\"o\">/</span>?<span class=\"p\">{</span>38<span class=\"p\">}</span> <span class=\"n\">file</span><span class=\"p\">.</span>\n     <span class=\"o\">*/</span>\n    <span class=\"n\">write_sha1_file_prepare</span><span class=\"p\">(</span><span class=\"n\">buf</span><span class=\"p\">,</span> <span class=\"n\">len</span><span class=\"p\">,</span> <span class=\"n\">type</span><span class=\"p\">,</span> <span class=\"n\">sha1</span><span class=\"p\">,</span> <span class=\"n\">hdr</span><span class=\"p\">,</span> <span class=\"o\">&amp;</span><span class=\"n\">hdrlen</span><span class=\"p\">);</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">returnsha1</span><span class=\"p\">)</span>\n        <span class=\"n\">hashcpy</span><span class=\"p\">(</span><span class=\"n\">returnsha1</span><span class=\"p\">,</span> <span class=\"n\">sha1</span><span class=\"p\">);</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">has_sha1_file</span><span class=\"p\">(</span><span class=\"n\">sha1</span><span class=\"p\">))</span>\n        <span class=\"k\">return</span> 0<span class=\"p\">;</span>\n    <span class=\"k\">return</span> <span class=\"n\">write_loose_object</span><span class=\"p\">(</span><span class=\"n\">sha1</span><span class=\"p\">,</span> <span class=\"n\">hdr</span><span class=\"p\">,</span> <span class=\"n\">hdrlen</span><span class=\"p\">,</span> <span class=\"n\">buf</span><span class=\"p\">,</span> <span class=\"n\">len</span><span class=\"p\">,</span> 0<span class=\"p\">);</span>\n<span class=\"p\">}</span>\n</pre>\n</div>\n</div>\n<p>\u3055\u3089\u306b\uff0c<code>write_sha1_file_prepare()</code>\u3092\u8fbf\u3063\u3066\u307f\u308b\u3068\uff0c<code>hdr</code>\u3068<code>buf</code>\u3092\u5408\u308f\u305b\u3066SHA-1\u8a08\u7b97\u3057\u3066\u307e\u3059\uff0e<br>\n<code>hdr</code>\u306e\u4e2d\u8eab\u306f\uff0c<code>&quot;commit &lt;buf\u306e\u9577\u3055&gt;&quot;</code>\u306b\u306a\u308b\u306f\u305a\u3067\u3059\uff0e\uff08<code>type</code>\u306b\u306f&quot;commit&quot;\u304c\u5165\u3063\u3066\u308b\uff09</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">sha1_file.c</span></div><div class=\"highlight\"><pre><span class=\"k\">static</span> <span class=\"kt\">void</span> <span class=\"nf\">write_sha1_file_prepare</span><span class=\"p\">(</span><span class=\"k\">const</span> <span class=\"kt\">void</span> <span class=\"o\">*</span><span class=\"n\">buf</span><span class=\"p\">,</span> <span class=\"kt\">unsigned</span> <span class=\"kt\">long</span> <span class=\"n\">len</span><span class=\"p\">,</span>\n                                    <span class=\"k\">const</span> <span class=\"kt\">char</span> <span class=\"o\">*</span><span class=\"n\">type</span><span class=\"p\">,</span> <span class=\"kt\">unsigned</span> <span class=\"kt\">char</span> <span class=\"o\">*</span><span class=\"n\">sha1</span><span class=\"p\">,</span>\n                                    <span class=\"kt\">char</span> <span class=\"o\">*</span><span class=\"n\">hdr</span><span class=\"p\">,</span> <span class=\"kt\">int</span> <span class=\"o\">*</span><span class=\"n\">hdrlen</span><span class=\"p\">)</span>\n<span class=\"p\">{</span>\n    <span class=\"n\">git_SHA_CTX</span> <span class=\"n\">c</span><span class=\"p\">;</span>\n\n    <span class=\"cm\">/* Generate the header */</span>\n    <span class=\"o\">*</span><span class=\"n\">hdrlen</span> <span class=\"o\">=</span> <span class=\"n\">sprintf</span><span class=\"p\">(</span><span class=\"n\">hdr</span><span class=\"p\">,</span> <span class=\"s\">&quot;%s %lu&quot;</span><span class=\"p\">,</span> <span class=\"n\">type</span><span class=\"p\">,</span> <span class=\"n\">len</span><span class=\"p\">)</span><span class=\"o\">+</span><span class=\"mi\">1</span><span class=\"p\">;</span>\n\n    <span class=\"cm\">/* Sha1.. */</span>\n    <span class=\"n\">git_SHA1_Init</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">c</span><span class=\"p\">);</span>\n    <span class=\"n\">git_SHA1_Update</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">c</span><span class=\"p\">,</span> <span class=\"n\">hdr</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">hdrlen</span><span class=\"p\">);</span>\n    <span class=\"n\">git_SHA1_Update</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">c</span><span class=\"p\">,</span> <span class=\"n\">buf</span><span class=\"p\">,</span> <span class=\"n\">len</span><span class=\"p\">);</span>\n    <span class=\"n\">git_SHA1_Final</span><span class=\"p\">(</span><span class=\"n\">sha1</span><span class=\"p\">,</span> <span class=\"o\">&amp;</span><span class=\"n\">c</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n</pre>\n</div>\n</div>\n<p>\u4ee5\u4e0a\u3067\uff0cSHA-1\u306ekey\u304c\u4f55\u304b\u3060\u3044\u305f\u3044\u308f\u304b\u308a\u307e\u3057\u305f\uff0e<br>\n\u6700\u521d\uff0c\u5168\u7136\u9055\u3046\u3068\u3053\u308d\u3092\u898b\u3066\u3066\u75b2\u308c\u307e\u3057\u305f\uff0e</p>\n\n<h2>\u307e\u3068\u3081</h2>\n\n<ul>\n<li><p>Git\u306e\u30b3\u30fc\u30c9\u306f\u95a2\u6570\u306e\u884c\u6570\u304c\u9ad8\u300530\u884c\u7a0b\u5ea6\u306b\u6291\u3048\u3066\u3042\u3063\u3066\u591a\u5206\u7d50\u69cb\u8aad\u307f\u3084\u3059\u3044\u3067\u3059\uff0e</p></li>\n<li><p>\u30ea\u30d3\u30b8\u30e7\u30f3\u756a\u53f7\u306e\u30cf\u30c3\u30b7\u30e5\u5024\u306f<code>hdr</code> + <code>buf</code>\u3092Key\u3068\u3057\u3066\u8a08\u7b97\u3057\u3066\u3044\u307e\u3059\uff0e</p></li>\n</ul>\n<div class=\"code-frame\"><div class=\"highlight\"><pre><span class=\"n\">hdr</span> <span class=\"p\">=</span> &quot;<span class=\"n\">commit</span> <span class=\"o\">&lt;</span><span class=\"n\">buf</span>\u306e\u9577\u3055<span class=\"o\">&gt;</span>&quot;\n<span class=\"n\">buf</span> <span class=\"p\">=</span> &quot;<span class=\"n\">tree</span> <span class=\"o\">&lt;</span><span class=\"n\">tree</span>\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30cf\u30c3\u30b7\u30e5\u5024<span class=\"p\">(</span>16\u9032\u6570<span class=\"p\">)</span><span class=\"o\">&gt;</span> <span class=\"n\">parent</span> <span class=\"o\">&lt;</span>\u89aa\u30b3\u30df\u30c3\u30c8\u306e\u30cf\u30c3\u30b7\u30e5\u5024<span class=\"o\">&gt;\\</span><span class=\"n\">nparent</span> <span class=\"o\">&lt;</span>\u89aa\u30b3\u30df\u30c3\u30c8\u306e\u30cf\u30c3\u30b7\u30e5\u5024<span class=\"o\">&gt;\\</span><span class=\"n\">n</span>\u2026 <span class=\"n\">author</span> <span class=\"o\">&lt;</span><span class=\"n\">author</span>\u6587\u5b57\u5217<span class=\"o\">&gt;</span> <span class=\"n\">encoding</span> <span class=\"o\">&lt;</span>\u30a8\u30f3\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u306e\u7a2e\u5225<span class=\"o\">&gt;</span> <span class=\"o\">&lt;</span><span class=\"n\">extra</span><span class=\"o\">&gt;</span> <span class=\"o\">\\</span><span class=\"n\">n</span> <span class=\"o\">&lt;</span>\u30b3\u30df\u30c3\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8<span class=\"o\">&gt;</span>&quot;\n</pre>\n</div>\n</div>\n<ul>\n<li>tree\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30cf\u30c3\u30b7\u30e5\u5024\u3092\u771f\u9762\u76ee\u306b\u898b\u3066\u307e\u305b\u3093\u304c\uff0c\u304a\u305d\u3089\u304f\u5404\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u3092\u53cd\u6620\u3057\u305f\u5024\u306b\u306a\u3063\u3066\u308b\u306f\u305a\u3067\u3059\uff0e\u6a5f\u4f1a\u304c\u3042\u308c\u3070\u305d\u3063\u3061\u3082\u304f\u308f\u3057\u304f\u898b\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\uff0e</li>\n</ul>\n\n<h2>\u53c2\u8003\u6587\u732e</h2>\n\n<ul>\n<li><a href=\"http://git-scm.herokuapp.com/book/ja/Git%E3%81%AE%E5%86%85%E5%81%B4-Git%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88\">9.2 Git\u306e\u5185\u5074-Git\u30aa\u30d6\u30b8\u30a7\u30af\u30c8</a>\n\u30e6\u30fc\u30b6\u304c\u610f\u8b58\u3057\u306a\u3044\u3088\u3046\u306a\u30ed\u30fc\u30ec\u30d9\u30eb\u306e\u8a71\u304c\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\uff0etree \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u304b\u306e\u8a73\u7d30\u306f\u3053\u3053\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\uff0e</li>\n</ul>\n\n<p>\u660e\u65e5\u306e\u62c5\u5f53\u306f<a href=\"http://qiita.com/users/fukajun\">fukajun</a>\u3055\u3093\u3067\u3059\uff0e<br>\n\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\uff0e</p>\n","created_at":"2012-06-18 17:05:23 +0900","updated_at":"2012-10-08 01:14:47 +0900","created_at_in_words":"4\u30f6\u6708\u524d","updated_at_in_words":"6\u65e5\u524d","tags":[{"name":"AdventCalendar","url_name":"AdventCalendar","icon_url":"http://qiita.com/system/tags/icons/000/000/192/thumb/santa_noel_pere.jpg?1322794701","item_count":124,"follower_count":59,"versions":[]},{"name":"git","url_name":"git","icon_url":"http://qiita.com/system/tags/icons/000/000/049/thumb/Git-Icon-1788C.png?1339654953","item_count":217,"follower_count":759,"versions":[]}],"stock_count":7,"stock_users":["crifff","orange_clover","sotarok","yaotti","T_Hash","noromanba@github","ongaeshi"],"comment_count":2,"url":"http://qiita.com/items/0e2a517c2213c2dd7f62","gist_url":null,"private":false,"created_at_as_seconds":1340006723},{"id":6273,"uuid":"9d39ff8f913730f0a0a4","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"\u306f\u3066\u306a\u30d6\u30ed\u30b0\u306e\u30b5\u30a4\u30c9\u30d0\u30fc\u306bQiita\u3078\u306e\u6295\u7a3f\u3092\u8868\u793a\u3059\u308bScript\u3092\u66f8\u3044\u305f","body":"<p>\u306f\u3066\u306a\u30d6\u30ed\u30b0\u306e\u30b5\u30a4\u30c9\u30d0\u30fc\u306bQiita\u3078\u306e\u6295\u7a3f\u3092\u8868\u793a\u3055\u305b\u308bJavaScript\u3092\u66f8\u304d\u307e\u3057\u305f\uff0e</p>\n\n<p><strong>\u5c0e\u5165\u624b\u9806</strong></p>\n\n<ul>\n<li><p>\u4e0b\u8a18\u306e\u30b3\u30fc\u30c9\u306e\u3046\u3061\uff0c<code>url: &quot;http://acao.herokuapp.com/proxy/qiita.com/users/y_uuki_/feed.atom&quot;,</code><br>\n\u306e<code>y_uuki_</code>\u306e\u3068\u3053\u308d\u3092\u81ea\u5206\u306e\u30e6\u30fc\u30b6\u540d\u306b\u66f8\u304d\u63db\u3048\u307e\u3059\uff0e</p></li>\n<li><p>\u306f\u3066\u306a\u30d6\u30ed\u30b0\u306e \u7ba1\u7406 \u2192 \u30c7\u30b6\u30a4\u30f3 \u2192 \u30ab\u30b9\u30bf\u30de\u30a4\u30ba \u2192   \u30b5\u30a4\u30c9\u30d0\u30fc \u2192 \u30e2\u30b8\u30e5\u30fc\u30eb\u8ffd\u52a0 \u2192 HTML<br>\n\u3068\u8fbf\u3063\u3066\uff0c\u66f8\u304d\u63db\u3048\u305f\u30b3\u30fc\u30c9\u3092\u8cbc\u308a\u4ed8\u3051\u307e\u3059\uff0e</p></li>\n</ul>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\"></span></div><div class=\"highlight\"><pre><span class=\"nt\">&lt;script</span> <span class=\"na\">type=</span><span class=\"s\">&quot;text/javascript&quot;</span> <span class=\"na\">src=</span><span class=\"s\">&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js&quot;</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n\n<span class=\"nt\">&lt;script</span> <span class=\"na\">type=</span><span class=\"s\">&quot;text/javascript&quot;</span><span class=\"nt\">&gt;</span>\n$(function() {\n  $.ajax({\n    type: &quot;GET&quot;,\n    url: &quot;http://acao.herokuapp.com/proxy/qiita.com/users/y_uuki_/feed.atom&quot;, // \u66f8\u304d\u63db\u3048\u5fc5\u9808\n    dataType: &quot;xml&quot;,\n    success: function(xml) {\n      console.log(xml)\n      parseQiitaXML(xml);\n    },\n    error: function(res) {\n      console.log(&quot;error:&quot; + res)\n    }\n  });\n});\n\nfunction parseQiitaXML(xml) {\n  $(&quot;div#qiita-posts&quot;).append(&quot;<span class=\"nt\">&lt;ul&gt;&lt;/ul&gt;</span>&quot;);\n  $(xml).find(&quot;entry&quot;).each(function(index, item) {\n    if (index == 10) return false; // \u8868\u793a\u3059\u308b\u6295\u7a3f\u6570\u309210\u306b\u6307\u5b9a\n    var url = $(item).find(&quot;url&quot;).text();\n    var title = $(item).find(&quot;title&quot;).text();\n    $(&quot;div#qiita-posts &gt; ul&quot;).append(&quot;<span class=\"nt\">&lt;li&gt;&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">&#39;&quot; + url + &quot;&#39;</span><span class=\"nt\">&gt;</span>&quot; + title + &quot;<span class=\"nt\">&lt;/a&gt;&lt;/li&gt;</span>&quot;);\n  });\n}\n<span class=\"nt\">&lt;/script&gt;</span>\n\n<span class=\"nt\">&lt;div</span> <span class=\"na\">id=</span><span class=\"s\">&#39;qiita-posts&#39;</span><span class=\"nt\">&gt;&lt;/div&gt;</span>\n</pre>\n</div>\n</div>\n<p><code>url: &quot;http://acao.herokuapp.com/proxy/qiita.com/users/y_uuki_/feed.atom&quot;,</code><br>\n\u306e\u3068\u3053\u308d\u3067\uff0c\u30d6\u30e9\u30a6\u30b6JS\u304b\u3089\u76f4\u63a5Qiita\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u6295\u3052\u308b\u3068\uff0cQiita\u5074\u3067Access-Controll-Allowed-Origin\u30d8\u30c3\u30c0\u304c\u4ed8\u4e0e\u3055\u308c\u3066\u3044\u306a\u3044\u3068\u30d6\u30e9\u30a6\u30b6\u306b\u6012\u3089\u308c\u307e\u3059\uff0e\uff08Cross Domain\u30a2\u30af\u30bb\u30b9\u306b\u306a\u308b\u305f\u3081\uff09<br>\n\u305d\u3053\u3067\uff0cHeroku\u306b\u7acb\u3066\u305f\u81ea\u524d\u306eProxy\u3092\u901a\u3057\u3066\uff0cQiita\u3078\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u6295\u3052\u3066\u3044\u307e\u3059\uff0e</p>\n\n<p>Proxy\u306e\u30b3\u30fc\u30c9\u306f\u3053\u3053\uff0e<br>\n<a href=\"https://github.com/y-uuki/AcaoProxy\">https://github.com/y-uuki/AcaoProxy</a></p>\n","created_at":"2012-06-17 14:33:24 +0900","updated_at":"2012-06-17 14:33:24 +0900","created_at_in_words":"4\u30f6\u6708\u524d","updated_at_in_words":"4\u30f6\u6708\u524d","tags":[{"name":"Qiita","url_name":"Qiita","icon_url":"http://qiita.com/system/tags/icons/000/000/001/thumb/favicon.png?1320171109","item_count":165,"follower_count":1955,"versions":[]},{"name":"JavaScript","url_name":"JavaScript","icon_url":"http://qiita.com/system/tags/icons/000/000/015/thumb/images.jpeg?1316130454","item_count":577,"follower_count":4188,"versions":[]}],"stock_count":4,"stock_users":["ooooooo_q","ongaeshi","sys_cat","tatata111"],"comment_count":0,"url":"http://qiita.com/items/9d39ff8f913730f0a0a4","gist_url":null,"private":false,"created_at_as_seconds":1339911204},{"id":6065,"uuid":"5e16b608e3f0ad94af92","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"Ruby\u3067Python\u306e\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u7684\u306a\u3053\u3068\u3092\u3084\u308b\u65b9\u6cd5","body":"<p>Python\u306e\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u306fyield\u6587\u3092\u4f7f\u7528\u3057\u3066\uff0c\u95a2\u6570\u3092\u4e00\u6642\u7684\u306b\u505c\u6b62\u3055\u305b\uff0c\u9014\u4e2d\u7d4c\u904e\u306e\u7d50\u679c\u3092\u8fd4\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff0e</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">python</span></div><div class=\"highlight\"><pre><span class=\"k\">def</span> <span class=\"nf\">fibonacci</span><span class=\"p\">():</span>\n    <span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span>\n    <span class=\"k\">while</span> <span class=\"bp\">True</span><span class=\"p\">:</span>\n        <span class=\"k\">yield</span> <span class=\"n\">b</span>\n        <span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">b</span><span class=\"p\">,</span> <span class=\"n\">a</span> <span class=\"o\">+</span> <span class=\"n\">b</span>\n\n<span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">fibonacci</span><span class=\"p\">():</span>\n    <span class=\"k\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">)</span>\n</pre>\n</div>\n</div>\n<p>Ruby1.9\u3067\u306f\uff0cEnumerator\u30af\u30e9\u30b9\u3092\u4f7f\u3063\u3066\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u5b9f\u73fe\u3057\u307e\u3059\uff0e<br>\nRuby1.8\u3067\u306f\uff0c\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\u306eGenerator\u3092\u4f7f\u3044\u307e\u3059\uff0e<br>\nEnumerator#new\u306fEnumerator::Yielder\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5f15\u6570\u306b\u3068\u308a\uff0cYielder\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5bfe\u3057\u3066 &lt;&lt; \u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u308b\u305f\u3073\u306b\uff0ceach\u306b\u6e21\u3055\u308c\u305f\u30d6\u30ed\u30c3\u30af\u304c\u7e70\u308a\u8fd4\u3055\u308c\u307e\u3059\uff0e</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">ruby1.9</span></div><div class=\"highlight\"><pre><span class=\"n\">fib</span> <span class=\"o\">=</span> <span class=\"no\">Enumerator</span><span class=\"o\">.</span><span class=\"n\">new</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">y</span><span class=\"o\">|</span>\n  <span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span>\n  <span class=\"kp\">loop</span> <span class=\"k\">do</span>\n    <span class=\"n\">y</span> <span class=\"o\">&lt;&lt;</span> <span class=\"n\">b</span>  <span class=\"c1\"># Python\u306e yield b \u3068\u540c\u3058</span>\n    <span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">b</span><span class=\"p\">,</span> <span class=\"n\">a</span> <span class=\"o\">+</span> <span class=\"n\">b</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">fib</span><span class=\"o\">.</span><span class=\"n\">each</span> <span class=\"p\">{</span><span class=\"o\">|</span><span class=\"n\">i</span><span class=\"o\">|</span> <span class=\"nb\">puts</span> <span class=\"n\">i</span> <span class=\"p\">}</span>\n</pre>\n</div>\n</div>\n<p>\u3064\u3044\u3067\u306bRuby1.8\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff0e</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">ruby1.8</span></div><div class=\"highlight\"><pre><span class=\"nb\">require</span> <span class=\"s1\">&#39;generator&#39;</span>\n\n<span class=\"n\">fib</span> <span class=\"o\">=</span> <span class=\"no\">Generator</span><span class=\"o\">.</span><span class=\"n\">new</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">y</span><span class=\"o\">|</span>\n  <span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span>\n  <span class=\"kp\">loop</span> <span class=\"k\">do</span>\n    <span class=\"n\">y</span><span class=\"o\">.</span><span class=\"n\">yield</span> <span class=\"n\">b</span>\n    <span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">b</span><span class=\"p\">,</span> <span class=\"n\">a</span> <span class=\"o\">+</span> <span class=\"n\">b</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">fib</span><span class=\"o\">.</span><span class=\"n\">each</span> <span class=\"p\">{</span><span class=\"o\">|</span><span class=\"n\">i</span><span class=\"o\">|</span> <span class=\"nb\">puts</span> <span class=\"n\">i</span> <span class=\"p\">}</span>\n</pre>\n</div>\n</div>\n<p>Ruby1.9\u304b\u3089\uff0cGenerator\u304cEnumerator\u306b\u7d44\u307f\u8fbc\u307e\u308c\u305f\u3089\u3057\u3044\u3067\u3059\uff0e<br>\n<a href=\"http://www.atmarkit.co.jp/news/200712/25/ruby.html\">http:&#47;&#47;www.atmarkit.co.jp&#47;news&#47;200712&#47;25&#47;ruby.html</a></p>\n","created_at":"2012-06-11 15:56:14 +0900","updated_at":"2012-06-11 15:56:14 +0900","created_at_in_words":"4\u30f6\u6708\u524d","updated_at_in_words":"4\u30f6\u6708\u524d","tags":[{"name":"Ruby","url_name":"Ruby","icon_url":"http://qiita.com/system/tags/icons/000/000/003/thumb/ruby.jpeg?1316130908","item_count":778,"follower_count":2710,"versions":[]},{"name":"Python","url_name":"Python","icon_url":"http://qiita.com/system/tags/icons/000/000/004/thumb/search.gif?1316130880","item_count":211,"follower_count":1545,"versions":[]}],"stock_count":3,"stock_users":["kotakanbe","puriketu99","shindo_ryohei"],"comment_count":0,"url":"http://qiita.com/items/5e16b608e3f0ad94af92","gist_url":null,"private":false,"created_at_as_seconds":1339397774},{"id":6039,"uuid":"2445ca6b52a70db20853","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"Ruby\u306eeach_with_index\u3068\u304beach_pair\u307f\u305f\u3044\u306a\u3053\u3068\u3092Python\u3067\u3084\u308b\u65b9\u6cd5","body":"<p>Ruby\u3067\u306fEnumerator\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u3042\u308beach_with_index\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3063\u3066\uff0c\u30eb\u30fc\u30d7\u306e\u4f4d\u7f6e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53d6\u5f97\u3057\u307e\u3059\uff0e</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">Ruby</span></div><div class=\"highlight\"><pre><span class=\"o\">[</span><span class=\"s1\">&#39;tic&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;tac&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;toe&#39;</span><span class=\"o\">].</span><span class=\"n\">each_with_index</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">index</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"o\">|</span>\n    <span class=\"nb\">puts</span> <span class=\"n\">index</span><span class=\"p\">,</span> <span class=\"n\">value</span>\n<span class=\"k\">end</span>\n</pre>\n</div>\n</div>\n<p>Python\u3067\u306fenumerate()\u95a2\u6570\u3092\u4f7f\u3046\u3068\u4f4d\u7f6e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304a\u3088\u3073\u5bfe\u5fdc\u3057\u305f\u5024\u3092\u540c\u6642\u306b\u53d6\u5f97\u3067\u304d\u307e\u3059\uff0e</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\"></span></div><div class=\"highlight\"><pre><span class=\"k\">for</span> <span class=\"n\">index</span><span class=\"p\">,</span> <span class=\"n\">value</span> <span class=\"ow\">in</span> <span class=\"nb\">enumerate</span><span class=\"p\">([</span><span class=\"s\">&#39;tic&#39;</span><span class=\"p\">,</span><span class=\"s\">&#39;tac&#39;</span><span class=\"p\">,</span><span class=\"s\">&#39;toe&#39;</span><span class=\"p\">]):</span>\n    <span class=\"k\">print</span><span class=\"p\">(</span><span class=\"n\">index</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">)</span>\n</pre>\n</div>\n</div>\n<p>\u540c\u69d8\u306bRuby\u3067\u306f\uff0c\u30cf\u30c3\u30b7\u30e5\u306ekey\u304a\u3088\u3073value\u3092\u540c\u6642\u306b\u5f97\u308b\u305f\u3081\u306b\u306f\uff0ceach_pair\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3044\u307e\u3059\uff0e</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">Ruby</span></div><div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"nb\">name</span><span class=\"p\">:</span> <span class=\"s1\">&#39;y_uuki&#39;</span><span class=\"p\">,</span> <span class=\"nb\">id</span><span class=\"p\">:</span> <span class=\"s1\">&#39;123456&#39;</span><span class=\"p\">}</span><span class=\"o\">.</span><span class=\"n\">each_pair</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"o\">|</span>\n    <span class=\"nb\">puts</span> <span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"n\">value</span>\n<span class=\"k\">end</span>\n</pre>\n</div>\n</div>\n<p>Python\u3067\u306f\uff0citems()\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3044\u307e\u3059\uff0e</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\"></span></div><div class=\"highlight\"><pre><span class=\"k\">for</span> <span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"n\">value</span> <span class=\"ow\">in</span> <span class=\"p\">{</span><span class=\"s\">&#39;name&#39;</span><span class=\"p\">:</span> <span class=\"s\">&#39;y_uuki&#39;</span><span class=\"p\">,</span> <span class=\"s\">&#39;id&#39;</span><span class=\"p\">:</span> <span class=\"s\">&#39;123456&#39;</span><span class=\"p\">}</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n    <span class=\"k\">print</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">)</span>\n</pre>\n</div>\n</div>\n<p>\u30e1\u30bd\u30c3\u30c9\u540d\u306fRuby\u306e\u307b\u3046\u304c\u76f4\u611f\u7684\u306a\u6c17\u304c\u3059\u308b\uff0e<br>\neach_with_index &lt;=&gt; enumerate()<br>\neach_pair &lt;=&gt; items()</p>\n","created_at":"2012-06-10 17:13:40 +0900","updated_at":"2012-06-10 17:13:40 +0900","created_at_in_words":"4\u30f6\u6708\u524d","updated_at_in_words":"4\u30f6\u6708\u524d","tags":[{"name":"Ruby","url_name":"Ruby","icon_url":"http://qiita.com/system/tags/icons/000/000/003/thumb/ruby.jpeg?1316130908","item_count":778,"follower_count":2710,"versions":[]},{"name":"Python","url_name":"Python","icon_url":"http://qiita.com/system/tags/icons/000/000/004/thumb/search.gif?1316130880","item_count":211,"follower_count":1545,"versions":[]}],"stock_count":1,"stock_users":["kshimo69"],"comment_count":0,"url":"http://qiita.com/items/2445ca6b52a70db20853","gist_url":null,"private":false,"created_at_as_seconds":1339316020},{"id":5833,"uuid":"f59c31b9e0b64ce65bbf","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"Template Alias\u3067\u9577\u3063\u305f\u3089\u3057\u3044template\u5468\u308a\u306e\u8a18\u8ff0\u3092\u77ed\u7e2e\u3059\u308b","body":"<p>C++11\u304b\u3089Template Alias\u3068\u3044\u3046\u3082\u306e\u304c\u5c0e\u5165\u3055\u308c\u305f\u3088\u3046\u3067\u3059\uff0e<br>\n<a href=\"http://d.hatena.ne.jp/meryngii/20111226/1324901321\">Template Aliases - meryngii.neta</a></p>\n\n<p>\u3055\u304d\u307b\u3069\u6295\u7a3f\u3057\u305f<a href=\"http://qiita.com/items/db383ef68eaf43f6fcff\">C++11\u3067static\u306a\u95a2\u6570\u7fa4\u3092\u62bd\u8c61\u5316\u3059\u308b\u305f\u3081\u306e\u8a2d\u8a08\u30e1\u30e2</a><br>\n\u3067</p>\n\n<blockquote>\n<p>trait\u3067\u578b\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306e\u30a4\u30c7\u30a3\u30aa\u30e0\u304c\u9577\u3044\u3057\uff0c\u3082\u3046\u5c11\u3057\u306a\u3093\u3068\u304b\u306a\u3089\u306a\u3044\u3082\u306e\u304b\uff0e<br>\ntypename std::iterator_traits::value_type</p>\n</blockquote>\n\n<p>\u306f\u306a\u3093\u3068\u304b\u306a\u308a\u307e\u3059\u3002\u305d\u3046C++11\u306a\u3089\u306d\uff0e</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">C++</span></div><div class=\"highlight\"><pre><span class=\"c1\">// Template Alias (C++11)</span>\n<span class=\"k\">template</span> <span class=\"o\">&lt;</span><span class=\"k\">class</span> <span class=\"nc\">T</span><span class=\"o\">&gt;</span>\n<span class=\"k\">using</span> <span class=\"n\">value_t</span> <span class=\"o\">=</span> <span class=\"k\">typename</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">iterator_traits</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;::</span><span class=\"n\">value_type</span><span class=\"p\">;</span>\n\n<span class=\"k\">template</span> <span class=\"o\">&lt;</span><span class=\"k\">class</span> <span class=\"nc\">T</span><span class=\"o\">&gt;</span>\n<span class=\"k\">using</span> <span class=\"n\">LessPred</span> <span class=\"o\">=</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">less</span><span class=\"o\">&lt;</span> <span class=\"n\">value_t</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;</span> <span class=\"o\">&gt;</span><span class=\"p\">;</span>\n</pre>\n</div>\n</div>\n<p>\u306e\u3088\u3046\u306b\u4e88\u3081using\u3067Alias\u3092\u4f5c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff0e</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">C++</span></div><div class=\"highlight\"><pre><span class=\"k\">template</span> <span class=\"o\">&lt;</span><span class=\"k\">class</span> <span class=\"nc\">RandomAccessIterator</span><span class=\"p\">,</span> <span class=\"k\">class</span> <span class=\"nc\">Predicate</span> <span class=\"o\">=</span> <span class=\"n\">LessPred</span><span class=\"o\">&lt;</span><span class=\"n\">RandomAccessIterator</span><span class=\"o\">&gt;</span> <span class=\"o\">&gt;</span>\n<span class=\"k\">static</span> <span class=\"kt\">void</span> <span class=\"n\">heap_sort</span><span class=\"p\">(</span><span class=\"n\">RandomAccessIterator</span> <span class=\"n\">first</span><span class=\"p\">,</span> <span class=\"n\">RandomAccessIterator</span> <span class=\"n\">last</span><span class=\"p\">,</span>\n            <span class=\"n\">Predicate</span> <span class=\"n\">pred</span> <span class=\"o\">=</span> <span class=\"n\">LessPred</span><span class=\"o\">&lt;</span><span class=\"n\">RandomAccessIterator</span><span class=\"o\">&gt;</span><span class=\"p\">())</span>\n<span class=\"p\">{</span>\n    <span class=\"n\">_impl_hsort</span><span class=\"o\">::</span><span class=\"n\">build_heap</span><span class=\"o\">&lt;</span><span class=\"n\">RandomAccessIterator</span><span class=\"p\">,</span> <span class=\"n\">Predicate</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"n\">first</span><span class=\"p\">,</span> <span class=\"n\">last</span><span class=\"p\">,</span> <span class=\"n\">pred</span><span class=\"p\">);</span>\n    <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"k\">auto</span> <span class=\"n\">it</span> <span class=\"o\">=</span> <span class=\"n\">last</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">;</span> <span class=\"n\">it</span> <span class=\"o\">&gt;</span> <span class=\"n\">first</span><span class=\"p\">;</span> <span class=\"o\">--</span><span class=\"n\">it</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">iter_swap</span><span class=\"p\">(</span><span class=\"n\">first</span><span class=\"p\">,</span> <span class=\"n\">it</span><span class=\"p\">);</span> <span class=\"c1\">// move largest value to a part of sorted array</span>\n            <span class=\"n\">_impl_hsort</span><span class=\"o\">::</span><span class=\"n\">heapify</span><span class=\"o\">&lt;</span><span class=\"n\">RandomAccessIterator</span><span class=\"p\">,</span> <span class=\"n\">Predicate</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"n\">first</span><span class=\"p\">,</span> <span class=\"n\">it</span><span class=\"p\">,</span> <span class=\"n\">first</span><span class=\"p\">,</span> <span class=\"n\">pred</span><span class=\"p\">);</span> <span class=\"c1\">// first becomes largest</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre>\n</div>\n</div>","created_at":"2012-06-02 18:04:26 +0900","updated_at":"2012-06-02 18:04:26 +0900","created_at_in_words":"4\u30f6\u6708\u524d","updated_at_in_words":"4\u30f6\u6708\u524d","tags":[{"name":"C++","url_name":"C%2B%2B","icon_url":"http://qiita.com/system/tags/icons/000/000/011/thumb/203px-Gccegg.png?1328941397","item_count":76,"follower_count":1113,"versions":[]}],"stock_count":1,"stock_users":["le_skamba"],"comment_count":0,"url":"http://qiita.com/items/f59c31b9e0b64ce65bbf","gist_url":null,"private":false,"created_at_as_seconds":1338627866},{"id":5831,"uuid":"db383ef68eaf43f6fcff","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"C++11\u3067static\u306a\u95a2\u6570\u7fa4\u3092\u62bd\u8c61\u5316\u3059\u308b\u305f\u3081\u306e\u8a2d\u8a08\u30e1\u30e2","body":"<p><a href=\"http://yuuki.hatenablog.com/entry/C++11%E3%81%A7static%E3%81%AA%E9%96%A2%E6%95%B0%E7%BE%A4%E3%82%92%E6%8A%BD%E8%B1%A1%E5%8C%96%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AE%E8%A8%AD%E8%A8%88%E3%83%A1%E3%83%A2_\">\u30d6\u30ed\u30b0</a>\u306b\u3082\u8ee2\u8f09\u3057\u3066\u3044\u307e\u3059\uff0e</p>\n\n<p>C++\u3092\u59cb\u3081\u30661\u30f6\u6708\u5f31\u306b\u306a\u308a\u307e\u3059\uff0egcc\u306e\u30a8\u30e9\u30fc\u3092\u8aad\u3080\u306e\u304c\u3057\u3093\u3069\u3044\u3067\u3059\uff0e\u305d\u308d\u305d\u308dTBB\u3092\u4f7f\u3044\u305f\u3044\uff0e</p>\n\n<p>\u524d\u56de(<a href=\"http://qiita.com/items/16532cbb20ce15e622ed\">http:&#47;&#47;qiita.com&#47;items&#47;16532cbb20ce15e622ed</a>) \u306eSorter\u30af\u30e9\u30b9\u306e\u8a2d\u8a08\u3092\u5c11\u3057\u307e\u3068\u3082\u306b\u3057\u3066\u307f\u305f\uff0e</p>\n\n<p><a href=\"http://github.com/y-uuki/cpp-sorter\">http:&#47;&#47;github.com&#47;y-uuki&#47;cpp-sorter</a></p>\n\n<p><strong>\u3084\u3063\u305f\u3053\u3068</strong></p>\n\n<ul>\n<li><p>Template\u5c55\u958b\u306b\u3088\u308aint\u578b\u4ee5\u5916\u306e\u30c7\u30fc\u30bf\u578b\u306b\u5bfe\u5fdc\u3057\u305f\uff0e</p></li>\n<li><p>std::greater&lt;&gt;()\u306a\u3069\u306e\u30d7\u30ec\u30c7\u30a3\u30b1\u30fc\u30c8\u3092\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\uff0e</p></li>\n<li><p>\u95a2\u6570\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5f15\u6570\uff08C++11\uff09\u306b\u3088\u308a\uff0c\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30d7\u30ec\u30c7\u30a3\u30b1\u30fc\u30c8\u306estd::less&lt;&gt;()\u306b\u3057\u305f\uff0e</p></li>\n<li><p>\u30bd\u30fc\u30c8\u306b\u72b6\u614b\u3068\u304b\u3044\u3089\u306a\u3044\u3057\uff0c\u62bd\u8c61\u30af\u30e9\u30b9\u306b\u3088\u308b\u62bd\u8c61\u5316\u3092\u3084\u3081\u3066\u4ee3\u308f\u308a\u306b\uff0c\u540d\u524d\u7a7a\u9593 namespace mysorter\u5185\u306bstatic\u95a2\u6570\u3092\u304a\u304f\u3060\u3051\u306b\u3057\u305f\uff0e</p></li>\n<li><p>private\u306b\u3057\u305f\u3044\u95a2\u6570\u3092\u307e\u3068\u3081\u3066\u304a\u304f\u305f\u3081\u306e\u540d\u524d\u7a7a\u9593 namespace _impl\u3092\u3064\u304f\u308a\uff0c\u64ec\u4f3c\u7684\u306b\u30ab\u30d7\u30bb\u30eb\u5316\u3057\u305f\uff0e\uff08@Linda_pp\u306b\u6559\u308f\u3063\u305f\uff09</p></li>\n<li><p>\u30af\u30a4\u30c3\u30af\u30bd\u30fc\u30c8\u3068\u30d2\u30fc\u30d7\u30bd\u30fc\u30c8\u3092\u8ffd\u52a0\u3057\u305f\uff0e</p></li>\n</ul>\n\n<p><strong>\u547c\u3073\u51fa\u3057\u5074</strong></p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">C++</span></div><div class=\"highlight\"><pre><span class=\"kt\">int</span> <span class=\"n\">main</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">vector</span><span class=\"o\">&lt;</span><span class=\"kt\">int</span><span class=\"o\">&gt;</span> <span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"mi\">30</span><span class=\"p\">,</span> <span class=\"mi\">40</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">70</span><span class=\"p\">,</span> <span class=\"mi\">20</span><span class=\"p\">,</span> <span class=\"mi\">90</span><span class=\"p\">,</span> <span class=\"mi\">50</span><span class=\"p\">,</span> <span class=\"mi\">60</span><span class=\"p\">,</span> <span class=\"mi\">80</span><span class=\"p\">};</span>\n    <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">cout</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot;original:</span><span class=\"se\">\\n</span><span class=\"s\">&quot;</span><span class=\"p\">;</span>\n    <span class=\"n\">print</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">);</span>\n\n    <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">cout</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot;heap_sort:</span><span class=\"se\">\\n</span><span class=\"s\">&quot;</span><span class=\"p\">;</span>\n    <span class=\"k\">auto</span> <span class=\"n\">g</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">);</span>\n    <span class=\"n\">mysorter</span><span class=\"o\">::</span><span class=\"n\">heap_sort</span><span class=\"p\">(</span><span class=\"n\">g</span><span class=\"p\">.</span><span class=\"n\">begin</span><span class=\"p\">(),</span> <span class=\"n\">g</span><span class=\"p\">.</span><span class=\"n\">end</span><span class=\"p\">(),</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">greater</span><span class=\"o\">&lt;&gt;</span><span class=\"p\">);</span>\n    <span class=\"n\">print</span><span class=\"p\">(</span><span class=\"n\">g</span><span class=\"p\">);</span>\n\n    <span class=\"k\">return</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre>\n</div>\n</div>\n<p><strong>\u5b9f\u88c5\u5074</strong></p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">sorter.hpp</span></div><div class=\"highlight\"><pre><span class=\"c1\">/////////// Heap Sort ///////////</span>\n<span class=\"k\">namespace</span> <span class=\"n\">_impl_hsort</span> <span class=\"p\">{</span>\n\n    <span class=\"k\">template</span> <span class=\"o\">&lt;</span>\n        <span class=\"k\">class</span> <span class=\"nc\">RandomAccessIterator</span><span class=\"p\">,</span>\n        <span class=\"k\">class</span> <span class=\"nc\">Predicate</span> <span class=\"o\">=</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">less</span><span class=\"o\">&lt;</span> <span class=\"k\">typename</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">iterator_traits</span><span class=\"o\">&lt;</span><span class=\"n\">RandomAccessIterator</span><span class=\"o\">&gt;::</span><span class=\"n\">value_type</span> <span class=\"o\">&gt;</span>\n    <span class=\"o\">&gt;</span>\n    <span class=\"k\">static</span> <span class=\"kt\">void</span> <span class=\"n\">heapify</span><span class=\"p\">(</span><span class=\"n\">RandomAccessIterator</span> <span class=\"n\">first</span><span class=\"p\">,</span> <span class=\"n\">RandomAccessIterator</span> <span class=\"n\">last</span><span class=\"p\">,</span> <span class=\"k\">const</span> <span class=\"n\">RandomAccessIterator</span> <span class=\"n\">idx</span><span class=\"p\">,</span> <span class=\"k\">const</span> <span class=\"n\">Predicate</span> <span class=\"n\">pred</span><span class=\"p\">)</span>\n    <span class=\"p\">{</span>\n        <span class=\"k\">auto</span> <span class=\"k\">const</span> <span class=\"n\">left</span> <span class=\"o\">=</span> <span class=\"n\">first</span> <span class=\"o\">+</span> <span class=\"mi\">2</span> <span class=\"o\">*</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">distance</span><span class=\"p\">(</span><span class=\"n\">first</span><span class=\"p\">,</span> <span class=\"n\">idx</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n        <span class=\"k\">auto</span> <span class=\"k\">const</span> <span class=\"n\">right</span> <span class=\"o\">=</span> <span class=\"n\">first</span> <span class=\"o\">+</span> <span class=\"mi\">2</span> <span class=\"o\">*</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">distance</span><span class=\"p\">(</span><span class=\"n\">first</span><span class=\"p\">,</span> <span class=\"n\">idx</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"mi\">2</span><span class=\"p\">;</span>\n        <span class=\"k\">auto</span> <span class=\"n\">largest</span> <span class=\"o\">=</span> <span class=\"n\">idx</span><span class=\"p\">;</span> <span class=\"c1\">// largest or smallest</span>\n\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">left</span> <span class=\"o\">&lt;</span> <span class=\"n\">last</span> <span class=\"n\">and</span> <span class=\"n\">pred</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">idx</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">left</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n            <span class=\"n\">largest</span> <span class=\"o\">=</span> <span class=\"n\">left</span><span class=\"p\">;</span>\n        <span class=\"p\">}</span>\n\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">right</span> <span class=\"o\">&lt;</span> <span class=\"n\">last</span> <span class=\"n\">and</span> <span class=\"n\">pred</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">largest</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">right</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n            <span class=\"n\">largest</span> <span class=\"o\">=</span> <span class=\"n\">right</span><span class=\"p\">;</span>\n        <span class=\"p\">}</span>\n\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">largest</span> <span class=\"o\">!=</span> <span class=\"n\">idx</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n            <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">iter_swap</span><span class=\"p\">(</span><span class=\"n\">idx</span><span class=\"p\">,</span> <span class=\"n\">largest</span><span class=\"p\">);</span>\n            <span class=\"n\">heapify</span><span class=\"p\">(</span><span class=\"n\">first</span><span class=\"p\">,</span> <span class=\"n\">last</span><span class=\"p\">,</span> <span class=\"n\">largest</span><span class=\"p\">,</span> <span class=\"n\">pred</span><span class=\"p\">);</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">template</span> <span class=\"o\">&lt;</span>\n        <span class=\"k\">class</span> <span class=\"nc\">RandomAccessIterator</span><span class=\"p\">,</span>\n        <span class=\"k\">class</span> <span class=\"nc\">Predicate</span> <span class=\"o\">=</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">less</span><span class=\"o\">&lt;</span> <span class=\"k\">typename</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">iterator_traits</span><span class=\"o\">&lt;</span><span class=\"n\">RandomAccessIterator</span><span class=\"o\">&gt;::</span><span class=\"n\">value_type</span> <span class=\"o\">&gt;</span>\n    <span class=\"o\">&gt;</span>\n    <span class=\"k\">static</span> <span class=\"kt\">void</span> <span class=\"n\">build_heap</span><span class=\"p\">(</span><span class=\"n\">RandomAccessIterator</span> <span class=\"n\">first</span><span class=\"p\">,</span> <span class=\"n\">RandomAccessIterator</span> <span class=\"n\">last</span><span class=\"p\">,</span> <span class=\"k\">const</span> <span class=\"n\">Predicate</span> <span class=\"n\">pred</span><span class=\"p\">)</span>\n    <span class=\"p\">{</span>\n        <span class=\"k\">const</span> <span class=\"n\">size_t</span> <span class=\"n\">n</span> <span class=\"o\">=</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">distance</span><span class=\"p\">(</span><span class=\"n\">first</span><span class=\"p\">,</span> <span class=\"n\">last</span><span class=\"p\">);</span>\n        <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"k\">auto</span> <span class=\"n\">it</span> <span class=\"o\">=</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">next</span><span class=\"p\">(</span><span class=\"n\">first</span><span class=\"p\">,</span> <span class=\"n\">n</span><span class=\"o\">/</span><span class=\"mi\">2</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">);</span> <span class=\"n\">it</span> <span class=\"o\">&gt;=</span> <span class=\"n\">first</span><span class=\"p\">;</span> <span class=\"o\">--</span><span class=\"n\">it</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n            <span class=\"n\">heapify</span><span class=\"p\">(</span><span class=\"n\">first</span><span class=\"p\">,</span> <span class=\"n\">last</span><span class=\"p\">,</span> <span class=\"n\">it</span><span class=\"p\">,</span> <span class=\"n\">pred</span><span class=\"p\">);</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n\n<span class=\"p\">}</span>\n\n<span class=\"k\">template</span> <span class=\"o\">&lt;</span>\n    <span class=\"k\">class</span> <span class=\"nc\">RandomAccessIterator</span><span class=\"p\">,</span>\n    <span class=\"k\">class</span> <span class=\"nc\">Predicate</span> <span class=\"o\">=</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">less</span><span class=\"o\">&lt;</span> <span class=\"k\">typename</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">iterator_traits</span><span class=\"o\">&lt;</span><span class=\"n\">RandomAccessIterator</span><span class=\"o\">&gt;::</span><span class=\"n\">value_type</span> <span class=\"o\">&gt;</span>\n<span class=\"o\">&gt;</span>\n<span class=\"k\">static</span> <span class=\"kt\">void</span> <span class=\"n\">heap_sort</span><span class=\"p\">(</span><span class=\"n\">RandomAccessIterator</span> <span class=\"n\">first</span><span class=\"p\">,</span> <span class=\"n\">RandomAccessIterator</span> <span class=\"n\">last</span><span class=\"p\">,</span>\n        <span class=\"k\">const</span> <span class=\"n\">Predicate</span> <span class=\"n\">pred</span> <span class=\"o\">=</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">less</span><span class=\"o\">&lt;</span> <span class=\"k\">typename</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">iterator_traits</span><span class=\"o\">&lt;</span><span class=\"n\">RandomAccessIterator</span><span class=\"o\">&gt;::</span><span class=\"n\">value_type</span> <span class=\"o\">&gt;</span><span class=\"p\">())</span>\n<span class=\"p\">{</span>\n    <span class=\"n\">_impl_hsort</span><span class=\"o\">::</span><span class=\"n\">build_heap</span><span class=\"o\">&lt;</span><span class=\"n\">RandomAccessIterator</span><span class=\"p\">,</span> <span class=\"n\">Predicate</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"n\">first</span><span class=\"p\">,</span> <span class=\"n\">last</span><span class=\"p\">,</span> <span class=\"n\">pred</span><span class=\"p\">);</span>\n    <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"k\">auto</span> <span class=\"n\">it</span> <span class=\"o\">=</span> <span class=\"n\">last</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">;</span> <span class=\"n\">it</span> <span class=\"o\">&gt;</span> <span class=\"n\">first</span><span class=\"p\">;</span> <span class=\"o\">--</span><span class=\"n\">it</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">iter_swap</span><span class=\"p\">(</span><span class=\"n\">first</span><span class=\"p\">,</span> <span class=\"n\">it</span><span class=\"p\">);</span> <span class=\"c1\">// move largest value to a part of sorted array</span>\n        <span class=\"n\">_impl_hsort</span><span class=\"o\">::</span><span class=\"n\">heapify</span><span class=\"o\">&lt;</span><span class=\"n\">RandomAccessIterator</span><span class=\"p\">,</span> <span class=\"n\">Predicate</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"n\">first</span><span class=\"p\">,</span> <span class=\"n\">it</span><span class=\"p\">,</span> <span class=\"n\">first</span><span class=\"p\">,</span> <span class=\"n\">pred</span><span class=\"p\">);</span> <span class=\"c1\">// first becomes largest</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre>\n</div>\n</div>\n<h2>\u8ab2\u984c</h2>\n\n<p>\u73fe\u72b6\u306e\u5b9f\u88c5\u3060\u3068\uff0c\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3068\u304d\u306b\u5404\u30bd\u30fc\u30c8\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3054\u3068\u306b\u540c\u4e00\u5165\u529b\u306e\u30c6\u30b9\u30c8\u3092\u66f8\u304b\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3057\u5197\u9577\u306b\u306a\u308b\uff0c<br>\n\u305d\u3053\u3067\uff0c<a href=\"http://www.slideshare.net/krustf/c11-11577820\">C++11\uff08\u4ed6\uff09\u5165\u9580</a>\u306b\u66f8\u304b\u308c\u3066\u3044\u308bTag Dispatch\u3067\u62bd\u8c61\u5316\u3057\u305f\u3044\uff0e</p>\n\n<p>trait\u3067\u578b\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306e\u30a4\u30c7\u30a3\u30aa\u30e0\u304c\u9577\u3044\u3057\uff0c\u3082\u3046\u5c11\u3057\u306a\u3093\u3068\u304b\u306a\u3089\u306a\u3044\u3082\u306e\u304b\uff0e<br>\ntypename std::iterator_traits::value_type</p>\n","created_at":"2012-06-02 15:53:59 +0900","updated_at":"2012-06-02 17:16:43 +0900","created_at_in_words":"4\u30f6\u6708\u524d","updated_at_in_words":"4\u30f6\u6708\u524d","tags":[{"name":"C++","url_name":"C%2B%2B","icon_url":"http://qiita.com/system/tags/icons/000/000/011/thumb/203px-Gccegg.png?1328941397","item_count":76,"follower_count":1113,"versions":[]}],"stock_count":1,"stock_users":["le_skamba"],"comment_count":0,"url":"http://qiita.com/items/db383ef68eaf43f6fcff","gist_url":null,"private":false,"created_at_as_seconds":1338620039},{"id":5680,"uuid":"9971ca3e0b0f411df9dd","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"C++\u3067\u8f9e\u66f8\u30bd\u30fc\u30c8","body":"<p><a href=\"http://arc003.contest.atcoder.jp/tasks/arc003_2\">AtCoder#3\u306e\u554f\u984c</a>\u3067\u8f9e\u66f8\u30bd\u30fc\u30c8\u304c\u3042\u3063\u305f\u306e\u3067\u6163\u308c\u306a\u3044C++\u3067\u89e3\u3044\u3066\u307f\u305f\uff0estd::sort\u306b\u5bfe\u3057\u3066\u6bd4\u8f03\u95a2\u6570\uff08\u30d7\u30ec\u30c7\u30a3\u30b1\u30fc\u30c8\uff09\u306e\u4f5c\u308a\u65b9\u3092\u77e5\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u30e1\u30e2\uff0e</p>\n\n<p>C++\u3067\u306f\u6bd4\u8f03\u95a2\u6570\u3068\u3057\u3066\u4ee5\u4e0b\u306e\u30b7\u30b0\u30cd\u30c1\u30e3\u3092\u3082\u3064\u6bd4\u8f03\u6f14\u7b97\u5b50\u3092\u3082\u3064\u30af\u30e9\u30b9\u3092\u5b9a\u7fa9\u3057\u3066\u3084\u308c\u3070\u826f\u3044\uff0e</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">C++</span></div><div class=\"highlight\"><pre><span class=\"kt\">bool</span> <span class=\"k\">operator</span><span class=\"p\">()(</span><span class=\"k\">const</span> <span class=\"k\">typename</span><span class=\"o\">&amp;</span> <span class=\"n\">p</span><span class=\"p\">,</span> <span class=\"k\">const</span> <span class=\"k\">typename</span><span class=\"o\">&amp;</span> <span class=\"n\">q</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// return true or false</span>\n<span class=\"p\">}</span>\n</pre>\n</div>\n</div><div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">atcoder3-B.cpp</span></div><div class=\"highlight\"><pre><span class=\"cp\">#include &lt;algorithm&gt;</span>\n<span class=\"cp\">#include &lt;iostream&gt;</span>\n<span class=\"cp\">#include &lt;set&gt;</span>\n<span class=\"cp\">#include &lt;vector&gt;</span>\n\n<span class=\"k\">using</span> <span class=\"k\">namespace</span> <span class=\"n\">std</span><span class=\"p\">;</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">LessReverseDictinary</span> <span class=\"p\">{</span>\n    <span class=\"k\">public</span><span class=\"o\">:</span>\n        <span class=\"kt\">bool</span> <span class=\"k\">operator</span><span class=\"p\">()(</span><span class=\"k\">const</span> <span class=\"n\">string</span><span class=\"o\">&amp;</span> <span class=\"n\">w1</span><span class=\"p\">,</span> <span class=\"k\">const</span> <span class=\"n\">string</span><span class=\"o\">&amp;</span> <span class=\"n\">w2</span><span class=\"p\">)</span> <span class=\"k\">const</span>\n        <span class=\"p\">{</span>\n            <span class=\"n\">string</span><span class=\"o\">::</span><span class=\"n\">const_reverse_iterator</span> <span class=\"n\">ri</span> <span class=\"o\">=</span> <span class=\"n\">w1</span><span class=\"p\">.</span><span class=\"n\">rbegin</span><span class=\"p\">(),</span> <span class=\"n\">rj</span> <span class=\"o\">=</span> <span class=\"n\">w2</span><span class=\"p\">.</span><span class=\"n\">rbegin</span><span class=\"p\">();</span>\n            <span class=\"k\">while</span> <span class=\"p\">((</span><span class=\"n\">ri</span> <span class=\"o\">!=</span> <span class=\"n\">w1</span><span class=\"p\">.</span><span class=\"n\">rend</span><span class=\"p\">())</span> <span class=\"o\">||</span> <span class=\"p\">(</span><span class=\"n\">rj</span> <span class=\"o\">!=</span> <span class=\"n\">w2</span><span class=\"p\">.</span><span class=\"n\">rend</span><span class=\"p\">()))</span> <span class=\"p\">{</span>\n                <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">ri</span> <span class=\"o\">&lt;</span> <span class=\"o\">*</span><span class=\"n\">rj</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                    <span class=\"k\">return</span> <span class=\"kc\">true</span><span class=\"p\">;</span>\n                <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">ri</span> <span class=\"o\">&gt;</span> <span class=\"o\">*</span><span class=\"n\">rj</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                    <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n                <span class=\"p\">}</span>\n                <span class=\"o\">++</span><span class=\"n\">ri</span><span class=\"p\">;</span>\n                <span class=\"o\">++</span><span class=\"n\">rj</span><span class=\"p\">;</span>\n            <span class=\"p\">}</span>\n            <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">w1</span><span class=\"p\">.</span><span class=\"n\">size</span><span class=\"p\">()</span> <span class=\"o\">&lt;</span> <span class=\"n\">w2</span><span class=\"p\">.</span><span class=\"n\">size</span><span class=\"p\">())</span> <span class=\"k\">return</span> <span class=\"kc\">true</span><span class=\"p\">;</span>\n            <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n        <span class=\"p\">}</span>\n<span class=\"p\">};</span>\n\n<span class=\"kt\">int</span> <span class=\"n\">main</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"kt\">int</span> <span class=\"n\">num</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n    <span class=\"n\">cin</span> <span class=\"o\">&gt;&gt;</span> <span class=\"n\">num</span><span class=\"p\">;</span>\n    <span class=\"n\">vector</span><span class=\"o\">&lt;</span><span class=\"n\">string</span><span class=\"o\">&gt;</span> <span class=\"n\">words</span><span class=\"p\">(</span><span class=\"n\">num</span><span class=\"p\">);</span>\n    <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"n\">vector</span><span class=\"o\">&lt;</span><span class=\"n\">string</span><span class=\"o\">&gt;::</span><span class=\"n\">iterator</span> <span class=\"n\">w</span> <span class=\"o\">=</span> <span class=\"n\">words</span><span class=\"p\">.</span><span class=\"n\">begin</span><span class=\"p\">();</span> <span class=\"n\">w</span> <span class=\"o\">!=</span> <span class=\"n\">words</span><span class=\"p\">.</span><span class=\"n\">end</span><span class=\"p\">();</span> <span class=\"o\">++</span><span class=\"n\">w</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"n\">cin</span> <span class=\"o\">&gt;&gt;</span> <span class=\"o\">*</span><span class=\"n\">w</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n    <span class=\"n\">sort</span><span class=\"p\">(</span><span class=\"n\">words</span><span class=\"p\">.</span><span class=\"n\">begin</span><span class=\"p\">(),</span> <span class=\"n\">words</span><span class=\"p\">.</span><span class=\"n\">end</span><span class=\"p\">(),</span> <span class=\"n\">LessReverseDictinary</span><span class=\"p\">());</span>\n    <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"n\">vector</span><span class=\"o\">&lt;</span><span class=\"n\">string</span><span class=\"o\">&gt;::</span><span class=\"n\">iterator</span> <span class=\"n\">w</span> <span class=\"o\">=</span> <span class=\"n\">words</span><span class=\"p\">.</span><span class=\"n\">begin</span><span class=\"p\">();</span> <span class=\"n\">w</span> <span class=\"o\">!=</span> <span class=\"n\">words</span><span class=\"p\">.</span><span class=\"n\">end</span><span class=\"p\">();</span> <span class=\"o\">++</span><span class=\"n\">w</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"n\">cout</span> <span class=\"o\">&lt;&lt;</span>  <span class=\"o\">*</span><span class=\"n\">w</span> <span class=\"o\">&lt;&lt;</span>  <span class=\"n\">endl</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n    <span class=\"k\">return</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre>\n</div>\n</div>\n<p>string::const_reverse_iterator\u306e\u3068\u3053\u308d\u3092const string::reverse_iterator\u3068\u304b\u3084\u3063\u3066\u3066\u5730\u5473\u306b\u30cf\u30de\u3063\u305f\uff0e<br>\n\u5b9a\u7fa9\u5143(reverse_iterator)\u3092\u898b\u308b\u3068const_reverse_iterator\u306f</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">C++</span></div><div class=\"highlight\"><pre><span class=\"k\">typedef</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">reverse_iterator</span><span class=\"o\">&lt;</span><span class=\"n\">const_iterator</span><span class=\"o\">&gt;</span> <span class=\"n\">const_reverse_iterator</span><span class=\"p\">;</span>\n</pre>\n</div>\n</div>\n<p>\u3068\u306a\u3063\u3066\u304a\u308a\uff0cconst_iterator\u3092reverese_iterator\u3067\u304f\u308b\u3093\u3060\u3082\u306e\uff0e\u306a\u308b\u307b\u3069\u3001\u3053\u308c\u306a\u3089rit++\u3068\u304b\u3057\u3066\u3082\u5927\u4e08\u592b\u306a\u308f\u3051\u304b\uff0e</p>\n\n<p>const typename::reverse_iterator\u3068\u304b\u305d\u3082\u305d\u3082\u4f7f\u3046\u3053\u3068\u3042\u308b\u306e\u304b...</p>\n","created_at":"2012-05-28 01:32:28 +0900","updated_at":"2012-06-02 22:36:12 +0900","created_at_in_words":"5\u30f6\u6708\u524d","updated_at_in_words":"4\u30f6\u6708\u524d","tags":[{"name":"C++","url_name":"C%2B%2B","icon_url":"http://qiita.com/system/tags/icons/000/000/011/thumb/203px-Gccegg.png?1328941397","item_count":76,"follower_count":1113,"versions":[]}],"stock_count":0,"stock_users":[],"comment_count":2,"url":"http://qiita.com/items/9971ca3e0b0f411df9dd","gist_url":null,"private":false,"created_at_as_seconds":1338136348},{"id":5347,"uuid":"74f295c67a1a93f507a0","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"Gist\u306b\u6295\u7a3f\u3057\u305f\u30b3\u30fc\u30c9\u3092jQuery\u3067\u8868\u793a\u3059\u308b\u3068\u304d\u306b\u8a70\u307e\u3063\u305f","body":"<p>Gist\u306b\u6295\u7a3f\u3057\u305f\u30b3\u30fc\u30c9\u3092\u30d6\u30ed\u30b0\u306a\u3069\u306b\u8cbc\u308a\u4ed8\u3051\u308b\u306b\u306f\uff0c<br>\n<code>&lt;script src=https:&#47;&#47;gist.github.com&#47;1020768.js&gt;</code><br>\n\u306e\u3088\u3046\u306bHTML\u5185\u306b\u57cb\u3081\u8fbc\u3081\u3070\u3088\u3044\uff0e</p>\n\n<p>\u305f\u3060\u3057\uff0c\u4e0a\u8a18\u30b3\u30fc\u30c9\u3092jQuery\u3067HTML\u306b\u5dee\u3057\u8fbc\u3080\u5834\u5408\u306f\uff0c\u3046\u307e\u304f\u8868\u793a\u3055\u308c\u306a\u3044\uff0e<br>\n\u539f\u56e0\u306fjQuery\u304cscript\u8981\u7d20\u3092\u524a\u9664\u3059\u308b\u304b\u3089\uff0e\uff08\u591a\u5206\uff0c\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5bfe\u7b56\uff09</p>\n\n<p>\u4ee5\u4e0b\u306b\u3044\u308d\u3044\u308d\u306a\u5bfe\u7b56\u304c\u66f8\u304b\u308c\u3066\u305f\u3051\u3069\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u3002<br>\n<a href=\"http://stackoverflow.com/questions/610995/jquery-cant-append-script-element\">http:&#47;&#47;stackoverflow.com&#47;questions&#47;610995&#47;jquery-cant-append-script-element</a></p>\n\n<p>\u306e\u3067\uff0c\u7d50\u5c40<br>\n<a href=\"https://gist.github.com/1020768.json\">https:&#47;&#47;gist.github.com&#47;1020768.json</a><br>\n\u306e\u3088\u3046\u306bJSON\u3067Gist\u6295\u7a3f\u30b3\u30fc\u30c9\u306eHTML\u3092\u53d6\u5f97\u3067\u304d\u308b\u306e\u3067\uff0c\u305d\u306eHTML\u3092\u4efb\u610f\u306e\u4f4d\u7f6e\u306bjQuery\u3067\u5dee\u3057\u8fbc\u3081\u3070\u3088\u3044\uff0e<br>\n\uff08JSON\u306e\u8981\u7d20\u5185\uff08&quot;description&quot;\uff09\u306bHTML\u304c\u76f4\u306b\u5165\u3063\u3066\u308b\uff0e\uff09</p>\n","created_at":"2012-05-16 15:26:20 +0900","updated_at":"2012-06-02 17:19:18 +0900","created_at_in_words":"5\u30f6\u6708\u524d","updated_at_in_words":"4\u30f6\u6708\u524d","tags":[{"name":"jQuery","url_name":"jQuery","icon_url":"http://qiita.com/system/tags/icons/000/000/127/thumb/imgres.jpeg?1328014679","item_count":90,"follower_count":547,"versions":[]}],"stock_count":0,"stock_users":[],"comment_count":0,"url":"http://qiita.com/items/74f295c67a1a93f507a0","gist_url":null,"private":false,"created_at_as_seconds":1337149580},{"id":5153,"uuid":"16532cbb20ce15e622ed","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"Twitter\u898b\u3066\u305f\u3089C++\u3084\u3089\u306a\u3044\u3068\u3084\u3070\u3044\u307f\u305f\u3044\u306a\u611f\u3058\u306b\u306a\u3063\u3066\u304d\u305f\u306e\u3067\u3068\u308a\u3042\u3048\u305a\u30bd\u30fc\u30c8\u66f8\u3044\u3066\u307f\u305f","body":"<p>\u30d6\u30ed\u30b0\u306b\u3082\u8ee2\u8f09\u3057\u3066\u3044\u307e\u3059\u3002<br>\n<a href=\"http://yuuki.hatenablog.com/entry/c++sort1\">http:&#47;&#47;yuuki.hatenablog.com&#47;entry&#47;c++sort1</a></p>\n\n<p>TL\u3067\u306f\u95c7\u306e\u8ecd\u56e3\u306e\u65b9\u3005\u306b\u3088\u308b\u6d3b\u767a\u306aC++\u30b9\u30c6\u30de\u304c\u884c\u308f\u308c\u3066\u304a\u308a\uff0c\u306a\u3093\u304bC++\u3084\u3063\u3068\u304b\u306a\u3044\u3068\u307f\u305f\u3044\u306a\u6c17\u5206\u306b\u306a\u3063\u305f\u306e\u3067\uff0c\u7df4\u7fd2\u7528\u306b\u30bd\u30fc\u30c8\u3092\u66f8\u3044\u3066\u307f\u305f\u3002C++\u8d85\u521d\u5fc3\u8005\u3067\u3059\u3002C\u3084Java\u306f\u305d\u308c\u3089\u3057\u3044\u3082\u306e\u304c\u66f8\u3051\u305f\u308a\u3057\u307e\u3059\u3002</p>\n\n<p>\u6700\u8fd1C++11\u306a\u308b\u65b0\u3057\u3044\u4ed5\u69d8\u304c\u7b56\u5b9a\u3055\u308c\u305f\u3088\u3046\u306a\u306e\u3067\uff0c\u4e00\u5fdc\u305d\u308c\u306b\u6cbf\u3063\u3066\u66f8\u3044\u305f...\u3064\u3082\u308a\u3002</p>\n\n<p>\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u6016\u3044\u3088\u304a\u3002</p>\n\n<h2>\u5927\u96d1\u628a\u306a\u8a2d\u8a08</h2>\n\n<p>\u89aa\u30af\u30e9\u30b9Sorter\u3092\u7d99\u627f\u3057\u305f\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u5225\u306e\u5b50\u30af\u30e9\u30b9\u3092\u66f8\u3044\u3066\u304f\u611f\u3058\u3002<br>\nSorter\u306fJava\u306e\u62bd\u8c61\u30af\u30e9\u30b9\u307f\u305f\u3044\u306a\u6271\u3044\u3067\uff0c\u30bd\u30fc\u30c8\u5bfe\u8c61\u306e\u6570\u5217setter\uff0c\u30bd\u30fc\u30c8\u306e\u5b9f\u884c\u30e1\u30bd\u30c3\u30c9\u304a\u3088\u3073\u30bd\u30fc\u30c8\u7d50\u679c\u3092\u8fd4\u3059getter\u3092\u3082\u3064\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306b\u3059\u308b\u3002<br>\n\u4eca\u56de\u306f\u633f\u5165\u30bd\u30fc\u30c8\u306e\u307f\u66f8\u3044\u305f\u3002</p>\n\n<h2>C++11\u304b\u3089\u5c0e\u5165\u3055\u308c\u305f\u6a5f\u80fd</h2>\n\n<p>\u4eca\u56de\u4f7f\u3063\u305fC++11\u306e\u65b0\u6a5f\u80fd\u3002</p>\n\n<p>*Range-base for\uff1afor-each\u304c\u3067\u304d\u3066\u30cf\u30c3\u30d4\u30fc\u3002</p>\n\n<p>*\u578b\u63a8\u8ad6\uff1atemplate\u3068\u304b\u306e\u4ee3\u308f\u308a\u306bauto\u3067\u3089\u304f\u3089\u304f\u3002</p>\n\n<p>*vector\u306e\u65b0\u3057\u3044\u521d\u671f\u5316\u69cb\u6587\uff1a std::vector v = {32, 71, 12}</p>\n\n<h2>\u5b9f\u88c5</h2>\n\n<p>gcc ver 4.7.0\u3067\u52d5\u4f5c\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002</p>\n\n<p><a href=\"https://github.com/y-uuki/cpp-sorter\">https:&#47;&#47;github.com&#47;y-uuki&#47;cpp-sorter</a></p>\n\n<p>\u30c6\u30b9\u30c8\u7528\u30b3\u30fc\u30c9</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">sorter.cpp</span></div><div class=\"highlight\"><pre><span class=\"cp\">#include &lt;vector&gt;</span>\n<span class=\"cp\">#include &lt;iostream&gt;</span>\n\n<span class=\"cp\">#include &quot;selection_sort.hpp&quot;</span>\n\n<span class=\"kt\">int</span> <span class=\"n\">main</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">vector</span><span class=\"o\">&lt;</span><span class=\"kt\">int</span><span class=\"o\">&gt;</span> <span class=\"n\">v</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"mi\">32</span><span class=\"p\">,</span> <span class=\"mi\">71</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">45</span><span class=\"p\">,</span> <span class=\"mi\">26</span><span class=\"p\">,</span> <span class=\"mi\">80</span><span class=\"p\">,</span> <span class=\"mi\">53</span><span class=\"p\">,</span> <span class=\"mi\">33</span><span class=\"p\">};</span> <span class=\"c1\">//C++11\u304b\u3089\u914d\u5217\u7684\u306a\u521d\u671f\u5316\u69cb\u6587\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u305f</span>\n\n    <span class=\"n\">SelectionSorter</span> <span class=\"n\">sorter</span><span class=\"p\">;</span>\n    <span class=\"n\">sorter</span><span class=\"p\">.</span><span class=\"n\">set_values</span><span class=\"p\">(</span><span class=\"n\">v</span><span class=\"p\">);</span>\n    <span class=\"n\">sorter</span><span class=\"p\">.</span><span class=\"n\">sort</span><span class=\"p\">();</span>\n    <span class=\"n\">v</span> <span class=\"o\">=</span> <span class=\"n\">sorter</span><span class=\"p\">.</span><span class=\"n\">get_values</span><span class=\"p\">();</span>\n\n    <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">cout</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot;myvector contains:&quot;</span><span class=\"p\">;</span>\n    <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"k\">auto</span> <span class=\"k\">const</span> <span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">v</span><span class=\"p\">)</span> <span class=\"p\">{</span> <span class=\"c1\">// Range-based for: C++11\u304b\u3089for each\u7684\u306a\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f</span>\n        <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">cout</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot; &quot;</span> <span class=\"o\">&lt;&lt;</span> <span class=\"n\">i</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n    <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">cout</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot;</span><span class=\"se\">\\n</span><span class=\"s\">&quot;</span><span class=\"p\">;</span>\n\n    <span class=\"k\">return</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre>\n</div>\n</div>\n<p>sorter.hpp</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">sorter.hpp</span></div><div class=\"highlight\"><pre><span class=\"cp\">#ifndef __SORTER_HPP__</span>\n<span class=\"cp\">#define __SORTER_HPP__</span>\n\n<span class=\"cp\">#include &lt;vector&gt;</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Sorter</span> <span class=\"p\">{</span>\n<span class=\"k\">public</span><span class=\"o\">:</span>\n    <span class=\"kt\">void</span> <span class=\"n\">set_values</span><span class=\"p\">(</span><span class=\"k\">const</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">vector</span><span class=\"o\">&lt;</span><span class=\"kt\">int</span><span class=\"o\">&gt;&amp;</span> <span class=\"n\">values</span><span class=\"p\">)</span> <span class=\"p\">;</span>\n    <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">vector</span><span class=\"o\">&lt;</span><span class=\"kt\">int</span><span class=\"o\">&gt;</span> <span class=\"n\">get_values</span><span class=\"p\">()</span> <span class=\"k\">const</span><span class=\"p\">;</span>   <span class=\"c1\">// \u30e1\u30f3\u30d0\u30fc\u5909\u6570\u3092\u66f8\u304d\u63db\u3048\u306a\u3044\u5834\u5408\u306fconst\u3092\u4f7f\u3046\u3002</span>\n    <span class=\"k\">virtual</span> <span class=\"kt\">void</span> <span class=\"n\">sort</span><span class=\"p\">()</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>  <span class=\"c1\">// \u5b8c\u5168\u4eee\u60f3\u95a2\u6570</span>\n    <span class=\"n\">Sorter</span><span class=\"p\">()</span> <span class=\"o\">=</span> <span class=\"k\">default</span><span class=\"p\">;</span>       <span class=\"c1\">//\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u5ba3\u8a00\u3057\u3066\u304a\u304b\u306a\u3044\u3068error: use of deleted function &#39;SelectionSorter::SelectionSorter()\u3068\u304b\u306b\u306a\u308b</span>\n    <span class=\"k\">virtual</span> <span class=\"o\">~</span><span class=\"n\">Sorter</span><span class=\"p\">()</span> <span class=\"o\">=</span> <span class=\"k\">default</span><span class=\"p\">;</span> <span class=\"c1\">//\u4eee\u60f3\u30c7\u30b9\u30c8\u30e9\u30af\u30bf\u3002\u591a\u614b\u306a\u30c7\u30b9\u30c8\u30e9\u30af\u30bf\u3092\u3088\u308d\u3057\u304f\u751f\u6210\u3057\u3066\u304f\u308c\u308b\u3002</span>\n\n<span class=\"k\">protected</span><span class=\"o\">:</span>\n    <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">vector</span><span class=\"o\">&lt;</span><span class=\"kt\">int</span><span class=\"o\">&gt;</span> <span class=\"n\">values</span><span class=\"p\">;</span>\n\n    <span class=\"c1\">// \u30b3\u30d4\u30fc\u30fb\u30e0\u30fc\u30d6\u7981\u6b62</span>\n    <span class=\"n\">Sorter</span><span class=\"p\">(</span><span class=\"n\">Sorter</span> <span class=\"k\">const</span><span class=\"o\">&amp;</span><span class=\"p\">)</span> <span class=\"o\">=</span> <span class=\"k\">delete</span><span class=\"p\">;</span>\n    <span class=\"n\">Sorter</span><span class=\"p\">(</span><span class=\"n\">Sorter</span><span class=\"o\">&amp;&amp;</span><span class=\"p\">)</span> <span class=\"o\">=</span> <span class=\"k\">delete</span><span class=\"p\">;</span>\n    <span class=\"n\">Sorter</span><span class=\"o\">&amp;</span> <span class=\"k\">operator</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">Sorter</span> <span class=\"k\">const</span><span class=\"o\">&amp;</span><span class=\"p\">)</span> <span class=\"o\">=</span> <span class=\"k\">delete</span><span class=\"p\">;</span>\n    <span class=\"n\">Sorter</span><span class=\"o\">&amp;</span> <span class=\"k\">operator</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">Sorter</span><span class=\"o\">&amp;&amp;</span><span class=\"p\">)</span> <span class=\"o\">=</span> <span class=\"k\">delete</span><span class=\"p\">;</span>\n\n<span class=\"p\">};</span>\n\n<span class=\"kt\">void</span> <span class=\"n\">Sorter</span><span class=\"o\">::</span><span class=\"n\">set_values</span><span class=\"p\">(</span><span class=\"k\">const</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">vector</span><span class=\"o\">&lt;</span><span class=\"kt\">int</span><span class=\"o\">&gt;&amp;</span> <span class=\"n\">values</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">values</span> <span class=\"o\">=</span> <span class=\"n\">values</span><span class=\"p\">;</span>                <span class=\"c1\">// const\u3092\u4ed8\u3051\u3066\u304a\u3051\u3070\u3001\u53c2\u7167\u4ee3\u5165\u3067\u306f\u306a\u304f\u5024\u4ee3\u5165\u306b\u306a\u308b\u3002</span>\n<span class=\"p\">}</span>\n\n<span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">vector</span><span class=\"o\">&lt;</span><span class=\"kt\">int</span><span class=\"o\">&gt;</span> <span class=\"n\">Sorter</span><span class=\"o\">::</span><span class=\"n\">get_values</span><span class=\"p\">()</span> <span class=\"k\">const</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">values</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"cp\">#endif</span>\n</pre>\n</div>\n</div><div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">selection_sort.hpp</span></div><div class=\"highlight\"><pre><span class=\"cp\">#ifndef __SELECTION_SORT_HPP__</span>\n<span class=\"cp\">#define __SELECTION_SORT_HPP__</span>\n\n<span class=\"cp\">#include &quot;sorter.hpp&quot;</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">SelectionSorter</span> <span class=\"o\">:</span> <span class=\"k\">public</span> <span class=\"n\">Sorter</span> <span class=\"p\">{</span>  <span class=\"c1\">//public\u306b\u3057\u306a\u3044\u3068\u300cset_values\u300d\u304c\u898b\u3048\u306a\u3044 \u3068\u304b\u8a00\u308f\u308c\u308b</span>\n<span class=\"k\">public</span><span class=\"o\">:</span>\n    <span class=\"k\">virtual</span> <span class=\"kt\">void</span> <span class=\"n\">sort</span><span class=\"p\">()</span> <span class=\"n\">override</span><span class=\"p\">;</span>\n    <span class=\"c1\">// virtual ~SelectionSorter() = default;  //\u5b50\u30af\u30e9\u30b9\u306b\u4eee\u60f3\u30c7\u30b9\u30c8\u30e9\u30af\u30bf\u3092\u5165\u308c\u308b\u3068\u6012\u3089\u308c\u308b\u3002\u89aa\u30af\u30e9\u30b9\u306b\u5ba3\u8a00\u3057\u3066\u304a\u3051\u3070\u305d\u308c\u3067\u3044\u3044\u306e\u304b\u3002</span>\n<span class=\"k\">private</span><span class=\"o\">:</span>\n    <span class=\"k\">static</span> <span class=\"kt\">void</span> <span class=\"n\">insert</span><span class=\"p\">(</span><span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">vector</span><span class=\"o\">&lt;</span><span class=\"kt\">int</span><span class=\"o\">&gt;&amp;</span><span class=\"p\">,</span> <span class=\"k\">const</span> <span class=\"kt\">int</span><span class=\"o\">&amp;</span><span class=\"p\">);</span>\n<span class=\"p\">};</span>\n\n<span class=\"kt\">void</span> <span class=\"n\">SelectionSorter</span><span class=\"o\">::</span><span class=\"n\">sort</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">vector</span><span class=\"o\">&lt;</span><span class=\"kt\">int</span><span class=\"o\">&gt;&amp;</span> <span class=\"n\">v</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">values</span><span class=\"p\">;</span>\n    <span class=\"kt\">int</span> <span class=\"n\">size</span> <span class=\"o\">=</span> <span class=\"n\">v</span><span class=\"p\">.</span><span class=\"n\">size</span><span class=\"p\">();</span>\n    <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"kt\">int</span> <span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">;</span> <span class=\"n\">i</span> <span class=\"o\">&lt;</span> <span class=\"n\">size</span><span class=\"p\">;</span> <span class=\"o\">++</span><span class=\"n\">i</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"n\">SelectionSorter</span><span class=\"o\">::</span><span class=\"n\">insert</span><span class=\"p\">(</span><span class=\"n\">v</span><span class=\"p\">,</span> <span class=\"n\">i</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n    <span class=\"k\">return</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"kt\">void</span> <span class=\"n\">SelectionSorter</span><span class=\"o\">::</span><span class=\"n\">insert</span><span class=\"p\">(</span><span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">vector</span><span class=\"o\">&lt;</span><span class=\"kt\">int</span><span class=\"o\">&gt;&amp;</span> <span class=\"n\">v</span><span class=\"p\">,</span> <span class=\"k\">const</span> <span class=\"kt\">int</span><span class=\"o\">&amp;</span> <span class=\"n\">pos</span><span class=\"p\">)</span> <span class=\"p\">{</span> <span class=\"c1\">// \u5024\u6e21\u3057\u3088\u308a\u53c2\u7167\u6e21\u3057</span>\n    <span class=\"k\">const</span> <span class=\"kt\">int</span> <span class=\"n\">val</span> <span class=\"o\">=</span> <span class=\"n\">v</span><span class=\"p\">[</span><span class=\"n\">pos</span><span class=\"p\">];</span>\n    <span class=\"kt\">int</span> <span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"n\">pos</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n    <span class=\"k\">while</span> <span class=\"p\">(</span><span class=\"n\">i</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">0</span> <span class=\"n\">and</span> <span class=\"n\">v</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span> <span class=\"o\">&gt;</span> <span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"n\">v</span><span class=\"p\">[</span><span class=\"n\">i</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">v</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">];</span>\n        <span class=\"o\">--</span><span class=\"n\">i</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n    <span class=\"n\">v</span><span class=\"p\">[</span><span class=\"n\">i</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">val</span><span class=\"p\">;</span>\n    <span class=\"k\">return</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"cp\">#endif</span>\n</pre>\n</div>\n</div>\n<h2>\u611f\u60f3</h2>\n\n<p>\u7279\u306b\u9759\u7684\u578b\u4ed8\u3051\u8a00\u8a9e\u4fe1\u8005\u3067\u306f\u306a\u3044\u3051\u308c\u3067\u3082\u30b3\u30fc\u30c9\u66f8\u3044\u3066\u308b\u6c17\u5206\u306b\u306f\u306a\u308a\u3084\u3059\u3044\u3088\u306d\u3002<br>\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u3057\u6016\u3044\u3088\u304a\u3002</p>\n\n<h2>\u4eca\u5f8c\u3084\u308a\u305f\u3044\u3053\u3068</h2>\n\n<p>*predicate\u3092\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b<br>\n*\u30bd\u30fc\u30c8\u5bfe\u8c61\u3092\u7834\u58ca\u3057\u3066\u3088\u3044\u306a\u3089setter\uff0cgetter\u306f\u4e0d\u8981\u306a\u306e\u3067\uff0c\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3068\u306a\u308b\u95a2\u6570\u306fsort\u306e\u307f\u306b\u3059\u308b\uff0e<br>\n*\u305d\u306e\u4ed6\u306e\u30bd\u30fc\u30c8\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u5b9f\u88c5<br>\n*SelectionSort\u306e\u3088\u3046\u306b\uff0c\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3054\u3068\u306b\u5b50\u30af\u30e9\u30b9\u3092\u5897\u3084\u3059\u306e\u3067\u306f\u306a\u304f\uff0cSorter sorter = Sort(&quot;SelectionSort&quot;); \u306e\u3088\u3046\u306a\u611f\u3058\u306e\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306b\u3059\u308b\u3002<br>\n*\u30bd\u30fc\u30c8\u5bfe\u8c61\u306e\u30c7\u30fc\u30bf\u578b\u306f\u73fe\u72b6int\u306e\u307f\u8a31\u3057\u3066\u308b\u306e\u3067\uff0c\u6bd4\u8f03\u6f14\u7b97\u5b50\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u30c7\u30fc\u30bf\u578b\u306a\u3089\u306a\u3093\u3067\u3082\u3042\u308a\u306b\u3059\u308b\u3002<br>\n*\u30c6\u30b9\u30c8\u66f8\u304b\u306a\u3044\u3068\u3002<br>\n*\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u6016\u3044\u3088\u304a\u3002</p>\n\n<h2>\u53c2\u8003\u6587\u732e</h2>\n\n<p>*<a href=\"http://dev.activebasic.com/egtra/2011/12/02/451/\">http:&#47;&#47;dev.activebasic.com&#47;egtra&#47;2011&#47;12&#47;02&#47;451&#47;</a></p>\n\n<p>*<a href=\"http://d.hatena.ne.jp/iorate/20111215/1323946287\">http:&#47;&#47;d.hatena.ne.jp&#47;iorate&#47;20111215&#47;1323946287</a></p>\n\n<p>*<a href=\"http://www.slideshare.net/krustf/c11-11577820\">http:&#47;&#47;www.slideshare.net&#47;krustf&#47;c11-11577820</a></p>\n","created_at":"2012-05-09 15:38:32 +0900","updated_at":"2012-05-16 23:23:18 +0900","created_at_in_words":"5\u30f6\u6708\u524d","updated_at_in_words":"5\u30f6\u6708\u524d","tags":[{"name":"C++","url_name":"C%2B%2B","icon_url":"http://qiita.com/system/tags/icons/000/000/011/thumb/203px-Gccegg.png?1328941397","item_count":76,"follower_count":1113,"versions":[]}],"stock_count":1,"stock_users":["comporlock"],"comment_count":0,"url":"http://qiita.com/items/16532cbb20ce15e622ed","gist_url":null,"private":false,"created_at_as_seconds":1336545512},{"id":4230,"uuid":"118bce7b3a4acb545d79","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"\u82b1\u898b\u306e\u5b63\u7bc0\u306b\u3055\u304f\u3089VPS: Nginx+Unicorn+Rails+Capistrano","body":"<p>Rails\u30a2\u30d5\u309a\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u516c\u958b\u7528\u30b5\u30fc\u30cf\u3099\u3068\u3057\u3066\u3001\u3055\u304f\u3089VPS\u306e2G\u30d5\u309a\u30e9\u30f3\u3092\u5951\u7d04\u3057\u305f\u306e\u3066\u3099\u8a2d\u5b9a\u3092\u30e1\u30e2\u3002</p>\n\n<p>\u6d41\u884c\u308a\u306eNginx\u3001Unicorn\u3001Capistrano\u3092\u4f7f\u3063\u3066\u307f\u305f\u3002<br>\nOS\u306fUbuntu Server 10.04 amd64\u3092\u9078\u629e\u3057\u305f\u3002</p>\n\n<p>\u57fa\u672c\u7684\u306b\u30bd\u30fc\u30b9\u304b\u3089\u30d2\u3099\u30eb\u30c8\u3099\u3059\u308b\u3002</p>\n\n<h2>\u3082\u304f\u3057\u3099</h2>\n\n<p>00 2G\u30d5\u309a\u30e9\u30f3\u306e\u30cf\u30fc\u30c8\u3099\u30a6\u30a7\u30a2\u69cb\u6210<br>\n1. git\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb<br>\n2. rvm\u306b\u3088\u308bRuby1.9.2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb<br>\n3. MySQL5.5\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb<br>\n4. nginx\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a<br>\n5. Unicorn\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a<br>\n6. Capistrano\u306e\u5c0e\u5165<br>\n7. \u307e\u3068\u3081\u3063\u307b\u309a\u3044\u306e </p>\n\n<h2>0. 2G\u30d5\u309a\u30e9\u30f3\u306e\u30cf\u30fc\u30c8\u3099\u30a6\u30a7\u30a2\u69cb\u6210</h2>\n\n<p>/proc/cpuinfo\u3092\u898b\u3066\u307f\u308b\u3068CPU\u306fNehalem\u4e16\u4ee3\u306eXeon\u305f\u3099\u3063\u305f\u3002</p>\n\n<p>CPU: Intel Xeon CPU E5645\uff08Westmere-EP\uff092.4GHz<br>\n\u30e1\u30e2\u30ea: 2GB<br>\nHDD\uff1a200GB</p>\n\n<h2>1. git\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</h2>\n\n<p>zlib\u304b\u3099\u5fc5\u8981\u306a\u306e\u3066\u3099\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\"></span></div><div class=\"highlight\"><pre><span class=\"nv\">$ </span>wget http://downloads.sourceforge.net/project/libpng/zlib/1.2.6/zlib-1.2.6.tar.gz\n<span class=\"nv\">$ </span>tar xvfz zlib-1.2.6.tar.gz\n<span class=\"nv\">$ </span><span class=\"nb\">cd </span>zlib-1.2.6.tar.gz\n<span class=\"nv\">$ </span>./configure\n<span class=\"nv\">$ </span>make -j3  <span class=\"c\">#\u4eee\u60f33\u30b3\u30a2\u306a\u306e\u3066\u3099</span>\n<span class=\"nv\">$ </span>sudo make install\n</pre>\n</div>\n</div>\n<p>\u6b21\u306bgit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\"></span></div><div class=\"highlight\"><pre><span class=\"nv\">$ </span>wget http://git-core.googlecode.com/files/git-1.7.9.6.tar.gz\n<span class=\"nv\">$ </span>tar xvfz git-1.7.9.6.tar.gz\n<span class=\"nv\">$ </span><span class=\"nb\">cd </span>git-1.7.9.6.tar.gz\n<span class=\"nv\">$ </span>./configure\n<span class=\"nv\">$ </span>make -j3\n<span class=\"nv\">$ </span>sudo make install\n</pre>\n</div>\n</div>\n<p>make\u6642\u306b</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\"></span></div><div class=\"highlight\"><pre>tclsh failed; using unoptimized loading\n</pre>\n</div>\n</div>\n<p>\u3068\u51fa\u305f\u306e\u3066\u3099\uff0ctcl\u95a2\u9023\u306e\u30cf\u309a\u30c3\u30b1\u30fc\u30b7\u3099\u3092\u5165\u308c\u308b\uff0e(\u3053\u306e\u8fba\u3092\u30bd\u30fc\u30b9\u304b\u3089\u30d2\u3099\u30eb\u30c8\u3099\u3059\u308b\u306e\u3081\u3093\u3068\u3099\u3044\u304b\u3089\u30b5\u30db\u3099\u308b\uff09</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\"></span></div><div class=\"highlight\"><pre><span class=\"nv\">$ </span>sudo apt-get install build-essential tcl8.4 tk8.4 gettext\n</pre>\n</div>\n</div>\n<h2>2. rvm\u306b\u3088\u308bRuby\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</h2>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\"></span></div><div class=\"highlight\"><pre><span class=\"nv\">$ </span>sudo apt-get install curl\n<span class=\"nv\">$ </span>bash -s stable &lt; &lt;<span class=\"o\">(</span>curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer<span class=\"o\">)</span>\n<span class=\"nv\">$ </span><span class=\"nb\">source</span> ~/.bashrc\n<span class=\"nv\">$ </span>rvm requirements\n<span class=\"nv\">$ </span>rvm pkg install readline openssl zlib\n<span class=\"nv\">$ </span>sudo apt-get install openssl libreadline6 libreadline6-dev zlib1g zlib1g-dev libssl-dev libyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt-dev autoconf libc6-dev ncurses-dev automake libtool bison subversion <span class=\"c\"># Ruby\u306b\u4f9d\u5b58\u3059\u308b\u30cf\u309a\u30c3\u30b1\u30fc\u30b7\u3099\u5c0e\u5165</span>\n<span class=\"nv\">$ </span>rvm install 1.8.7 <span class=\"c\"># 1.9.2\u7cfb\u3092\u5165\u308c\u308b\u306e\u306b\u5fc5\u8981</span>\n<span class=\"nv\">$ </span>rvm install 1.9.2\n<span class=\"nv\">$ </span>rvm use 1.9.2 --default\n</pre>\n</div>\n</div>\n<h2>3. MySQL\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</h2>\n\n<p><a href=\"http://moyolab.blog57.fc2.com/blog-entry-93.html\">http://moyolab.blog57.fc2.com/blog-entry-93.html</a><br>\n\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306bMySQL5.5\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3002</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\"></span></div><div class=\"highlight\"><pre><span class=\"nv\">$ </span>wget http://dev.mysql.com/get/Downloads/MySQL-5.5/mysql-5.5.22.tar.gz/from/ftp://ftp.jaist.ac.jp/pub/mysql/\n<span class=\"nv\">$ </span>tar xvfz mysql-5.5.22.tar.gz\n<span class=\"nv\">$ </span><span class=\"nb\">cd </span>mysql-5.5.22\n<span class=\"nv\">$ </span>sudo apt-get install cmake  <span class=\"c\"># MySQL5.5\u4ee5\u4e0a\u306fCMake\u306b\u3088\u308b\u30d2\u3099\u30eb\u30c8\u3099\u304b\u3099\u63a8\u5968\u3055\u308c\u3066\u3044\u308b\u3089\u3057\u3044</span>\n<span class=\"nv\">$ </span>cmake . -DDEFAULT_CHARSET<span class=\"o\">=</span>utf8 -DDEFAULT_COLLATION<span class=\"o\">=</span>utf8_general_ci\n<span class=\"nv\">$ </span>make -j3\n<span class=\"nv\">$ </span>make install\n<span class=\"nv\">$ </span>sudo make install\n<span class=\"nv\">$ </span>sudo ln -s /usr/local/mysql5.5.22/bin/* /usr/bin/  <span class=\"c\"># MySQL\u30b3\u30de\u30f3\u30c8\u3099\u7fa4\u306e\u30b7\u30f3\u30db\u3099\u30ea\u30c3\u30af\u30ea\u30f3\u30af</span>\n<span class=\"nv\">$ </span>sudo ln -s /usr/local/mysql5.5.22 /usr/local/mysql\n</pre>\n</div>\n</div>\n<h3>MySQL\u30b5\u30fc\u30cf\u3099\u306e\u5b9f\u884c\u30e6\u30fc\u30b5\u3099\u306e\u4f5c\u6210</h3>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\"></span></div><div class=\"highlight\"><pre><span class=\"nv\">$ </span>sudo /usr/sbin/groupadd -r --gid 901 mysql\n<span class=\"nv\">$ </span>sudo /usr/sbin/useradd --base-dir /srv/mysql --home-dir /usr/mysql --comment <span class=\"s2\">&quot;MySQL&quot;</span> -M -r --gid mysql --uid 901 mysql\n<span class=\"nv\">$ </span>sudo chown -R mysql:mysql /usr/local/mysql\n</pre>\n</div>\n</div>\n<h4>\u30c6\u3099\u30fc\u30bf\u30d8\u3099\u30fc\u30b9\u306e\u521d\u671f\u5316\uff0e/svr/mysql\u3092\u30c6\u3099\u30fc\u30bf\u30c6\u3099\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\uff0e</h4>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\"></span></div><div class=\"highlight\"><pre><span class=\"nv\">$ </span>sudo mkdir /srv/mysql\n<span class=\"nv\">$ </span>sudo /usr/local/mysql/scripts/mysql_install_db --basedir<span class=\"o\">=</span>/usr/local/mysql --datadir<span class=\"o\">=</span>/srv/mysql --user<span class=\"o\">=</span>mysql\n<span class=\"nv\">$ </span>sudo chown -R mysql:mysql /srv/mysql\n<span class=\"nv\">$ </span>sudo cp /usr/local/mysql/support-files/my-medium.cnf /etc/my.cnf <span class=\"c\">#\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb/etc\u306b\u30b3\u30d2\u309a\u30fc</span>\n<span class=\"nv\">$ </span>sudo vim /etc/my.cnf\n<span class=\"s1\">&#39;&#39;&#39;</span>\n<span class=\"s1\">[mysqld]</span>\n<span class=\"s1\">datadir = /srv/mysql</span>\n<span class=\"s1\">user = mysql</span>\n<span class=\"s1\">&#39;&#39;&#39;</span>\n</pre>\n</div>\n</div>\n<h4>\u81ea\u52d5\u8d77\u52d5\u306e\u8a2d\u5b9a</h4>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\"></span></div><div class=\"highlight\"><pre><span class=\"nv\">$ </span>sudo ln -s /usr/local/mysql/support-files/mysql.server /etc/init.d/mysql\n<span class=\"nv\">$ </span>sudo /etc/init.d/mysql start\n<span class=\"nv\">$ </span>sudo /sbin/chkconfig mysql on\n</pre>\n</div>\n</div>\n<p>\u30c6\u3099\u30fc\u30e2\u30f3\u8d77\u52d5\u6642\u306bCan&#39;t find messagefile &#39;/usr/share/errmsg.sys&#39;\u3068\u6012\u3089\u308c\u305f\u306e\u3066\u3099\u3001</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre><span class=\"n\">sudo</span> <span class=\"n\">ln</span> <span class=\"o\">-</span><span class=\"n\">s</span> <span class=\"sr\">/usr/</span><span class=\"nb\">local</span><span class=\"sr\">/mysql/s</span><span class=\"n\">hare</span><span class=\"sr\">/english/</span><span class=\"n\">errmsg</span><span class=\"o\">.</span><span class=\"n\">sys</span> <span class=\"sr\">/usr/s</span><span class=\"n\">hare</span><span class=\"o\">/</span>\n</pre>\n</div>\n</div>\n<p>\u3064\u3044\u3066\u3099\u306b\u3001Rails\u30a2\u30d5\u309a\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5185\u3066\u3099MySQL\u306esocket\u4f4d\u7f6e\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304b\u3099\u3042\u308b\u3002<br>\n\uff08\u4e0a\u8a18\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3066\u3099\u3001socket\u306e\u4f4d\u7f6e\u304b\u3099\u30c6\u3099\u30d5\u30a9\u30eb\u30c8\u3068\u7570\u306a\u308b\u305f\u3081\uff09<br>\nconfig/database.yml\u306eproduction\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u308b\u3002</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">config/database.yml</span></div><div class=\"highlight\"><pre><span class=\"n\">production</span><span class=\"p\">:</span>\n  <span class=\"n\">adapter</span><span class=\"p\">:</span> <span class=\"n\">mysql2</span>\n  <span class=\"n\">database</span><span class=\"p\">:</span> <span class=\"n\">db</span><span class=\"o\">/</span><span class=\"n\">applicationname_production</span>\n  <span class=\"n\">pool</span><span class=\"p\">:</span> <span class=\"mi\">5</span>\n  <span class=\"n\">timeout</span><span class=\"p\">:</span> <span class=\"mi\">5000</span>\n  <span class=\"n\">socket</span><span class=\"p\">:</span><span class=\"sr\"> /var/</span><span class=\"n\">run</span><span class=\"o\">/</span><span class=\"n\">mysqld</span><span class=\"o\">/</span><span class=\"n\">mysqld</span><span class=\"o\">.</span><span class=\"n\">sock</span>\n</pre>\n</div>\n</div>\n<h2>4. nginx\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a</h2>\n\n<p>Rails\u306a\u3089nginx+Unicorn\u304b\u3099\u901f\u3044\u3089\u3057\u3044\u306e\u3066\u3099\u4f7f\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u305f\u3002<br>\nnginx\u306f\u8efd\u91cfWeb\u30b5\u30fc\u30cf\u3099\u3001Unicorn\u306fRack\u30a2\u30d5\u309a\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7528\u306eWeb\u30b5\u30fc\u30cf\u3099\u3066\u3099\u3042\u308b\u3002<br>\ncss\u3084\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u306e\u3088\u3046\u306a\u9759\u7684\u30b3\u30f3\u30c6\u30f3\u30c4\u3092nginx\u3001Template\u30a8\u30f3\u30b7\u3099\u30f3\u304b\u3099\u751f\u6210\u3059\u308b\u52d5\u7684\u30b3\u30f3\u30c6\u30f3\u30c4\u3092Rack\u3066\u3099\u8fd4\u3059\u611f\u3057\u3099\u306b\u3059\u308b\u3068\u901f\u3044\u3089\u3057\u3044\u3002</p>\n\n<p>nginx\u306f<br>\n<a href=\"http://d.hatena.ne.jp/donbulinux/20110502/1304317942\">http://d.hatena.ne.jp/donbulinux/20110502/1304317942</a><br>\n\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3002</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\"></span></div><div class=\"highlight\"><pre><span class=\"c\"># useradd -s /bin/false nginx </span>\n<span class=\"nv\">$ </span>sudo apt-get install libpcre3-dev\n<span class=\"nv\">$ </span>wget http://nginx.org/download/nginx-1.0.14.tar.gz\n<span class=\"nv\">$ </span>tar xvfz nginx-1.0.14.tar.gz\n<span class=\"nv\">$ </span><span class=\"nb\">cd </span>nginx-1.0.14.tar.gz\n<span class=\"nv\">$ </span> ./configure --prefix<span class=\"o\">=</span>/usr/local/nginx --user<span class=\"o\">=</span>nginx --group<span class=\"o\">=</span>nginx --sbin-path<span class=\"o\">=</span>/usr/local/sbin/nginx --conf-path<span class=\"o\">=</span>/etc/nginx/nginx.conf --error-log-path<span class=\"o\">=</span>/var/log/nginx/error.log --pid-path<span class=\"o\">=</span>/var/run/nginx/nginx.pid --lock-path<span class=\"o\">=</span>/var/lock/subsys/nginx.lock --with-http_ssl_module --with-http_realip_module --with-http_addition_module --with-http_xslt_module --with-http_sub_module --with-http_dav_module --with-http_flv_module --with-http_gzip_static_module --with-http_random_index_module --with-http_secure_link_module --with-http_stub_status_module\n<span class=\"nv\">$ </span>make -j3\n<span class=\"nv\">$ </span>sudo make install\n<span class=\"nv\">$ </span>sudo mkdir /var/run/nginx\n<span class=\"nv\">$ </span>sudo chown -R nginx:nginx /var/run/nginx\n</pre>\n</div>\n</div>\n<h4>\u8d77\u52d5\u30b9\u30af\u30ea\u30d5\u309a\u30c8</h4>\n\n<p><a href=\"http://ryuzi.wordpress.com/2011/11/06/ubuntu-%E3%81%AB-nginx-%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%83%A1%E3%83%A2/\">http://ryuzi.wordpress.com/2011/11/06/ubuntu-%E3%81%AB-nginx-%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%83%A1%E3%83%A2/</a></p>\n\n<p>\u3092\u53c2\u8003\u306b\u8d77\u52d5\u30b9\u30af\u30ea\u30d5\u309a\u30c8\u4f5c\u6210\u3057\u305f\u3002</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre><span class=\"nv\">$</span> <span class=\"nv\">wget</span> <span class=\"n\">https:</span><span class=\"sr\">//</span><span class=\"n\">raw</span><span class=\"o\">.</span><span class=\"n\">github</span><span class=\"o\">.</span><span class=\"n\">com</span><span class=\"sr\">/JasonGiedymin/</span><span class=\"n\">nginx</span><span class=\"o\">-</span><span class=\"n\">init</span><span class=\"o\">-</span><span class=\"n\">ubuntu</span><span class=\"sr\">/master/</span><span class=\"n\">nginx</span>\n<span class=\"s\">&#39;&#39;&#39;</span>\n<span class=\"s\">-NGINX_CONF_FILE=&quot;/usr/local/nginx/conf/nginx.conf&quot;</span>\n<span class=\"s\">+NGINX_CONF_FILE=&quot;/etc/nginx/nginx.conf&quot;</span>\n\n<span class=\"s\">-PIDSPATH=/var/run</span>\n<span class=\"s\">+PIDSPATH=/usr/local/nginx/logs</span>\n<span class=\"s\">&#39;&#39;&#39;</span>\n<span class=\"nv\">$</span> <span class=\"nv\">chmod</span> <span class=\"o\">+</span><span class=\"n\">x</span> <span class=\"n\">nginx</span>\n<span class=\"nv\">$</span> <span class=\"nv\">sudo</span> <span class=\"n\">mv</span> <span class=\"n\">nginx</span> <span class=\"sr\">/etc/i</span><span class=\"n\">nit</span><span class=\"o\">.</span><span class=\"n\">d</span><span class=\"o\">/</span>\n<span class=\"nv\">$</span> <span class=\"nv\">sudo</span> <span class=\"n\">update</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">.</span><span class=\"n\">d</span> <span class=\"n\">nginx</span> <span class=\"n\">defaults</span>\n<span class=\"nv\">$</span> <span class=\"nv\">sudo</span> <span class=\"n\">service</span> <span class=\"n\">nginx</span> <span class=\"n\">start</span>  <span class=\"c1\">#\u8d77\u52d5\u78ba\u8a8d</span>\n<span class=\"nv\">$</span> <span class=\"nv\">sudo</span> <span class=\"n\">service</span> <span class=\"n\">nginx</span> <span class=\"n\">stop</span>\n<span class=\"s\">&#39;&#39;&#39;</span>\n<span class=\"s\">/etc/nginx/nginx.conf\u306e\u8a2d\u5b9a</span>\n<span class=\"s\">&#39;&#39;&#39;</span>\n<span class=\"nv\">$</span> <span class=\"nv\">sudo</span> <span class=\"n\">nginx</span> <span class=\"o\">-</span><span class=\"n\">s</span> <span class=\"n\">reload</span> <span class=\"c1\"># \u518d\u8d77\u52d5</span>\n</pre>\n</div>\n</div>\n<h4>nginx\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb</h4>\n\n<p>unicorn\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c6\u3099\u30a3\u30ec\u30af\u30c8\u30ea\u306bnginx.conf\u306e\u8a2d\u5b9a\u4f8b\u304b\u3099\u4ed8\u5c5e\u3057\u3066\u3044\u308b\u306e\u3066\u3099\u3053\u308c\u3092\u57fa\u306b\u30ab\u30b9\u30bf\u30de\u30a4\u30b9\u3099\u3059\u308b\u3002<br>\n<code>~/.rvm/gems/ruby-1.9.2-p318/gems/unicorn-4.2.1/examples/nginx.conf</code></p>\n\n<p>/etc/nginx/nginx.conf\u306e\u8a2d\u5b9a\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u305f\u3002\u8a2d\u5b9a\u3059\u308b\u4e0a\u3066\u3099\u4ee5\u4e0b\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u305f\u3002<br>\n<a href=\"http://d.hatena.ne.jp/ohnishiakira/20110215/nginx\">http://d.hatena.ne.jp/ohnishiakira/20110215/nginx</a><br>\n<a href=\"http://d.hatena.ne.jp/taslam/20080811/p2\">http://d.hatena.ne.jp/taslam/20080811/p2</a></p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">nginx.conf</span></div><div class=\"highlight\"><pre><span class=\"n\">worker_processes</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n\n<span class=\"n\">user</span> <span class=\"n\">nginx</span> <span class=\"n\">nginx</span><span class=\"p\">;</span> <span class=\"c1\"># for systems with a &quot;nogroup&quot;</span>\n\n<span class=\"n\">pid</span> <span class=\"sr\">/tmp/</span><span class=\"n\">nginx</span><span class=\"o\">.</span><span class=\"n\">pid</span><span class=\"p\">;</span>\n<span class=\"n\">error_log</span> <span class=\"sr\">/usr/</span><span class=\"nb\">local</span><span class=\"sr\">/nginx/</span><span class=\"n\">logs</span><span class=\"o\">/</span><span class=\"n\">error</span><span class=\"o\">.</span><span class=\"nb\">log</span><span class=\"p\">;</span>\n\n<span class=\"n\">events</span> <span class=\"p\">{</span>\n  <span class=\"n\">worker_connections</span> <span class=\"mi\">1024</span><span class=\"p\">;</span> <span class=\"c1\"># increase if you have lots of clients</span>\n  <span class=\"n\">accept_mutex</span> <span class=\"n\">off</span><span class=\"p\">;</span> <span class=\"c1\"># &quot;on&quot; if nginx worker_processes &gt; 1</span>\n<span class=\"p\">}</span>\n\n<span class=\"n\">http</span> <span class=\"p\">{</span>\n  <span class=\"n\">include</span> <span class=\"n\">mime</span><span class=\"o\">.</span><span class=\"n\">types</span><span class=\"p\">;</span>\n\n  <span class=\"n\">default_type</span> <span class=\"n\">application</span><span class=\"o\">/</span><span class=\"n\">octet</span><span class=\"o\">-</span><span class=\"n\">stream</span><span class=\"p\">;</span>\n\n  <span class=\"n\">access_log</span> <span class=\"sr\">/usr/</span><span class=\"nb\">local</span><span class=\"sr\">/nginx/</span><span class=\"n\">logs</span><span class=\"o\">/</span><span class=\"n\">access</span><span class=\"o\">.</span><span class=\"nb\">log</span> <span class=\"n\">combined</span><span class=\"p\">;</span>\n\n  <span class=\"n\">sendfile</span> <span class=\"n\">on</span><span class=\"p\">;</span>\n\n  <span class=\"n\">tcp_nopush</span> <span class=\"n\">on</span><span class=\"p\">;</span> <span class=\"c1\"># off may be better for *some* Comet/long-poll stuff</span>\n  <span class=\"n\">tcp_nodelay</span> <span class=\"n\">off</span><span class=\"p\">;</span> <span class=\"c1\"># on may be better for some Comet/long-poll stuff</span>\n\n  <span class=\"n\">gzip</span> <span class=\"n\">on</span><span class=\"p\">;</span>\n  <span class=\"n\">gzip_http_version</span> <span class=\"mf\">1.0</span><span class=\"p\">;</span>\n  <span class=\"n\">gzip_proxied</span> <span class=\"n\">any</span><span class=\"p\">;</span>\n  <span class=\"n\">gzip_min_length</span> <span class=\"mi\">500</span><span class=\"p\">;</span>\n  <span class=\"n\">gzip_disable</span> <span class=\"s\">&quot;MSIE [1-6]\\.&quot;</span><span class=\"p\">;</span>\n  <span class=\"n\">gzip_types</span> <span class=\"n\">text</span><span class=\"sr\">/plain text/</span><span class=\"n\">html</span> <span class=\"n\">text</span><span class=\"sr\">/xml text/css</span>\n             <span class=\"n\">text</span><span class=\"o\">/</span><span class=\"n\">comma</span><span class=\"o\">-</span><span class=\"n\">separated</span><span class=\"o\">-</span><span class=\"nb\">values</span>\n             <span class=\"n\">text</span><span class=\"sr\">/javascript application/x</span><span class=\"o\">-</span><span class=\"n\">javascript</span>\n             <span class=\"n\">application</span><span class=\"o\">/</span><span class=\"n\">atom</span><span class=\"o\">+</span><span class=\"n\">xml</span><span class=\"p\">;</span>\n\n\n  <span class=\"n\">upstream</span> <span class=\"n\">application</span><span class=\"o\">-</span><span class=\"n\">unicorn</span> <span class=\"p\">{</span>\n\n    <span class=\"c1\"># Unicorn\u306e\u30bd\u30b1\u30c3\u30c8\u3092\u6307\u5b9a:</span>\n    <span class=\"n\">server</span> <span class=\"n\">unix:</span><span class=\"sr\">/tmp/</span><span class=\"n\">unicorn_tagrid</span><span class=\"o\">.</span><span class=\"n\">sock</span> <span class=\"n\">fail_timeout</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">;</span>\n\n  <span class=\"p\">}</span>\n\n  <span class=\"n\">server</span> <span class=\"p\">{</span>\n    <span class=\"n\">client_max_body_size</span> <span class=\"mi\">4</span><span class=\"n\">G</span><span class=\"p\">;</span>\n    <span class=\"n\">server_name</span> <span class=\"n\">_</span><span class=\"p\">;</span>  <span class=\"c1\"># all accept</span>\n\n    <span class=\"n\">keepalive_timeout</span> <span class=\"mi\">5</span><span class=\"p\">;</span>\n\n    <span class=\"c1\"># path for static files</span>\n    <span class=\"n\">root</span> <span class=\"sr\">/var/</span><span class=\"n\">www</span><span class=\"sr\">/tagrid/c</span><span class=\"n\">urrent</span><span class=\"o\">/</span><span class=\"n\">public</span><span class=\"p\">;</span>\n\n    <span class=\"n\">try_files</span> <span class=\"nv\">$uri</span><span class=\"o\">/</span><span class=\"nb\">index</span><span class=\"o\">.</span><span class=\"n\">html</span> <span class=\"nv\">$uri</span><span class=\"o\">.</span><span class=\"n\">html</span> <span class=\"nv\">$uri</span> <span class=\"nv\">@tagrid</span><span class=\"p\">;</span>\n\n    <span class=\"n\">location</span> <span class=\"o\">/</span> <span class=\"p\">{</span>\n      <span class=\"n\">proxy_set_header</span> <span class=\"n\">X</span><span class=\"o\">-</span><span class=\"n\">Forwarded</span><span class=\"o\">-</span><span class=\"n\">For</span> <span class=\"nv\">$proxy_add_x_forwarded_for</span><span class=\"p\">;</span>\n\n      <span class=\"n\">proxy_set_header</span> <span class=\"n\">Host</span> <span class=\"nv\">$http_host</span><span class=\"p\">;</span>\n      <span class=\"n\">proxy_redirect</span> <span class=\"n\">off</span><span class=\"p\">;</span>\n\n       <span class=\"c1\"># \u632f\u308a\u5206\u3051\u5148\u306e\u30a2\u30d5\u309a\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u6307\u5b9a</span>\n      <span class=\"n\">proxy_pass</span> <span class=\"n\">http:</span><span class=\"sr\">//</span><span class=\"n\">application</span><span class=\"o\">-</span><span class=\"n\">unicorn</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"c1\"># Rails static pages</span>\n    <span class=\"n\">location</span> <span class=\"o\">~</span> <span class=\"o\">^</span><span class=\"sr\">/(assets|images|javascripts|stylesheets|swfs|system)/</span> <span class=\"p\">{</span>\n        <span class=\"n\">gzip_static</span> <span class=\"n\">on</span><span class=\"p\">;</span>\n        <span class=\"n\">expires</span>     <span class=\"n\">max</span><span class=\"p\">;</span>\n        <span class=\"n\">add_header</span>  <span class=\"n\">Cache</span><span class=\"o\">-</span><span class=\"n\">Control</span> <span class=\"n\">public</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"c1\"># Rails error pages</span>\n    <span class=\"n\">error_page</span> <span class=\"mi\">500</span> <span class=\"mi\">502</span> <span class=\"mi\">503</span> <span class=\"mi\">504</span> <span class=\"o\">/</span><span class=\"mi\">500</span><span class=\"o\">.</span><span class=\"n\">html</span><span class=\"p\">;</span>\n    <span class=\"n\">location</span> <span class=\"o\">=</span> <span class=\"o\">/</span><span class=\"mi\">500</span><span class=\"o\">.</span><span class=\"n\">html</span> <span class=\"p\">{</span>\n      <span class=\"n\">root</span> <span class=\"sr\">/var/</span><span class=\"n\">www</span><span class=\"sr\">/tagrid/c</span><span class=\"n\">urrent</span><span class=\"o\">/</span><span class=\"n\">public</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre>\n</div>\n</div>\n<h2>5. Unicron\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a</h2>\n\n<p>\u30c6\u3099\u30d5\u309a\u30ed\u30a4\u4e88\u5b9a\u306eRails\u30a2\u30d5\u309a\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306eGemfile\u306b</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre><span class=\"n\">gem</span> <span class=\"s\">&#39;unicron&#39;</span>\n</pre>\n</div>\n</div>\n<p>\u3092\u8ffd\u52a0\u3057\u3066 bundle install\u3092\u5b9f\u884c\u3059\u308b\u3002<br>\n\u6b21\u306bUnicorn\u8d77\u52d5\u6642\u306e\u8a2d\u5b9a\u3092config/unicorn.rb\u3042\u305f\u308a\u306b\u66f8\u304f\u3002</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">config/unicorn.rb</span></div><div class=\"highlight\"><pre><span class=\"n\">application</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;sample&#39;</span>\n\n<span class=\"n\">listen</span> <span class=\"s2\">&quot;/tmp/unicorn_</span><span class=\"si\">#{</span><span class=\"n\">application</span><span class=\"si\">}</span><span class=\"s2\">.sock&quot;</span>\n<span class=\"n\">pid</span> <span class=\"s2\">&quot;/tmp/unicorn_</span><span class=\"si\">#{</span><span class=\"n\">application</span><span class=\"si\">}</span><span class=\"s2\">.pid&quot;</span>\n\n<span class=\"n\">worker_processes</span> <span class=\"mi\">6</span>\n<span class=\"n\">preload_app</span> <span class=\"kp\">true</span>\n\n<span class=\"c1\"># capistrano \u7528\u306b RAILS_ROOT \u3092\u6307\u5b9a</span>\n<span class=\"n\">working_directory</span> <span class=\"s2\">&quot;/var/www/</span><span class=\"si\">#{</span><span class=\"n\">application</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span>\n\n<span class=\"k\">if</span> <span class=\"no\">ENV</span><span class=\"o\">[</span><span class=\"s1\">&#39;RAILS_ENV&#39;</span><span class=\"o\">]</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;production&#39;</span>\n  <span class=\"n\">shared_path</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;/var/www/</span><span class=\"si\">#{</span><span class=\"n\">application</span><span class=\"si\">}</span><span class=\"s2\">/shared&quot;</span>\n  <span class=\"n\">stderr_path</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;</span><span class=\"si\">#{</span><span class=\"n\">shared_path</span><span class=\"si\">}</span><span class=\"s2\">/log/unicorn.stderr.log&quot;</span>\n  <span class=\"n\">stdout_path</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;</span><span class=\"si\">#{</span><span class=\"n\">shared_path</span><span class=\"si\">}</span><span class=\"s2\">/log/unicorn.stdout.log&quot;</span>\n<span class=\"k\">end</span>\n\n<span class=\"c1\"># \u30ed\u30af\u3099</span>\n<span class=\"n\">stderr_path</span> <span class=\"no\">File</span><span class=\"o\">.</span><span class=\"n\">expand_path</span><span class=\"p\">(</span><span class=\"s1\">&#39;log/unicorn.log&#39;</span><span class=\"p\">,</span> <span class=\"no\">ENV</span><span class=\"o\">[</span><span class=\"s1\">&#39;RAILS_ROOT&#39;</span><span class=\"o\">]</span><span class=\"p\">)</span>\n<span class=\"n\">stdout_path</span> <span class=\"no\">File</span><span class=\"o\">.</span><span class=\"n\">expand_path</span><span class=\"p\">(</span><span class=\"s1\">&#39;log/unicorn.log&#39;</span><span class=\"p\">,</span> <span class=\"no\">ENV</span><span class=\"o\">[</span><span class=\"s1\">&#39;RAILS_ROOT&#39;</span><span class=\"o\">]</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># \u30bf\u3099\u30a6\u30f3\u30bf\u30a4\u30e0\u306a\u304f\u3059</span>\n<span class=\"n\">preload_app</span> <span class=\"kp\">true</span>\n\n<span class=\"n\">before_fork</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">server</span><span class=\"p\">,</span> <span class=\"n\">worker</span><span class=\"o\">|</span>\n  <span class=\"n\">defined?</span><span class=\"p\">(</span><span class=\"no\">ActiveRecord</span><span class=\"o\">::</span><span class=\"no\">Base</span><span class=\"p\">)</span> <span class=\"ow\">and</span> <span class=\"no\">ActiveRecord</span><span class=\"o\">::</span><span class=\"no\">Base</span><span class=\"o\">.</span><span class=\"n\">connection</span><span class=\"o\">.</span><span class=\"n\">disconnect!</span>\n\n  <span class=\"n\">old_pid</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;</span><span class=\"si\">#{</span> <span class=\"n\">server</span><span class=\"o\">.</span><span class=\"n\">config</span><span class=\"o\">[</span><span class=\"ss\">:pid</span><span class=\"o\">]</span> <span class=\"si\">}</span><span class=\"s2\">.oldbin&quot;</span>\n  <span class=\"k\">unless</span> <span class=\"n\">old_pid</span> <span class=\"o\">==</span> <span class=\"n\">server</span><span class=\"o\">.</span><span class=\"n\">pid</span>\n    <span class=\"k\">begin</span>\n      <span class=\"c1\"># SIGTTOU \u305f\u3099\u3068 worker_processes \u304b\u3099\u591a\u3044\u3068\u304d\u304a\u304b\u3057\u3044\u6c17\u304b\u3099\u3059\u308b</span>\n      <span class=\"no\">Process</span><span class=\"o\">.</span><span class=\"n\">kill</span> <span class=\"ss\">:QUIT</span><span class=\"p\">,</span> <span class=\"no\">File</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">(</span><span class=\"n\">old_pid</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">to_i</span>\n    <span class=\"k\">rescue</span> <span class=\"no\">Errno</span><span class=\"o\">::</span><span class=\"no\">ENOENT</span><span class=\"p\">,</span> <span class=\"no\">Errno</span><span class=\"o\">::</span><span class=\"no\">ESRCH</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">after_fork</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">server</span><span class=\"p\">,</span> <span class=\"n\">worker</span><span class=\"o\">|</span>\n  <span class=\"n\">defined?</span><span class=\"p\">(</span><span class=\"no\">ActiveRecord</span><span class=\"o\">::</span><span class=\"no\">Base</span><span class=\"p\">)</span> <span class=\"ow\">and</span> <span class=\"no\">ActiveRecord</span><span class=\"o\">::</span><span class=\"no\">Base</span><span class=\"o\">.</span><span class=\"n\">establish_connection</span>\n<span class=\"k\">end</span>\n</pre>\n</div>\n</div>\n<h2>6.Capistrano\u306e\u5c0e\u5165</h2>\n\n<p>(<a href=\"http://d.hatena.ne.jp/dkfj/20120228/1330434467%EF%BC%89%E3%81%AE%E8%A8%98%E4%BA%8B%E3%82%92%E5%8F%82%E8%80%83%E3%81%AB%E3%81%97%E3%81%9F%E3%80%82\">http://d.hatena.ne.jp/dkfj/20120228/1330434467\uff09\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u305f\u3002</a><br>\nGemfile\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\uff0cbundle install\u3092\u5b9f\u884c\u3059\u308b\u3002</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre><span class=\"err\">group</span> <span class=\"err\">:deployment</span> <span class=\"err\">do</span>\n  <span class=\"err\">gem</span> <span class=\"err\">&#39;capistrano&#39;</span>\n  <span class=\"err\">gem</span> <span class=\"err\">&#39;capistrano_colors&#39;</span>\n  <span class=\"err\">gem</span> <span class=\"err\">&#39;capistrano-ext&#39;</span>\n  <span class=\"err\">gem</span> <span class=\"err\">&#39;capistrano_rsync_with_remote_cache&#39;</span>\n<span class=\"err\">end</span>\n</pre>\n</div>\n</div>\n<p>\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u96db\u5f62\u3092\u4f5c\u6210\u3059\u308b\u3002</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre><span class=\"nv\">$</span> <span class=\"nv\">bundle</span> <span class=\"nb\">exec</span> <span class=\"n\">capify</span> <span class=\"o\">.</span> <span class=\"c1\"># gem install unicorn\u3057\u305f\u5834\u5408\u306fbundle exec\u306e\u90e8\u5206\u306f\u3044\u3089\u306a\u3044</span>\n</pre>\n</div>\n</div>\n<p><a href=\"http://d.hatena.ne.jp/ntaku/20111115/1321358900\">http://d.hatena.ne.jp/ntaku/20111115/1321358900</a><br>\n\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3001\u8a2d\u5b9a\u3092\u66f8\u3044\u305f\u3002</p>\n<div class=\"code-frame\"><div class=\"code-lang\"><span class=\"bold\">config/deploy.rb</span></div><div class=\"highlight\"><pre><span class=\"c1\"># capistrano\u306e\u51fa\u529b\u304b\u3099\u30ab\u30e9\u30fc\u306b\u306a\u308b</span>\n<span class=\"nb\">require</span> <span class=\"s1\">&#39;capistrano_colors&#39;</span>\n\n<span class=\"c1\"># cap deploy\u6642\u306b\u81ea\u52d5\u3066\u3099 bundle install \u304b\u3099\u5b9f\u884c\u3055\u308c\u308b</span>\n<span class=\"nb\">require</span> <span class=\"s2\">&quot;bundler/capistrano&quot;</span>\n\n<span class=\"c1\"># RVM\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u5fc5\u8981</span>\n<span class=\"vg\">$:</span><span class=\"o\">.</span><span class=\"n\">unshift</span><span class=\"p\">(</span><span class=\"no\">File</span><span class=\"o\">.</span><span class=\"n\">expand_path</span><span class=\"p\">(</span><span class=\"s1\">&#39;./lib&#39;</span><span class=\"p\">,</span> <span class=\"no\">ENV</span><span class=\"o\">[</span><span class=\"s1\">&#39;rvm_path&#39;</span><span class=\"o\">]</span><span class=\"p\">))</span>\n<span class=\"nb\">require</span> <span class=\"s1\">&#39;rvm/capistrano&#39;</span>\n<span class=\"n\">set</span> <span class=\"ss\">:rvm_ruby_string</span><span class=\"p\">,</span> <span class=\"s1\">&#39;1.9.2&#39;</span>\n<span class=\"n\">set</span> <span class=\"ss\">:rvm_type</span><span class=\"p\">,</span> <span class=\"ss\">:user</span>\n\n<span class=\"c1\"># \u30ea\u30db\u309a\u30b7\u3099\u30c8\u30ea\u306e\u8a2d\u5b9a</span>\n<span class=\"n\">set</span> <span class=\"ss\">:application</span><span class=\"p\">,</span> <span class=\"s2\">&quot;sample&quot;</span>\n<span class=\"n\">set</span> <span class=\"ss\">:repository</span><span class=\"p\">,</span>  <span class=\"s2\">&quot;git@bitbucket.org:y_uuki/</span><span class=\"si\">#{</span><span class=\"n\">application</span><span class=\"si\">}</span><span class=\"s2\">.git&quot;</span>\n<span class=\"n\">set</span> <span class=\"ss\">:scm</span><span class=\"p\">,</span> <span class=\"ss\">:git</span>\n<span class=\"n\">set</span> <span class=\"ss\">:branch</span><span class=\"p\">,</span> <span class=\"s2\">&quot;master&quot;</span>\n<span class=\"n\">set</span> <span class=\"ss\">:deploy_via</span><span class=\"p\">,</span> <span class=\"ss\">:remote_cache</span>\n<span class=\"n\">set</span> <span class=\"ss\">:deploy_to</span><span class=\"p\">,</span> <span class=\"s2\">&quot;/var/www/</span><span class=\"si\">#{</span><span class=\"n\">application</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span>\n<span class=\"n\">set</span> <span class=\"ss\">:rails_env</span><span class=\"p\">,</span> <span class=\"s2\">&quot;production&quot;</span>\n\n<span class=\"n\">role</span> <span class=\"ss\">:web</span><span class=\"p\">,</span> <span class=\"s2\">&quot;hoge.sakura.ne.jp:10000&quot;</span>  <span class=\"c1\">#\u30c6\u3099\u30d5\u309a\u30ed\u30a4\u5148SSH\u30db\u309a\u30fc\u30c8\u3092\u6307\u5b9a\uff08\u30c6\u3099\u30d5\u30a9\u30eb\u30c8\u306f22\uff09</span>\n<span class=\"n\">role</span> <span class=\"ss\">:app</span><span class=\"p\">,</span> <span class=\"s2\">&quot;hoge.sakura.ne.jp:10000&quot;</span>\n<span class=\"n\">role</span> <span class=\"ss\">:db</span><span class=\"p\">,</span>  <span class=\"s2\">&quot;hoge.sakura.ne.jp:10000&quot;</span><span class=\"p\">,</span> <span class=\"ss\">:primary</span> <span class=\"o\">=&gt;</span> <span class=\"kp\">true</span>\n\n<span class=\"c1\"># SSH\u306e\u8a2d\u5b9a</span>\n<span class=\"n\">set</span> <span class=\"ss\">:user</span><span class=\"p\">,</span> <span class=\"s2\">&quot;y_uuki&quot;</span>\n<span class=\"n\">ssh_options</span><span class=\"o\">[</span><span class=\"ss\">:port</span><span class=\"o\">]</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;xxxx&quot;</span>\n<span class=\"n\">ssh_options</span><span class=\"o\">[</span><span class=\"ss\">:forward_agent</span><span class=\"o\">]</span> <span class=\"o\">=</span> <span class=\"kp\">true</span>\n<span class=\"n\">default_run_options</span><span class=\"o\">[</span><span class=\"ss\">:pty</span><span class=\"o\">]</span> <span class=\"o\">=</span> <span class=\"kp\">true</span>\n\n<span class=\"c1\"># cap deploy:setup \u5f8c\u3001/var/www/ \u306e\u6a29\u9650\u5909\u66f4</span>\n<span class=\"n\">namespace</span> <span class=\"ss\">:setup</span> <span class=\"k\">do</span>\n  <span class=\"n\">task</span> <span class=\"ss\">:fix_permissions</span> <span class=\"k\">do</span>\n    <span class=\"n\">sudo</span> <span class=\"s2\">&quot;chown -R </span><span class=\"si\">#{</span><span class=\"n\">user</span><span class=\"si\">}</span><span class=\"s2\">.</span><span class=\"si\">#{</span><span class=\"n\">user</span><span class=\"si\">}</span><span class=\"s2\"> </span><span class=\"si\">#{</span><span class=\"n\">deploy_to</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n<span class=\"n\">after</span> <span class=\"s2\">&quot;deploy:setup&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;setup:fix_permissions&quot;</span>\n\n<span class=\"c1\"># Unicorn\u7528\u306b\u8d77\u52d5/\u505c\u6b62\u30bf\u30b9\u30af\u3092\u5909\u66f4</span>\n<span class=\"n\">namespace</span> <span class=\"ss\">:deploy</span> <span class=\"k\">do</span>\n  <span class=\"n\">task</span> <span class=\"ss\">:start</span><span class=\"p\">,</span> <span class=\"ss\">:roles</span> <span class=\"o\">=&gt;</span> <span class=\"ss\">:app</span> <span class=\"k\">do</span>\n    <span class=\"n\">run</span> <span class=\"s2\">&quot;cd </span><span class=\"si\">#{</span><span class=\"n\">current_path</span><span class=\"si\">}</span><span class=\"s2\">; bundle exec unicorn_rails -c config/unicorn.rb -E </span><span class=\"si\">#{</span><span class=\"n\">rails_env</span><span class=\"si\">}</span><span class=\"s2\"> -D&quot;</span>\n  <span class=\"k\">end</span>\n  <span class=\"n\">task</span> <span class=\"ss\">:restart</span><span class=\"p\">,</span> <span class=\"ss\">:roles</span> <span class=\"o\">=&gt;</span> <span class=\"ss\">:app</span> <span class=\"k\">do</span>\n    <span class=\"k\">if</span> <span class=\"no\">File</span><span class=\"o\">.</span><span class=\"n\">exist?</span> <span class=\"s2\">&quot;/tmp/unicorn_</span><span class=\"si\">#{</span><span class=\"n\">application</span><span class=\"si\">}</span><span class=\"s2\">.pid&quot;</span>\n      <span class=\"n\">run</span> <span class=\"s2\">&quot;kill -s USR2 `cat /tmp/unicorn_</span><span class=\"si\">#{</span><span class=\"n\">application</span><span class=\"si\">}</span><span class=\"s2\">.pid`&quot;</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n  <span class=\"n\">task</span> <span class=\"ss\">:stop</span><span class=\"p\">,</span> <span class=\"ss\">:roles</span> <span class=\"o\">=&gt;</span> <span class=\"ss\">:app</span> <span class=\"k\">do</span>\n    <span class=\"n\">run</span> <span class=\"s2\">&quot;kill -s QUIT `cat /tmp/unicorn.pid`&quot;</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"c1\"># Rails3.1.1\u306eProduction\u7528</span>\n<span class=\"n\">namespace</span> <span class=\"ss\">:assets</span> <span class=\"k\">do</span>\n  <span class=\"n\">task</span> <span class=\"ss\">:precompile</span><span class=\"p\">,</span> <span class=\"ss\">:roles</span> <span class=\"o\">=&gt;</span> <span class=\"ss\">:web</span> <span class=\"k\">do</span>\n    <span class=\"n\">run</span> <span class=\"s2\">&quot;cd </span><span class=\"si\">#{</span><span class=\"n\">current_path</span><span class=\"si\">}</span><span class=\"s2\"> &amp;&amp; RAILS_ENV=production bundle exec rake assets:precompile&quot;</span>\n  <span class=\"k\">end</span>\n  <span class=\"n\">task</span> <span class=\"ss\">:cleanup</span><span class=\"p\">,</span> <span class=\"ss\">:roles</span> <span class=\"o\">=&gt;</span> <span class=\"ss\">:web</span> <span class=\"k\">do</span>\n    <span class=\"n\">run</span> <span class=\"s2\">&quot;cd </span><span class=\"si\">#{</span><span class=\"n\">current_path</span><span class=\"si\">}</span><span class=\"s2\"> &amp;&amp; RAILS_ENV=production bundle exec rake assets:clean&quot;</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n<span class=\"n\">after</span> <span class=\"ss\">:deploy</span><span class=\"p\">,</span> <span class=\"s2\">&quot;assets:precompile&quot;</span>\n</pre>\n</div>\n</div>\n<p>\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u3044\u305f\u3089\u30ea\u30db\u309a\u30b7\u3099\u30c8\u30ea\u306b\u8ffd\u52a0\u30b3\u30fc\u30c8\u3099\u3092push\u3059\u308b\u3002</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre><span class=\"nv\">$</span> <span class=\"nv\">bundle</span> <span class=\"nb\">exec</span> <span class=\"n\">cap</span> <span class=\"n\">deploy:setup</span> <span class=\"c1\"># \u30c6\u3099\u30d5\u309a\u30ed\u30a4\u5148\u306b\u5fc5\u8981\u306a\u30c6\u3099\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210 \u521d\u56de\u306e\u307f</span>\n<span class=\"nv\">$</span> <span class=\"nv\">bundle</span> <span class=\"nb\">exec</span> <span class=\"n\">cap</span> <span class=\"n\">deploy</span> <span class=\"c1\"># \u30c6\u3099\u30d5\u309a\u30ed\u30a4\u5148\u3066\u3099git clone\u306a\u3068\u3099</span>\n<span class=\"nv\">$</span> <span class=\"nv\">bundle</span> <span class=\"nb\">exec</span> <span class=\"n\">cap</span> <span class=\"n\">deploy:migrate</span> <span class=\"c1\">#\u30c6\u3099\u30d5\u309a\u30ed\u30a4\u5148\u3066\u3099\u30de\u30a4\u30af\u3099\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c</span>\n<span class=\"nv\">$</span> <span class=\"nv\">bundle</span> <span class=\"nb\">exec</span> <span class=\"n\">cap</span> <span class=\"n\">deploy:start</span> <span class=\"c1\"># \u30c6\u3099\u30d5\u309a\u30ed\u30a4\u5148\u3066\u3099Unicorn\u8d77\u52d5</span>\n</pre>\n</div>\n</div>\n<p>\u624b\u5143\u306e\u30d5\u3099\u30e9\u30a6\u30b5\u3099\u304b\u3089\u4f5c\u6210\u3057\u305f\u30a2\u30d5\u309a\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c8\u30c3\u30d5\u309a\u753b\u9762\u304b\u3099\u8868\u793a\u3055\u308c\u308c\u306f\u3099\u304a\uff4b\u3002</p>\n\n<h2>7. \u307e\u3068\u3081\u3063\u307b\u309a\u3044\u306e</h2>\n\n<p>Nginx\u3068\u304bUnicorn\u3068\u304bCapistrano\u3068\u304b\u540d\u524d\u3092\u3088\u304f\u805e\u304f\u30b5\u30fc\u30cf\u3099\u30fb\u30c4\u30fc\u30eb\u7fa4\u305f\u3099\u3063\u305f\u304b\u3099\u3001\u305d\u306e\u5b9f\u614b\u3092\u77e5\u3089\u306a\u304b\u3063\u305f\u306e\u3066\u3099\u3001\u4eca\u56de\u306f\u3044\u3044\u7d4c\u9a13\u305f\u3099\u3063\u305f\u3002\u3081\u3093\u3068\u3099\u304f\u3055\u304b\u3063\u305f\u3051\u3068\u3099\u3002</p>\n\n<p>\u4ed6\u306b\u306fNginx+Unicorn\u306e\u4ee3\u308f\u308a\u306bApache+Passenger\uff08\u3053\u3063\u3061\u306e\u304b\u3099\u7c21\u5358\u3068\u3044\u3046\u30a6\u30ef\u30b5\u3082\uff09\u3068\u304b\u3082\u3042\u308b\u3089\u3057\u3044\u3002</p>\n\n<p>Nginx\u3068Unicorn\u306e\u30ef\u30fc\u30ab\u30fc\u306e\u6570\u306e\u6307\u5b9a\u3068\u304b\u9069\u5f53\u306a\u306e\u3066\u3099\u3001\u305d\u308c\u3089\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u7406\u89e3\u3057\u305f\u4e0a\u3066\u3099\u3061\u3083\u3093\u3068\u8a2d\u5b9a\u3057\u305f\u3044\u3002</p>\n","created_at":"2012-04-15 04:50:04 +0900","updated_at":"2012-07-14 17:38:24 +0900","created_at_in_words":"6\u30f6\u6708\u524d","updated_at_in_words":"3\u30f6\u6708\u524d","tags":[{"name":"nginx","url_name":"nginx","icon_url":"http://qiita.com/system/tags/icons/000/000/061/thumb/nginx_logo.gif?1336983666","item_count":30,"follower_count":195,"versions":[]},{"name":"Rails","url_name":"Rails","icon_url":"http://qiita.com/system/tags/icons/000/000/034/thumb/Ruby_on_Rails_logo.jpeg?1320170723","item_count":452,"follower_count":431,"versions":[]},{"name":"Ubuntu","url_name":"Ubuntu","icon_url":"http://qiita.com/system/tags/icons/000/000/177/thumb/cof_orange_hex1.png?1328714965","item_count":60,"follower_count":166,"versions":[]},{"name":"unicorn","url_name":"unicorn","icon_url":"http://qiita.com/icons/thumb/missing.png","item_count":6,"follower_count":9,"versions":[]},{"name":"capistrano","url_name":"capistrano","icon_url":"http://qiita.com/icons/thumb/missing.png","item_count":33,"follower_count":36,"versions":[]}],"stock_count":29,"stock_users":["YasuOza","wadako111@github","prototype_beta","kanpou_","shokuan","decobisu","rubihiko","inouetakuya","cucation","ooyabuh","yoppi@github","iyuuya","TakashiChi_ba","nagita_","ichi_s","kp_ohnishi","ShimojiK","ittancotton","hisa0507","shikataka"],"comment_count":0,"url":"http://qiita.com/items/118bce7b3a4acb545d79","gist_url":null,"private":false,"created_at_as_seconds":1334433004},{"id":4213,"uuid":"28c2dc66599a52060d8b","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"FB\u306e\u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u4f5c\u6210\u6642\u306b Invalid coordinates.\u3068\u306a\u308b\u554f\u984c\u306e\u5bfe\u51e6","body":"<h4>\u7b54\u3048: \u5165\u308c\u5b50\u306b\u306a\u3063\u3066\u308b\u8f9e\u66f8\u30aa\u30d5\u3099\u30b7\u3099\u30a7\u30af\u30c8\u3092JSON\u6587\u5b57\u5217\u5316\u3057\u307e\u3057\u3087\u3046\u3002</h4>\n<div class=\"code-frame\"><div class=\"highlight\"><pre><span class=\"s\">&#39;coordinates&#39;</span><span class=\"p\">:</span> <span class=\"n\">json</span><span class=\"p\">.</span><span class=\"n\">dumps</span><span class=\"p\">({</span> <span class=\"s\">&#39;latitude&#39;</span><span class=\"p\">:</span> <span class=\"n\">lat</span><span class=\"p\">,</span> <span class=\"s\">&#39;longitude&#39;</span><span class=\"p\">:</span> <span class=\"n\">lng</span> <span class=\"p\">})</span>\n</pre>\n</div>\n</div>\n<p>simplejson\u3092\u4f7f\u3063\u3066\u308b\u5834\u5408\u306f\uff0csimplejson.dump\u3092\u4f7f\u3046\u3002</p>\n\n<h4>\u904e\u7a0b\uff1a</h4>\n\n<p>\u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u95a2\u9023\u306eAPI\u306f\u5927\u304d\u304f\uff13\u7a2e\u985e\u306b\u5206\u3051\u3089\u308c\u308b\u3002<br>\n1. \u30b9\u30db\u309a\u30c3\u30c8\u306e\u691c\u7d22<br>\n2. \u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u306e\u691c\u7d22<br>\n3. \u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u306e\u4f5c\u6210<br>\n\u4eca\u56de\u306f3.\u3066\u3099\u30cf\u30de\u3063\u305f\u3002</p>\n\n<p>coordinates\u306b\u7def\u5ea6\u7d4c\u5ea6\u3092\u6307\u5b9a\u3059\u308b\u3093\u305f\u3099\u3051\u3068\u3099\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308b\u3068</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre>      <span class=\"n\">graph</span> <span class=\"p\">=</span> <span class=\"n\">GraphAPI</span><span class=\"p\">(</span><span class=\"n\">self</span><span class=\"p\">.</span><span class=\"n\">request</span><span class=\"p\">.</span><span class=\"n\">session</span><span class=\"p\">[</span><span class=\"s\">&#39;access_token&#39;</span><span class=\"p\">])</span>\n      <span class=\"n\">query</span> <span class=\"p\">=</span> <span class=\"p\">{</span>\n        <span class=\"s\">&#39;message&#39;</span><span class=\"p\">:</span> <span class=\"n\">self</span><span class=\"p\">.</span><span class=\"n\">request</span><span class=\"p\">.</span><span class=\"n\">values</span><span class=\"p\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s\">&#39;message&#39;</span><span class=\"p\">),</span>\n        <span class=\"s\">&#39;place&#39;</span><span class=\"p\">:</span> <span class=\"n\">self</span><span class=\"p\">.</span><span class=\"n\">place_id</span><span class=\"p\">,</span>\n        <span class=\"s\">&#39;coordinates&#39;</span><span class=\"p\">:</span> <span class=\"p\">{</span> <span class=\"s\">&#39;latitude&#39;</span><span class=\"p\">:</span> <span class=\"n\">lat</span><span class=\"p\">,</span> <span class=\"s\">&#39;longitude&#39;</span><span class=\"p\">:</span> <span class=\"n\">lng</span> <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n      <span class=\"n\">response</span> <span class=\"p\">=</span> <span class=\"n\">graph</span><span class=\"p\">.</span><span class=\"n\">request</span><span class=\"p\">(</span><span class=\"s\">&#39;me/checkins&#39;</span><span class=\"p\">,</span> <span class=\"n\">post_args</span><span class=\"p\">=</span><span class=\"n\">query</span><span class=\"p\">)</span>\n</pre>\n</div>\n</div><div class=\"code-frame\"><div class=\"highlight\"><pre><span class=\"p\">(</span>#160<span class=\"p\">)</span> <span class=\"n\">Invalid</span> <span class=\"n\">coordinates</span><span class=\"p\">.</span>  <span class=\"n\">Coordinates</span> <span class=\"n\">must</span> <span class=\"n\">contain</span> <span class=\"n\">at</span> <span class=\"n\">least</span> <span class=\"n\">latitude</span><span class=\"p\">,</span> <span class=\"n\">and</span> <span class=\"n\">longitude</span><span class=\"p\">.</span>\n</pre>\n</div>\n</div>\n<p>\u3068\u304b\u6012\u3089\u308c\u308b\u3002\u3044\u3084\uff0clatitude\u3068longitude\u6307\u5b9a\u3057\u3066\u308b\u3093\u3066\u3099\u3059\u304b\u3099...</p>\n\n<p>\u3044\u308d\u3044\u308d\u30af\u3099\u30af\u3099\u3063\u3066\u307f\u3066\u7d50\u5c40\u3001urllib.urlencode\u306f\u3001\u5165\u308c\u5b50\u306b\u306a\u3063\u3066\u308b\u8f9e\u66f8\u30aa\u30d5\u3099\u30b7\u3099\u30a7\u30af\u30c8\u3092\u6587\u5b57\u5217\u5316\u3057\u306a\u3044\u305f\u3081\uff08\u5f53\u305f\u308a\u524d\uff09\u3001URL\u30a8\u30f3\u30b3\u30fc\u30c8\u3099\u6642\u306b\u8f9e\u66f8\u30aa\u30d5\u3099\u30b7\u3099\u30a7\u30af\u30c8\u305d\u306e\u3082\u306e\u3092\u30a8\u30f3\u30b3\u30fc\u30c8\u3099\u3057\u3066\u3044\u305f\u3053\u3068\u304b\u3099\u308f\u304b\u3063\u305f\u3002</p>\n\n<p>\u3057\u305f\u304b\u3099\u3063\u3066\u3001\u4e0a\u8a18\u306e\u3088\u3046\u306bjson.dumps\u3059\u308b\u5fc5\u8981\u304b\u3099\u3042\u308b\u3002</p>\n\n<p>(<a href=\"http://facebook-docs.oklahome.net/archives/51913687.html)%E3%81%AE%E8%A8%98%E4%BA%8B%E3%82%92%E5%8F%82%E8%80%83%E3%81%AB%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F%E3%80%82\">http:&#47;&#47;facebook-docs.oklahome.net&#47;archives&#47;51913687.html)\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002</a><br>\n\u307e\u305f\u3001API\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u306f\u30b3\u30c1\u30e9(<a href=\"https://developers.facebook.com/docs/reference/api/checkin/\">https:&#47;&#47;developers.facebook.com&#47;docs&#47;reference&#47;api&#47;checkin&#47;</a>)</p>\n","created_at":"2012-04-14 18:06:37 +0900","updated_at":"2012-04-14 18:06:37 +0900","created_at_in_words":"6\u30f6\u6708\u524d","updated_at_in_words":"6\u30f6\u6708\u524d","tags":[{"name":"Python","url_name":"Python","icon_url":"http://qiita.com/system/tags/icons/000/000/004/thumb/search.gif?1316130880","item_count":211,"follower_count":1545,"versions":[]},{"name":"facebook","url_name":"facebook","icon_url":"http://qiita.com/system/tags/icons/000/000/053/thumb/facebook-icon.png?1328783029","item_count":38,"follower_count":147,"versions":[]}],"stock_count":1,"stock_users":["mrfj"],"comment_count":0,"url":"http://qiita.com/items/28c2dc66599a52060d8b","gist_url":null,"private":false,"created_at_as_seconds":1334394397},{"id":4003,"uuid":"488162d5b52b7c69a0d6","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"Python\u3066\u3099\u30ab\u30f3\u30de\u533a\u5207\u308a\u306e\u30cf\u309a\u30e9\u30e1\u30fc\u30bf\u3092urllib.urlencode\u3059\u308b\u3068\u30ab\u30f3\u30de\u304b\u3099%\u30a8\u30f3\u30b3\u30fc\u30c8\u3099\u3055\u308c\u3066\u3057\u307e\u3046","body":"<p>\u73fe\u5728\u5730\u306e\u7def\u5ea6\u7d4c\u5ea6\u3092\u6e21\u3057\u3066\u4ed8\u8fd1\u306e\u30b9\u30db\u309a\u30c3\u30c8\u3092\u691c\u7d22\u3066\u3099\u304d\u308bFacebook API\u304b\u3099\u3042\u308b\u3002<br>\n\u3053\u306eAPI\u3092\u53e9\u304f\u306b\u306f\u6b21\u306e\u3088\u3046\u306a\u30af\u30a8\u30ea\u3092\u6295\u3051\u3099\u308b\u5fc5\u8981\u304b\u3099\u3042\u308b\u3002</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre><span class=\"n\">https</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">graph</span><span class=\"p\">.</span><span class=\"n\">facebook</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"o\">/</span><span class=\"n\">search</span>?<span class=\"n\">type</span><span class=\"p\">=</span><span class=\"n\">place</span><span class=\"o\">&amp;</span><span class=\"n\">center</span><span class=\"p\">=</span>35<span class=\"p\">.</span>658586<span class=\"p\">,</span>139<span class=\"p\">.</span>70313499999997<span class=\"o\">&amp;</span><span class=\"n\">distance</span><span class=\"p\">=</span>500<span class=\"o\">&amp;</span><span class=\"n\">access_token</span><span class=\"p\">=</span><span class=\"n\">XXXXX</span>\n</pre>\n</div>\n</div>\n<p>\u3053\u306e\u30af\u30a8\u30ea\u3092GraphAPI.request\u30e1\u30bd\u30c3\u30c8\u3099\u3092\u4f7f\u3063\u3066\u6295\u3051\u3099\u3088\u3046\u3068\u3059\u308b\u3068\u3001urllib.urlencode\u306b\u3088\u308a\u30ab\u30f3\u30de\u304b\u3099%\u30a8\u30f3\u30b3\u30fc\u30c8\u3099\u3055\u308c\u3066\u3057\u307e\u3063\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u304b\u3099\u5931\u6557\u3059\u308b\u3002</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre><span class=\"n\">graph</span> <span class=\"p\">=</span> <span class=\"n\">GraphAPI</span><span class=\"p\">(</span><span class=\"n\">access_token</span><span class=\"p\">)</span>\n<span class=\"n\">query</span> <span class=\"p\">=</span> <span class=\"p\">{</span> <span class=\"s\">&#39;q&#39;</span><span class=\"p\">:</span>        <span class=\"n\">self</span><span class=\"p\">.</span><span class=\"n\">request</span><span class=\"p\">.</span><span class=\"n\">values</span><span class=\"p\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s\">&#39;keyword&#39;</span><span class=\"p\">),</span>\n          <span class=\"s\">&#39;type&#39;</span><span class=\"p\">:</span>     <span class=\"s\">&#39;place&#39;</span><span class=\"p\">,</span>\n          <span class=\"s\">&#39;center&#39;</span><span class=\"p\">:</span>   <span class=\"s\">&#39;,&#39;</span><span class=\"p\">.</span><span class=\"n\">join</span><span class=\"p\">([</span><span class=\"n\">lat</span><span class=\"p\">,</span> <span class=\"n\">lng</span><span class=\"p\">]),</span>\n          <span class=\"s\">&#39;distance&#39;</span><span class=\"p\">:</span> 500 <span class=\"p\">}</span>\n<span class=\"n\">places</span> <span class=\"p\">=</span> <span class=\"n\">graph</span><span class=\"p\">.</span><span class=\"n\">request</span><span class=\"p\">(</span><span class=\"s\">&#39;search&#39;</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"p\">=</span><span class=\"n\">query</span><span class=\"p\">)</span>\n\n\n\u2026\u2026\n\n\n<span class=\"n\">def</span> <span class=\"n\">request</span><span class=\"p\">(</span><span class=\"n\">self</span><span class=\"p\">,</span> <span class=\"n\">path</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"p\">=</span><span class=\"n\">None</span><span class=\"p\">,</span> <span class=\"n\">post_args</span><span class=\"p\">=</span><span class=\"n\">None</span><span class=\"p\">):</span>\n\u2026\n\n          <span class=\"n\">content</span> <span class=\"p\">=</span> <span class=\"n\">urlfetch</span><span class=\"p\">.</span><span class=\"n\">fetch</span><span class=\"p\">(</span>&quot;<span class=\"n\">https</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">graph</span><span class=\"p\">.</span><span class=\"n\">facebook</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"o\">/</span>&quot; <span class=\"o\">+</span> <span class=\"n\">path</span> <span class=\"o\">+</span> &quot;?&quot; <span class=\"o\">+</span> <span class=\"n\">urllib</span><span class=\"p\">.</span><span class=\"n\">urlencode</span><span class=\"p\">(</span><span class=\"n\">args</span><span class=\"p\">),</span> <span class=\"n\">deadline</span><span class=\"p\">=</span>30<span class=\"p\">,</span> <span class=\"n\">validate_certificate</span><span class=\"p\">=</span><span class=\"n\">False</span><span class=\"p\">).</span><span class=\"n\">content</span>\n\n<span class=\"p\">...</span>\n</pre>\n</div>\n</div>\n<p>\u305d\u3053\u3066\u3099\u4ed5\u65b9\u306a\u304f\u6b21\u306e\u3088\u3046\u306a\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u30e1\u30bd\u30c3\u30c8\u3099\u3092\u5b9f\u88c5\u3057\u305f\u3002<br>\n\u30ab\u30f3\u30de\u90e8\u5206\u306f\uff0curlencode\u3057\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3002</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre><span class=\"n\">def</span> <span class=\"n\">fb_search_places</span><span class=\"p\">(</span><span class=\"n\">token</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">center</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">args</span><span class=\"p\">):</span>\n  <span class=\"k\">if</span> <span class=\"n\">not</span> <span class=\"n\">args</span><span class=\"p\">:</span> <span class=\"n\">args</span> <span class=\"p\">=</span> <span class=\"p\">{}</span>\n  <span class=\"k\">if</span> <span class=\"n\">center</span><span class=\"p\">:</span>\n    <span class=\"k\">if</span> <span class=\"n\">token</span><span class=\"p\">:</span>\n      <span class=\"n\">args</span><span class=\"p\">[</span>&quot;<span class=\"n\">access_token</span>&quot;<span class=\"p\">]</span> <span class=\"p\">=</span> <span class=\"n\">token</span>\n      <span class=\"n\">r</span> <span class=\"p\">=</span> <span class=\"n\">urlfetch</span><span class=\"p\">.</span><span class=\"n\">fetch</span><span class=\"p\">(</span>&quot;<span class=\"n\">https</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">graph</span><span class=\"p\">.</span><span class=\"n\">facebook</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"o\">/</span><span class=\"n\">search</span>?<span class=\"n\">type</span><span class=\"p\">=</span><span class=\"n\">place</span><span class=\"o\">&amp;</span><span class=\"n\">center</span><span class=\"p\">=</span>&quot; <span class=\"o\">+</span> &quot;<span class=\"p\">,</span>&quot;<span class=\"p\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">center</span><span class=\"p\">)</span> <span class=\"o\">+</span> &quot;<span class=\"o\">&amp;</span>&quot; <span class=\"o\">+</span> <span class=\"n\">urllib</span><span class=\"p\">.</span><span class=\"n\">urlencode</span><span class=\"p\">(</span><span class=\"n\">args</span><span class=\"p\">),</span> <span class=\"n\">deadline</span><span class=\"p\">=</span>30<span class=\"p\">,</span> <span class=\"n\">validate_certificate</span><span class=\"p\">=</span><span class=\"n\">False</span><span class=\"p\">)</span>\n      <span class=\"n\">places</span> <span class=\"p\">=</span> <span class=\"n\">json</span><span class=\"p\">.</span><span class=\"n\">loads</span><span class=\"p\">(</span><span class=\"n\">r</span><span class=\"p\">.</span><span class=\"n\">content</span><span class=\"p\">)</span>\n    <span class=\"k\">else</span><span class=\"p\">:</span>\n      <span class=\"k\">return</span> <span class=\"n\">None</span>\n    <span class=\"k\">if</span> <span class=\"n\">isinstance</span><span class=\"p\">(</span><span class=\"n\">places</span><span class=\"p\">,</span> <span class=\"n\">dict</span><span class=\"p\">)</span> <span class=\"n\">and</span> <span class=\"n\">places</span><span class=\"p\">.</span><span class=\"n\">get</span><span class=\"p\">(</span>&quot;<span class=\"n\">error</span>&quot;<span class=\"p\">):</span>\n      <span class=\"n\">raise</span> <span class=\"n\">FacebookAPIError</span><span class=\"p\">(</span><span class=\"n\">places</span><span class=\"p\">[</span>&quot;<span class=\"n\">error</span>&quot;<span class=\"p\">][</span>&quot;<span class=\"n\">type</span>&quot;<span class=\"p\">],</span>\n                          <span class=\"n\">places</span><span class=\"p\">[</span>&quot;<span class=\"n\">error</span>&quot;<span class=\"p\">][</span>&quot;<span class=\"n\">message</span>&quot;<span class=\"p\">])</span>\n    <span class=\"k\">return</span> <span class=\"n\">places</span>\n\n<span class=\"n\">class</span> <span class=\"n\">FacebookAPIError</span><span class=\"p\">(</span><span class=\"n\">Exception</span><span class=\"p\">):</span>\n  <span class=\"n\">def</span> <span class=\"n\">__init__</span><span class=\"p\">(</span><span class=\"n\">self</span><span class=\"p\">,</span> <span class=\"n\">type</span><span class=\"p\">,</span> <span class=\"n\">message</span><span class=\"p\">):</span>\n    <span class=\"n\">Exception</span><span class=\"p\">.</span><span class=\"n\">__init__</span><span class=\"p\">(</span><span class=\"n\">self</span><span class=\"p\">,</span> <span class=\"n\">message</span><span class=\"p\">)</span>\n    <span class=\"n\">self</span><span class=\"p\">.</span><span class=\"n\">type</span> <span class=\"p\">=</span> <span class=\"n\">type</span>\n</pre>\n</div>\n</div>","created_at":"2012-04-11 00:15:21 +0900","updated_at":"2012-04-13 16:06:06 +0900","created_at_in_words":"6\u30f6\u6708\u524d","updated_at_in_words":"6\u30f6\u6708\u524d","tags":[{"name":"Python","url_name":"Python","icon_url":"http://qiita.com/system/tags/icons/000/000/004/thumb/search.gif?1316130880","item_count":211,"follower_count":1545,"versions":[]},{"name":"facebook","url_name":"facebook","icon_url":"http://qiita.com/system/tags/icons/000/000/053/thumb/facebook-icon.png?1328783029","item_count":38,"follower_count":147,"versions":[]}],"stock_count":2,"stock_users":["giwa@github","a_yasui"],"comment_count":0,"url":"http://qiita.com/items/488162d5b52b7c69a0d6","gist_url":null,"private":false,"created_at_as_seconds":1334070921},{"id":3847,"uuid":"41c0a4334ca0706c7107","user":{"name":"Yuuki Tsubouchi","url_name":"y_uuki_","profile_image_url":"https://si0.twimg.com/profile_images/2300728190/Apple-hearing-moved-to-next-year_normal.jpg"},"title":"Ruby\u3066\u3099\u914d\u5217\u8981\u7d20\u3092\u8907\u6570\u500b\u3059\u3099\u3064\u53d6\u5f97\u3057\u306a\u304b\u3099\u3089\u30eb\u30fc\u30d5\u309a\u3055\u305b\u308b\u65b9\u6cd5","body":"<p>for\u3084each\u3066\u3099\u306f\u3001\u914d\u5217\u7528\u3092\u30921\u500b\u3059\u3099\u3064\u3057\u304b\u53d6\u5f97\u3066\u3099\u304d\u306a\u3044\u3002<br>\n\u305d\u3053\u3066\u3099\u914d\u5217\u8981\u7d20\u3092\u8907\u6570\u500b\u3059\u3099\u3064\u53d6\u5f97\u3059\u308b\u305f\u3081\u306b\uff0cArray\u30af\u30e9\u30b9\u306b\u4ee5\u4e0b\u306e\u30e1\u30bd\u30c3\u30c8\u3099\u3092\u8ffd\u52a0\u3059\u308b\u3002</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre><span class=\"n\">class</span> <span class=\"n\">Array</span>\n    <span class=\"n\">def</span> <span class=\"n\">each_by</span><span class=\"p\">(</span><span class=\"n\">num</span><span class=\"p\">)</span>\n        0<span class=\"p\">.</span><span class=\"n\">step</span><span class=\"p\">(</span><span class=\"n\">self</span><span class=\"p\">.</span><span class=\"nb\">size</span><span class=\"p\">,</span> <span class=\"n\">num</span><span class=\"p\">)</span> <span class=\"n\">do</span> <span class=\"o\">|</span><span class=\"nb\">i</span><span class=\"o\">|</span>\n            <span class=\"n\">yield</span> <span class=\"n\">self</span><span class=\"p\">[</span><span class=\"nb\">i</span><span class=\"p\">,</span><span class=\"n\">num</span><span class=\"p\">]</span>\n        <span class=\"k\">end</span>\n    <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">cocktails</span> <span class=\"p\">=</span> <span class=\"p\">[</span>&quot;<span class=\"n\">Matini</span>&quot;<span class=\"p\">,</span> &quot;<span class=\"n\">Daiquiri</span>&quot;<span class=\"p\">,</span> &quot;<span class=\"n\">Gimlet</span>&quot;\uff0c&quot;<span class=\"n\">Manhattan</span>&quot;\uff0c&quot;<span class=\"n\">Mojito</span>&quot;<span class=\"p\">]</span>\n<span class=\"n\">cocktails</span><span class=\"p\">.</span><span class=\"n\">each_by</span><span class=\"p\">(</span>2<span class=\"p\">)</span> <span class=\"n\">do</span> <span class=\"o\">|</span><span class=\"nb\">i</span><span class=\"o\">|</span>\n    <span class=\"n\">puts</span> <span class=\"nb\">i</span><span class=\"p\">[</span>0<span class=\"p\">]</span> <span class=\"o\">+</span> &quot; &quot; <span class=\"o\">+</span> <span class=\"nb\">i</span><span class=\"p\">[</span>1<span class=\"p\">]</span>\n<span class=\"k\">end</span>\n</pre>\n</div>\n</div><div class=\"code-frame\"><div class=\"highlight\"><pre><span class=\"n\">Matini</span> <span class=\"n\">Daiquiri</span>\n<span class=\"n\">Gimlet</span> <span class=\"n\">Manhattan</span>\n<span class=\"n\">Mojito</span>\n</pre>\n</div>\n</div>\n<p>\u90e8\u5206\u7684\u306b\u3057\u304b\u4f7f\u308f\u306a\u3044\u5834\u5408\uff0c\u7279\u7570\u30e1\u30bd\u30c3\u30c8\u3099\u306b\u3059\u308b\u306e\u3082\u3042\u308a\u304b\u3002</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre><span class=\"n\">def</span> <span class=\"n\">cocktails</span><span class=\"p\">.</span><span class=\"n\">each_by</span><span class=\"p\">(</span><span class=\"n\">num</span><span class=\"p\">)</span>\n    0<span class=\"p\">.</span><span class=\"n\">step</span><span class=\"p\">(</span><span class=\"n\">self</span><span class=\"p\">.</span><span class=\"nb\">size</span><span class=\"p\">,</span> <span class=\"n\">num</span><span class=\"p\">)</span> <span class=\"n\">do</span> <span class=\"o\">|</span><span class=\"nb\">i</span><span class=\"o\">|</span>\n        <span class=\"n\">yield</span> <span class=\"n\">self</span><span class=\"p\">[</span><span class=\"nb\">i</span><span class=\"p\">,</span><span class=\"n\">num</span><span class=\"p\">]</span>\n    <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</pre>\n</div>\n</div>\n<p>\u3084\u308a\u65b9\u3053\u308c\u304f\u3089\u3044\u3057\u304b\u601d\u3044\u3064\u304b\u306a\u304b\u3063\u305f...</p>\n\n<h3>\u8ffd\u8a18</h3>\n\n<p>@Glass_saga\u3055\u3093\u306b\u3082\u3063\u3068\u30b9\u30de\u30fc\u30c8\u306a\u65b9\u6cd5\u3092\u6559\u3048\u3066\u3044\u305f\u305f\u3099\u304d\u307e\u3057\u305f\u3002<br>\nEnumerator\u30e2\u30b7\u3099\u30e5\u30fc\u30eb\u306b\u3042\u308beach_slice\u3092\u4f7f\u3048\u306f\u3099\u4e00\u767a\u3068\u306e\u3053\u3068\uff0e</p>\n<div class=\"code-frame\"><div class=\"highlight\"><pre>    <span class=\"n\">cocktails</span><span class=\"p\">.</span><span class=\"n\">each_slice</span><span class=\"p\">(</span>2<span class=\"p\">)</span> <span class=\"n\">do</span> <span class=\"o\">|</span><span class=\"nb\">i</span><span class=\"o\">|</span>\n        <span class=\"n\">puts</span> <span class=\"nb\">i</span><span class=\"p\">[</span>0<span class=\"p\">]</span> <span class=\"o\">+</span> &quot; &quot; <span class=\"o\">+</span> <span class=\"nb\">i</span><span class=\"p\">[</span>1<span class=\"p\">]</span>\n    <span class=\"k\">end</span>\n</pre>\n</div>\n</div>","created_at":"2012-04-07 23:02:54 +0900","updated_at":"2012-04-07 23:12:13 +0900","created_at_in_words":"6\u30f6\u6708\u524d","updated_at_in_words":"6\u30f6\u6708\u524d","tags":[{"name":"Ruby","url_name":"Ruby","icon_url":"http://qiita.com/system/tags/icons/000/000/003/thumb/ruby.jpeg?1316130908","item_count":778,"follower_count":2710,"versions":[]}],"stock_count":1,"stock_users":["yaotti"],"comment_count":3,"url":"http://qiita.com/items/41c0a4334ca0706c7107","gist_url":null,"private":false,"created_at_as_seconds":1333807374}]